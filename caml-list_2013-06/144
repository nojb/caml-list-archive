Return-Path: <mmatalka@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id E9CD881793
	for <caml-list@sympa.inria.fr>; Mon, 24 Jun 2013 14:11:00 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  mmatalka@gmail.com) identity=pra; client-ip=74.125.82.175;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="mmatalka@gmail.com";
  x-sender="mmatalka@gmail.com"; x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  mmatalka@gmail.com designates 74.125.82.175 as permitted
  sender) identity=mailfrom; client-ip=74.125.82.175;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="mmatalka@gmail.com";
  x-sender="mmatalka@gmail.com"; x-conformance=sidf_compatible;
  x-record-type="v=spf1"
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-we0-f175.google.com) identity=helo;
  client-ip=74.125.82.175;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="mmatalka@gmail.com";
  x-sender="postmaster@mail-we0-f175.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AtwBAPE2yFFKfVKvjWdsb2JhbABbgzpJrRSJZ4g7dggWDgEBAQEHCwsJEgYkgiMBAQQBQAEbEgsBAwELBgULDQ0aByEBAREBBQEKAQMBDQYTCAoCBodhAQMJBgycMIxNgn+ECAoZJwMKWId0AQUMjFyCYwQHg2MDk3GBa4FngSmKd4M/FimEUiA
X-IPAS-Result: AtwBAPE2yFFKfVKvjWdsb2JhbABbgzpJrRSJZ4g7dggWDgEBAQEHCwsJEgYkgiMBAQQBQAEbEgsBAwELBgULDQ0aByEBAREBBQEKAQMBDQYTCAoCBodhAQMJBgycMIxNgn+ECAoZJwMKWId0AQUMjFyCYwQHg2MDk3GBa4FngSmKd4M/FimEUiA
X-IronPort-AV: E=Sophos;i="4.87,928,1363129200"; 
   d="scan'208";a="23099099"
Received: from mail-we0-f175.google.com ([74.125.82.175])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/RC4-SHA; 24 Jun 2013 14:11:00 +0200
Received: by mail-we0-f175.google.com with SMTP id t59so8275282wes.34
        for <caml-list@inria.fr>; Mon, 24 Jun 2013 05:11:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        bh=I1blbtoBldUsHKCfR9bdax9xumAXtclYHKn1crT3cyg=;
        b=n/8kz4W+HaCNUZvEIVwfkydio96xY86HlnStvvWbajGEBroHpikCrMSjsB0PaeWGdj
         43YY+mmBKOgGrKib6kkdoR1W7CQRlhY4HIMiQxHwwvV8zGTOJ3pOXGAMw+UTwg0d19x5
         M66SYWAXyB2gL1S08j+PsDy9qn9cEB4eeO5V0c6ra152i2OQAagmKYiuym0n6QaobdYt
         rwRWMP6Ce9svRAz+VkQEDa0v1FUx9JFRsNkjyOXsckrhVoi+aTdbs7pbnzQtXXFsR9V6
         DolrJty1sFua02ka7m9L+gPBbyPKw/aijX62R6i6jHQs9FtW2N8+7gxNIKGezsVDUVvy
         Kvfw==
MIME-Version: 1.0
X-Received: by 10.180.188.36 with SMTP id fx4mr2886969wic.55.1372075859933;
 Mon, 24 Jun 2013 05:10:59 -0700 (PDT)
Received: by 10.194.44.33 with HTTP; Mon, 24 Jun 2013 05:10:59 -0700 (PDT)
Received: by 10.194.44.33 with HTTP; Mon, 24 Jun 2013 05:10:59 -0700 (PDT)
In-Reply-To: <51C81B39.8040400@gmail.com>
References: <sympa.1372064594.15713.40@inria.fr>
	<E51C5B015DBD1348A1D85763337FB6D9CC8677FE@Remus.metastack.local>
	<CAB-rfD0vdWWtvVaBsJoXJeU63EXhuyAK-j6mifW8h9E4spB-Uw@mail.gmail.com>
	<51C81B39.8040400@gmail.com>
Date: Mon, 24 Jun 2013 08:10:59 -0400
Message-ID: <CAKziXDUWQ8kKotkC0AN7c5thiL9W42yXdSBroQVJurAVOrx6EQ@mail.gmail.com>
From: Malcolm Matalka <mmatalka@gmail.com>
To: Jonathan Protzenko <jonathan.protzenko@gmail.com>
Cc: caml-list <caml-list@inria.fr>, Bikal Gurung <bikal.gurung@lemaetech.co.uk>, 
	David Allsopp <dra-news@metastack.com>
Content-Type: multipart/alternative; boundary=001a11c25cd83c813d04dfe54ec5
Subject: Re: [Caml-list] Ocaml on windows


--001a11c25cd83c813d04dfe54ec5
Content-Type: text/plain; charset=ISO-8859-1

Out of curiosity: why not opt for F#?
On Jun 24, 2013 12:11 PM, "Jonathan Protzenko" <jonathan.protzenko@gmail.com>
wrote:

> On Mon 24 Jun 2013 12:01:06 PM CEST, Bikal Gurung wrote:
> > Hi David,
> >
> > Thank you for your response. I have installed the official windows
> > port of ocaml at http://protz.github.io/ocaml-installer/ . However, it
> > mentions that MinGW/Msys is no longer supported. I rather use
> > Mingw/Msys as well.
> There are quite a few things that make working with msys painful, which
> is the reason why I switched the installer to cygwin. The installer
> still is a 32-bit native windows program, and still generates 32-bit
> native windows programs. It's just that cygwin is an easy way to get a
> toolchain and a unix-like development environment, which ocaml kind of
> needs in order to work right (without it, you only get bytecode
> compilation).
> - The main problem is that OCaml is, by default, configured to search
> executables from the toolchain with the i686-pc-mingw-whatever prefix,
> that is, the one that the mingw-w64 compilers have, when installed
> through cygwin.
> - The second biggest problem is with flexdll which, IIRC, hardcodes the
> use of the mingw-w64 compilers (32-bit compilers from the mingw-w64
> project). Msys, on the other hand, uses the mingw compilers (the
> original mingw project), and the location of the libraries /
> executables is slightly different, or maybe flexdll doesn't auto-detect
> the right locations for crt2.o and friends, meaning it's painful as you
> have to manually export FLEXLINKFLAGS. At some point, it became almost
> impossible to have that combination working. I think flexdll started to
> hardcode the i686-pc-mingw prefix at some point, and there's no
> ready-made, easy to install mingw-w64/msys bundle available, as far as
> I know.
> - OCamlbuild relies on bash being available in the path to run its
> external commands ; an easy way to have this is to have a cygwin
> development environment. This is a know issue that no one has stepped
> up to fix on windows.
> - Finally, the quoting conventions, IIRC, are subtly different between
> mingw/msys and cygwin, and OCaml is tailored to cygwin.
>
> For all these reasons, cygwin sounds like a better choice for you
> working environment on windows. But I believe msys is still possible.
> If there's something that prevents you from having it work properly, I
> think we (the team) would be happy to know about it.
>
> Cheers,
>
> jonathan
> >
> > It seems ocamlbuild requires cygwin to work, has this been your
> > experience too? If I build the latest ocaml from trunk - 4.02dev+fp
> > will ocaml and other tools/utilities still work on pure MingWg/Msys
> > environment?
> >
> > With regards to ocaml libraries, have you tried the Jane Street
> > packages? Core, core_kernel ?
> >
> > Bikal Gurung
> >
> >
> > On 24 June 2013 10:27, David Allsopp <dra-news@metastack.com
> > <mailto:dra-news@metastack.com>> wrote:
> >
> >     Bikal Gurung wrote:
> >     > I am looking to use ocaml to implement a project for my
> >     employer. However,
> >     > the environment is Windows OS. I am using cygwin and so far it
> >     seems to
> >     > work but curious on experiences others have on using ocaml on
> >     windows -
> >     > both as a development and deployment platform. Also has anyone
> >     tried using
> >     > opam on windows? Does it work?
> >
> >     I've used the MinGW Windows port of OCaml for nearly a decade.
> >     Deployment of programs is the same as deploying anything else on
> >     Windows - deploying using executables built with ocamlopt is of
> >     course trivial as they have no dependencies beyond any libraries
> >     you choose to use.
> >
> >     Partly because of how long I've used OCaml, I still build it from
> >     sources - but there are now several options including the packaged
> >     Windows installer, GODI/WODI, etc. Although Windows OCaml users
> >     are a minority, there are quite a few developers actively
> >     contributing (the recent 64-bit MinGW port was
> >     community-initiated, I think).
> >
> >     Last time I looked, Windows support for opam appeared to be a todo
> >     list item, but I haven't looked in a while (laziness... I already
> >     have parallel build scripts of my own, so a package manager is
> >     lower down my priority list)
> >
> >     HTH,
> >
> >
> >     David
> >
> >
>
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs
>

--001a11c25cd83c813d04dfe54ec5
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<p dir=3D"ltr">Out of curiosity: why not opt for F#?</p>
<div class=3D"gmail_quote">On Jun 24, 2013 12:11 PM, &quot;Jonathan Protzen=
ko&quot; &lt;<a href=3D"mailto:jonathan.protzenko@gmail.com">jonathan.protz=
enko@gmail.com</a>&gt; wrote:<br type=3D"attribution"><blockquote class=3D"=
gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-=
left:1ex">
On Mon 24 Jun 2013 12:01:06 PM CEST, Bikal Gurung wrote:<br>
&gt; Hi David,<br>
&gt;<br>
&gt; Thank you for your response. I have installed the official windows<br>
&gt; port of ocaml at <a href=3D"http://protz.github.io/ocaml-installer/" t=
arget=3D"_blank">http://protz.github.io/ocaml-installer/</a> . However, it<=
br>
&gt; mentions that MinGW/Msys is no longer supported. I rather use<br>
&gt; Mingw/Msys as well.<br>
There are quite a few things that make working with msys painful, which<br>
is the reason why I switched the installer to cygwin. The installer<br>
still is a 32-bit native windows program, and still generates 32-bit<br>
native windows programs. It&#39;s just that cygwin is an easy way to get a<=
br>
toolchain and a unix-like development environment, which ocaml kind of<br>
needs in order to work right (without it, you only get bytecode<br>
compilation).<br>
- The main problem is that OCaml is, by default, configured to search<br>
executables from the toolchain with the i686-pc-mingw-whatever prefix,<br>
that is, the one that the mingw-w64 compilers have, when installed<br>
through cygwin.<br>
- The second biggest problem is with flexdll which, IIRC, hardcodes the<br>
use of the mingw-w64 compilers (32-bit compilers from the mingw-w64<br>
project). Msys, on the other hand, uses the mingw compilers (the<br>
original mingw project), and the location of the libraries /<br>
executables is slightly different, or maybe flexdll doesn&#39;t auto-detect=
<br>
the right locations for crt2.o and friends, meaning it&#39;s painful as you=
<br>
have to manually export FLEXLINKFLAGS. At some point, it became almost<br>
impossible to have that combination working. I think flexdll started to<br>
hardcode the i686-pc-mingw prefix at some point, and there&#39;s no<br>
ready-made, easy to install mingw-w64/msys bundle available, as far as<br>
I know.<br>
- OCamlbuild relies on bash being available in the path to run its<br>
external commands ; an easy way to have this is to have a cygwin<br>
development environment. This is a know issue that no one has stepped<br>
up to fix on windows.<br>
- Finally, the quoting conventions, IIRC, are subtly different between<br>
mingw/msys and cygwin, and OCaml is tailored to cygwin.<br>
<br>
For all these reasons, cygwin sounds like a better choice for you<br>
working environment on windows. But I believe msys is still possible.<br>
If there&#39;s something that prevents you from having it work properly, I<=
br>
think we (the team) would be happy to know about it.<br>
<br>
Cheers,<br>
<br>
jonathan<br>
&gt;<br>
&gt; It seems ocamlbuild requires cygwin to work, has this been your<br>
&gt; experience too? If I build the latest ocaml from trunk - 4.02dev+fp<br>
&gt; will ocaml and other tools/utilities still work on pure MingWg/Msys<br>
&gt; environment?<br>
&gt;<br>
&gt; With regards to ocaml libraries, have you tried the Jane Street<br>
&gt; packages? Core, core_kernel ?<br>
&gt;<br>
&gt; Bikal Gurung<br>
&gt;<br>
&gt;<br>
&gt; On 24 June 2013 10:27, David Allsopp &lt;<a href=3D"mailto:dra-news@me=
tastack.com">dra-news@metastack.com</a><br>
&gt; &lt;mailto:<a href=3D"mailto:dra-news@metastack.com">dra-news@metastac=
k.com</a>&gt;&gt; wrote:<br>
&gt;<br>
&gt; =A0 =A0 Bikal Gurung wrote:<br>
&gt; =A0 =A0 &gt; I am looking to use ocaml to implement a project for my<b=
r>
&gt; =A0 =A0 employer. However,<br>
&gt; =A0 =A0 &gt; the environment is Windows OS. I am using cygwin and so f=
ar it<br>
&gt; =A0 =A0 seems to<br>
&gt; =A0 =A0 &gt; work but curious on experiences others have on using ocam=
l on<br>
&gt; =A0 =A0 windows -<br>
&gt; =A0 =A0 &gt; both as a development and deployment platform. Also has a=
nyone<br>
&gt; =A0 =A0 tried using<br>
&gt; =A0 =A0 &gt; opam on windows? Does it work?<br>
&gt;<br>
&gt; =A0 =A0 I&#39;ve used the MinGW Windows port of OCaml for nearly a dec=
ade.<br>
&gt; =A0 =A0 Deployment of programs is the same as deploying anything else =
on<br>
&gt; =A0 =A0 Windows - deploying using executables built with ocamlopt is o=
f<br>
&gt; =A0 =A0 course trivial as they have no dependencies beyond any librari=
es<br>
&gt; =A0 =A0 you choose to use.<br>
&gt;<br>
&gt; =A0 =A0 Partly because of how long I&#39;ve used OCaml, I still build =
it from<br>
&gt; =A0 =A0 sources - but there are now several options including the pack=
aged<br>
&gt; =A0 =A0 Windows installer, GODI/WODI, etc. Although Windows OCaml user=
s<br>
&gt; =A0 =A0 are a minority, there are quite a few developers actively<br>
&gt; =A0 =A0 contributing (the recent 64-bit MinGW port was<br>
&gt; =A0 =A0 community-initiated, I think).<br>
&gt;<br>
&gt; =A0 =A0 Last time I looked, Windows support for opam appeared to be a =
todo<br>
&gt; =A0 =A0 list item, but I haven&#39;t looked in a while (laziness... I =
already<br>
&gt; =A0 =A0 have parallel build scripts of my own, so a package manager is=
<br>
&gt; =A0 =A0 lower down my priority list)<br>
&gt;<br>
&gt; =A0 =A0 HTH,<br>
&gt;<br>
&gt;<br>
&gt; =A0 =A0 David<br>
&gt;<br>
&gt;<br>
<br>
--<br>
Caml-list mailing list. =A0Subscription management and archives:<br>
<a href=3D"https://sympa.inria.fr/sympa/arc/caml-list" target=3D"_blank">ht=
tps://sympa.inria.fr/sympa/arc/caml-list</a><br>
Beginner&#39;s list: <a href=3D"http://groups.yahoo.com/group/ocaml_beginne=
rs" target=3D"_blank">http://groups.yahoo.com/group/ocaml_beginners</a><br>
Bug reports: <a href=3D"http://caml.inria.fr/bin/caml-bugs" target=3D"_blan=
k">http://caml.inria.fr/bin/caml-bugs</a><br>
</blockquote></div>

--001a11c25cd83c813d04dfe54ec5--
