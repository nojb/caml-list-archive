Return-Path: <info@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id B19AF81792
	for <caml-list@sympa.inria.fr>; Thu, 27 Jun 2013 16:51:24 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.17.10;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.17.10;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  postmaster@moutng.kundenserver.de designates 212.227.17.10 as
  permitted sender) identity=helo; client-ip=212.227.17.10;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="postmaster@moutng.kundenserver.de";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AvkAAOBQzFHU4xEKlGdsb2JhbABbgzqrOIF3kiR/Fg4BAQEBBw0JCRQDJYIjAQECAgE6NAsFJBddCQQBDQYTCQmHagMJCgiyIgOIXBaJHIV9JgeDZQOOWYoVky8
X-IPAS-Result: AvkAAOBQzFHU4xEKlGdsb2JhbABbgzqrOIF3kiR/Fg4BAQEBBw0JCRQDJYIjAQECAgE6NAsFJBddCQQBDQYTCQmHagMJCgiyIgOIXBaJHIV9JgeDZQOOWYoVky8
X-IronPort-AV: E=Sophos;i="4.87,952,1363129200"; 
   d="scan'208";a="23659809"
Received: from moutng.kundenserver.de ([212.227.17.10])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/RC4-SHA; 27 Jun 2013 16:51:24 +0200
Received: from office1.lan.sumadev.de (dslb-094-219-223-120.pools.arcor-ip.net [94.219.223.120])
	by mrelayeu.kundenserver.de (node=mrbap1) with ESMTP (Nemesis)
	id 0Las3s-1UPnfN0kf2-00kxgj; Thu, 27 Jun 2013 16:51:21 +0200
Received: from samsung (546BF816.cm-12-4d.dynamic.ziggo.nl [84.107.248.22])
	by office1.lan.sumadev.de (Postfix) with ESMTPSA id B3897C00D0;
	Thu, 27 Jun 2013 16:51:20 +0200 (CEST)
Date: Thu, 27 Jun 2013 16:51:20 +0200
From: Gerd Stolpmann <info@gerd-stolpmann.de>
To: William Smith <bills@emu-bark.com>
Cc: Caml-list <caml-list@inria.fr>
In-Reply-To: <51CC43B1.4050809@emu-bark.com> (from bills@emu-bark.com on Thu
	Jun 27 15:52:49 2013)
X-Mailer: Balsa 2.4.11
Message-Id: <1372344680.3769.3@samsung>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii; DelSp=Yes; Format=Flowed
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable
X-Provags-ID: V02:K0:vyl7MHFXsN1eL40WtYvVsQUQNLqO1MSTpNvui7CMrXL
 xLBzOJH5CRqVcm2OMAMZMmf/62/5JjcofDHJ0fcbTe9/nVJQxI
 UKGl/aagzX8zOyso0rX2jVi7KGSGBY3M2CsKzMQF8vUHVH0/O3
 66jazkmpIz/8ylUgYNcxhDylrSpBEQLbNRbn6DrNiXY9/aI2wj
 0g/oGYMP6zDEzCh9iDgWIHB3f8J7zq54L0e1crOwUuofLUE9JK
 N+h02arwBnAGxbd8CQLptXlEqiJIclBedtrdjC/leMgLndoh4+
 KODp8cXbAgNPNQpx4nOmX/VQILcUkZ3UN479h9YJWK6bVYTTv+
 9QGJD7b8kepYQ23hRTDA=
Subject: AW: [Caml-list] Re: OCaml on Windows

Am 27.06.2013 15:52:49 schrieb(en) William Smith:
> Hi,
>=20
> One major concern with using cygwin to compile ocamlc etc. is that=20=20
> the resulting executables are subject to copy-left since it uses a=20=20
> DLL that is distributed under GPL.

Thanks for the clarification (although I don't think anybody messed=20=20
this up so far). There is in deed a difference between being dependent=20=
=20
on the Cygwin DLL and on the Cygwin utilities. The first means that you=20=
=20
get "infected" by the GPL, and there are also other potential technical=20=
=20
problems from the emulation layer. So most professional developers try=20=
=20
to avoid that. The other issue - and I think most of the discussion=20=20
refers to that - are dependencies on command-line utilities from Cygwin=20=
=20
(like bash). This is just a build-time matter.

> To quote from README.win32 in the top folder of the source:
>=20
> (*) Cygwin-generated .exe files refer to a DLL that is distributed=20=20
> under
> the GPL.  Thus, these .exe files can only be distributed under a=20=20
> license
> that is compatible with the GPL.  Executables generated by MSVC or by
> MinGW have no such restrictions.
>=20
> There's a difference between using cygwin to build the system (in=20=20
> other words, compile everything with gcc)

Not quite exact: MinGW is also gcc-based. The point is whether you=20=20
produce executables linking with the Cygwin DLL or not. (There used to=20=
=20
be a switch -mno-cygwin for not linking with this DLL, but since quite=20=
=20
a while there are separate gcc frontends for this purpose.)

> vs. using cygwin to compile the tools (in other words, use a cygwin=20=20
> shell to execute all of the Makefile/Makefile.nt files and msvc or=20=20
> MinGW as the compiler).

Right. The essential point is which C compiler is configured for use=20=20
with ocaml (configure -cc the-cc-to-use).

> I have been building ocaml with the MSVC compiler for quite a while.=20=
=20=20
> I use cygwin to run the shell and Makefiles in the build process.   I=20=
=20
> don't use cygwin compilers or utilities (other than make) in my=20=20
> production code.   I don't have any experience with the MinGW port.
>=20
> I haven't done a thorough testing of all of the tools in OCaml-4.00.1=20=
=20
> but I believe they all work.   [The only problem I have had is that I=20=
=20
> have to manually block making the library otherlibs/labltk/browser.]
>=20
> also, r.3@libertyserf.fr said:
> > Is anyone using omake on windows? Does it have a dependency on=20=20
> Cygwin like ocamlbuild?
>=20
> I believe that is false that ocamlbuild depends on cygwin.

ocamlbuild appears to call bash internally, and that's usually a Cygwin=20=
=20
utility. In that sense, the statement is correct. There is no=20=20
dependency on the Cygwin DLL.

Gerd


> Bill
>=20
>> Hi,
>=20
>> I am looking to use ocaml to implement a project for my employer.=20=20
>> However, the
>> environment is Windows OS. I am using cygwin and so far it seems to=20=
=20
>> work but
>> curious on experiences others have on using ocaml on windows - both=20=
=20
>> as a
>> development and deployment platform. Also has anyone tried using=20=20
>> opam on
>> windows? Does it work?
>=20
>> Bikal
>=20
>=20
>--=20
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs


--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
Creator of GODI and camlcity.org.
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------=
