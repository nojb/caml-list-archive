Return-Path: <philippe.veber@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id D72F67F9BB
	for <caml-list@sympa.inria.fr>; Tue,  1 Jul 2014 18:38:35 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  philippe.veber@gmail.com) identity=pra;
  client-ip=74.125.82.179;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="philippe.veber@gmail.com";
  x-sender="philippe.veber@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  philippe.veber@gmail.com designates 74.125.82.179 as
  permitted sender) identity=mailfrom; client-ip=74.125.82.179;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="philippe.veber@gmail.com";
  x-sender="philippe.veber@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-we0-f179.google.com) identity=helo;
  client-ip=74.125.82.179;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="philippe.veber@gmail.com";
  x-sender="postmaster@mail-we0-f179.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AoIBAAPjslNKfVKzlGdsb2JhbABag19axgUBgQUIFg8BAQEBBwsLCRIqhAMBAQEEEi4BGx4DDAYJAQYGAwECLyEBAREBBQESAggGEwgaiAsBAxGgYWqNGYMQkBoKGScNZIVBEQEFDYxrghYYBoQ9BYVkkwSBfoFIjCmEIRgphHQ7
X-IPAS-Result: AoIBAAPjslNKfVKzlGdsb2JhbABag19axgUBgQUIFg8BAQEBBwsLCRIqhAMBAQEEEi4BGx4DDAYJAQYGAwECLyEBAREBBQESAggGEwgaiAsBAxGgYWqNGYMQkBoKGScNZIVBEQEFDYxrghYYBoQ9BYVkkwSBfoFIjCmEIRgphHQ7
X-IronPort-AV: E=Sophos;i="5.01,582,1400018400"; 
   d="scan'208";a="83171417"
Received: from mail-we0-f179.google.com ([74.125.82.179])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/RC4-SHA; 01 Jul 2014 18:38:35 +0200
Received: by mail-we0-f179.google.com with SMTP id w62so9811658wes.24
        for <caml-list@inria.fr>; Tue, 01 Jul 2014 09:38:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=9JBDuDJx2r6dFeL/VrFiYtvFnlfnnGGl6JCpDK6zMbA=;
        b=WjEJdqImuvSc7ofl30fmatSx1r+bhtCPvsFAf213d9B1+M66TIbIWmvS7P60uxTQzG
         +pfD7zYGNu8KByqZTDUMm8QQD+iFWoiH7w++QcBUrn53TBi50fqDde1/z/MKZZ6yz3H3
         B4cgUDRttuDBI/brxDHJ1krBhTNAcszYSdcfhXSQfvPF+GLDXpawWhgU2vkbrJuoRKVN
         CSvkfN1KykfAHu2G3bRNCeBaBMuyQ6+iiL/2r36KMRwly45/mLPCDrBqlRuej3I360Gf
         TbHonIdtTsczyJAiDgAo432b8nQ8Jd0wu0iVgWDviEFy5yUQEZ4lOrY3P/SRDTBrwv4+
         OhkQ==
X-Received: by 10.180.72.38 with SMTP id a6mr38197054wiv.29.1404232715387;
 Tue, 01 Jul 2014 09:38:35 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.194.175.232 with HTTP; Tue, 1 Jul 2014 09:38:15 -0700 (PDT)
In-Reply-To: <CAOOOohTxesz1QpzFYO5RvjwpwRbuRJ_wKvYsYOqb23FsYKDVQg@mail.gmail.com>
References: <CAOOOohTxesz1QpzFYO5RvjwpwRbuRJ_wKvYsYOqb23FsYKDVQg@mail.gmail.com>
From: Philippe Veber <philippe.veber@gmail.com>
Date: Tue, 1 Jul 2014 18:38:15 +0200
Message-ID: <CAOOOohTkg=oc+jRDe40FWoZhUqGZ7acSNdsSGrwBiUaEyUYojg@mail.gmail.com>
To: caml users <caml-list@inria.fr>
Content-Type: multipart/alternative; boundary=001a11c249782ee56a04fd2468e2
X-Validation-by: philippe.veber@gmail.com
Subject: [Caml-list] Fwd: Toplevel and syntax extension.

--001a11c249782ee56a04fd2468e2
Content-Type: text/plain; charset=ISO-8859-1

Reposting this question here, just in case.

---------- Forwarded message ----------
From: Philippe Veber <philippe.veber@gmail.com>
Date: 2014-06-28 21:32 GMT+02:00
Subject: Toplevel and syntax extension.
To: ocaml_beginners@yahoogroups.com


Dear camlers,

Consider the following script:

#use "topfind";;
#camlp4o;;
#require "sexplib.syntax";;

open Sexplib.Std;;

type t = int with sexp;;

Saved as script.ml, the simple call:

ocaml script.ml

fails while the call:

cat script.ml | ocaml

succeeds. Any idea how I could fix the first call?

Cheers,
  Philippe.

--001a11c249782ee56a04fd2468e2
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Reposting this question here, just in case.<br><div><br><d=
iv class=3D"gmail_quote">---------- Forwarded message ----------<br>From: <=
b class=3D"gmail_sendername">Philippe Veber</b> <span dir=3D"ltr">&lt;<a hr=
ef=3D"mailto:philippe.veber@gmail.com">philippe.veber@gmail.com</a>&gt;</sp=
an><br>

Date: 2014-06-28 21:32 GMT+02:00<br>Subject: Toplevel and syntax extension.=
<br>To: <a href=3D"mailto:ocaml_beginners@yahoogroups.com">ocaml_beginners@=
yahoogroups.com</a><br><br><br><p dir=3D"ltr">Dear camlers,</p>
<p dir=3D"ltr">Consider the following script:</p>
<p dir=3D"ltr">#use &quot;topfind&quot;;;<br>
#camlp4o;;<br>
#require &quot;sexplib.syntax&quot;;;</p>
<p dir=3D"ltr">open Sexplib.Std;;</p>
<p dir=3D"ltr">type t =3D int with sexp;;</p>
<p dir=3D"ltr">Saved as <a href=3D"http://script.ml" target=3D"_blank">scri=
pt.ml</a>, the simple call:</p>
<p dir=3D"ltr">ocaml <a href=3D"http://script.ml" target=3D"_blank">script.=
ml</a></p>
<p dir=3D"ltr">fails while the call:</p>
<p dir=3D"ltr">cat <a href=3D"http://script.ml" target=3D"_blank">script.ml=
</a> | ocaml</p>
<p dir=3D"ltr">succeeds. Any idea how I could fix the first call?</p>
<p dir=3D"ltr">Cheers,<br>
=A0 Philippe. </p>
</div><br></div></div>

--001a11c249782ee56a04fd2468e2--
