Return-Path: <info@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 81B247FA13
	for <caml-list@sympa.inria.fr>; Wed,  9 Jul 2014 20:04:11 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.17.24;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.17.24;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mout.kundenserver.de) identity=helo;
  client-ip=212.227.17.24;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="postmaster@mout.kundenserver.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AiUBADaDvVPU4xEYm2dsb2JhbABZg2C/cQWHRAGBEBYPAQEBAQEGCwsJFCiEAwEBBAFVJAULCxguVwYTCQsHiB8MCchlF4lehT4mB4I2D0SBOgWQYZEfBZBCag
X-IPAS-Result: AiUBADaDvVPU4xEYm2dsb2JhbABZg2C/cQWHRAGBEBYPAQEBAQEGCwsJFCiEAwEBBAFVJAULCxguVwYTCQsHiB8MCchlF4lehT4mB4I2D0SBOgWQYZEfBZBCag
X-IronPort-AV: E=Sophos;i="5.01,632,1400018400"; 
   d="asc'?scan'208";a="84372577"
Received: from mout.kundenserver.de ([212.227.17.24])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 09 Jul 2014 20:04:10 +0200
Received: from office1.lan.sumadev.de (dslb-188-107-170-128.pools.arcor-ip.net [188.107.170.128])
	by mrelayeu.kundenserver.de (node=mreue105) with ESMTP (Nemesis)
	id 0LoZAI-1WPa7f3qiw-00gXrl; Wed, 09 Jul 2014 20:04:10 +0200
Received: from [192.168.0.146] (546BEFE6.cm-12-4d.dynamic.ziggo.nl [84.107.239.230])
	by office1.lan.sumadev.de (Postfix) with ESMTPSA id 0D685DC270;
	Wed,  9 Jul 2014 20:04:09 +0200 (CEST)
Message-ID: <1404929044.4384.159.camel@e130>
From: Gerd Stolpmann <info@gerd-stolpmann.de>
To: Alain Frisch <alain@frisch.fr>
Cc: caml-list <caml-list@inria.fr>
Date: Wed, 09 Jul 2014 20:04:04 +0200
In-Reply-To: <53BD49B1.6000203@frisch.fr>
References: <1404501528.4384.4.camel@e130> <53BA95AC.3050602@frisch.fr>
	 <1404822242.4384.101.camel@e130> <53BD49B1.6000203@frisch.fr>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature";
	boundary="=-pwAXeWkfL1YAzB8S//s9"
X-Mailer: Evolution 3.10.4-0ubuntu1 
Mime-Version: 1.0
X-Provags-ID: V02:K0:s9XW9gRs357TxRpTUVMvtPINs+oDhWhBDzc1o8Myggf
 33BUAt9G/O3A7kxLXvMVz6BU9LP5W4xPTrMOIGvPobxso8JVhz
 uYzBVLWP+qfpUYFmL5A66hv0NKRFZ0eqms7wG8PFp21KnTNvtu
 BVEieT1fH4wvwWkiOH5UymSuTRk91+fOP/WLUn/XGC6RGxJRcu
 vq3215zlVsgcOSOSXILdOcT4V7ARJYgpVDuaVi+8W34w+EQ6Ig
 oin/Q65b1RzEwFCaY/e7CCP8jb21rvJKRTNAYqR8r2oQ2S0DlL
 L5br01LsdsBl3HbNqIselRt5GlLE+stTXtdK63CXSzjkW3aKj0
 dr0XRUtWc7Z3GTMOfq8aaSZc7vkF5XS/VLc26n4ZC
Subject: Re: [Caml-list] Immutable strings


--=-pwAXeWkfL1YAzB8S//s9
Content-Type: text/plain; charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable

Am Mittwoch, den 09.07.2014, 15:54 +0200 schrieb Alain Frisch:
> On 07/08/2014 02:24 PM, Gerd Stolpmann wrote:
> > It will create confusion even with actively maintained code bases. What
> > could help here is very clear communication when the change will be the
> > standard behavior, and how the migration will take place.
>=20
> It's a very different kind of criticism from your initial point about=20
> the decision of going into the current direction.

Right, but the question how the user process will look like is just the
next one. The design of the change so far is minimalistic, and it is
obvious that some abstraction is missing, and my only explanation is
that there wasn't a consensus in the OCaml team (but that's just a wild
guess). I don't want to say that the OCaml team is ignoring any
problems, but it looks like the missing abstraction is somehow offloaded
to the users, namely whether it is needed at all in the stdlib (maybe
nobody is complaining), or which style is preferred. (I just want to say
that there is IMHO a connection between the minimalistic design, and the
social embedding.)

>   Point taken: the=20
> development team will need to communicate about the expected timeline=20
> and migrate path.  But note that 4.02 is not even out, and since the=20
> default behavior is the previous one, there is no hurry, and it's fine=20
> if people wait a few months before trying the new mode.

My thinking here is that 95% of the users will have no problems at all
when they convert their programs. It's the other 5% for which the
current design is not really sufficient. Let's just hope these users
aren't immediately discouraged when they find it out.

>    It doesn't=20
> seem crazy to wait for some early user feedback and synchronize with=20
> them before deciding on a more precise plan for the wider community. For=
=20
> instance, you feedback about porting ocamlnet is quite useful and the=20
> current discussion shows that several solutions compete and need further=
=20
> thought.  Without the new compiler switch, this discussion would not=20
> have taken place.

Fully agreed.

> > I think it would be quite important to have that in the stdlib:
> >
> >   - This sets a standard for interoperability between libraries
> >   - The stdlib can exploit the details of the representation
> >   - It would be possible to use stringlike directly in C interfaces
>=20
> Note that if it goes to stdlib, one cannot refer to bigarrays.  (One=20
> might want to have bigarrays in stdlib, but we are not there yet.)

Right, but this isn't a big deal. (Bigarray also uses Unix.file_descr,
but this dep is easy to work around by anchoring file_descr in
Pervasives.)


Gerd
--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
My OCaml site:          http://www.camlcity.org
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------


--=-pwAXeWkfL1YAzB8S//s9
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAABAgAGBQJTvYQUAAoJEAaM4b9ZLB5TvNwH/jEHqx6AQBVu0zAuSeZnhgxj
g5MYre0/ru5Xo/V/RAIIJgOKUVbCIYivKSxKMHgnZDZkzudXIX53BVIAGxa+zaET
FxUxe04p9PZVHvQfhpzAPaL2IUUcKNZo0TiOKiNzXkMSdtgwsBYWTyFng/uX5OE1
Wen+o2Lz1pXMIgJKkakhNCTJ2q65MuWad3FJ+UtYhGAmjGX3+HUfhLZqTYMQUCW9
1rQE/gc4U9G5P6M5zJS03R0+5ipO5mB+wGdOTkvRww8jTqLcaNT90btC9rSSAgoM
UKIMZiDpJ5eMIP1Z/EgGSwLpUPUOmJWorK+xurrVIVmAv86oJsQkhZpAsTv7JzU=
=Wk2o
-----END PGP SIGNATURE-----

--=-pwAXeWkfL1YAzB8S//s9--

