Return-Path: <dra-news@metastack.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id 571D17EC6E
	for <caml-list@sympa.inria.fr>; Sat, 18 Jan 2014 10:11:14 +0100 (CET)
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  dra-news@metastack.com) identity=pra; client-ip=62.13.149.58;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="dra-news@metastack.com";
  x-sender="dra-news@metastack.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  dra-news@metastack.com designates 62.13.149.58 as permitted
  sender) identity=mailfrom; client-ip=62.13.149.58;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="dra-news@metastack.com";
  x-sender="dra-news@metastack.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@outmail149058.authsmtp.co.uk) identity=helo;
  client-ip=62.13.149.58;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="dra-news@metastack.com";
  x-sender="postmaster@outmail149058.authsmtp.co.uk";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AjYCAL5E2lI+DZU6nGdsb2JhbAA/GoJqWVaoRZJmgQgWDgEBAQEBCBQJPIIlAQEBAgJuFwQCAQgRBAEBAQoDGgchERMBCQgCBBMICodfAxIDCTa+EQMKhVYXjGuBYzgGgx6BFASJD4ssgXqBbIExiyuIaIIq
X-IPAS-Result: AjYCAL5E2lI+DZU6nGdsb2JhbAA/GoJqWVaoRZJmgQgWDgEBAQEBCBQJPIIlAQEBAgJuFwQCAQgRBAEBAQoDGgchERMBCQgCBBMICodfAxIDCTa+EQMKhVYXjGuBYzgGgx6BFASJD4ssgXqBbIExiyuIaIIq
X-IronPort-AV: E=Sophos;i="4.95,679,1384297200"; 
   d="scan'208";a="45261071"
Received: from outmail149058.authsmtp.co.uk ([62.13.149.58])
  by mail3-smtp-sop.national.inria.fr with ESMTP; 18 Jan 2014 10:11:13 +0100
Received: from mail-c235.authsmtp.com (mail-c235.authsmtp.com [62.13.128.235])
	by punt14.authsmtp.com (8.14.2/8.14.2) with ESMTP id s0I9BCdE094186
	for <caml-list@inria.fr>; Sat, 18 Jan 2014 09:11:12 GMT
Received: from romulus.metastack.com (cpc1-cmbg5-0-0-cust241.5-4.cable.virginm.net [81.98.252.242])
	(authenticated bits=0)
	by mail.authsmtp.com (8.14.2/8.14.2/) with ESMTP id s0I9BBjc012070
	for <caml-list@inria.fr>; Sat, 18 Jan 2014 09:11:11 GMT
Received: from remus.metastack.local (remus.metastack.com [172.16.0.1])
	by romulus.metastack.com (8.14.2/8.14.2) with ESMTP id s0I9BA6U021811
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL)
	for <caml-list@inria.fr>; Sat, 18 Jan 2014 09:11:11 GMT
Received: from Remus.metastack.local ([fe80::547c:3c42:e1da:eda2]) by
 Remus.metastack.local ([fe80::547c:3c42:e1da:eda2%10]) with mapi id
 14.03.0174.001; Sat, 18 Jan 2014 09:11:10 +0000
From: David Allsopp <dra-news@metastack.com>
To: OCaML List Mailing <caml-list@inria.fr>
Thread-Topic: [Caml-list] ocaml considered dangerous
Thread-Index: AQHPEw/9fywvLBUW2kyKf5SGv8sAlpqINGQAgAFw9ACAABzjAIAATsYAgAAh/xA=
Date: Sat, 18 Jan 2014 09:11:10 +0000
Message-ID: <E51C5B015DBD1348A1D85763337FB6D9E02E160F@Remus.metastack.local>
References: <2112632769.281907.1389913202532.open-xchange@communicator.strato.de>
 <0290505B-A21A-4A05-A1C9-4C5F765DFEB5@math.nagoya-u.ac.jp>
 <02b301cf13e5$bdd11af0$397350d0$@ffconsultancy.com>
 <CAAxsn=HWEd-rnqYbUobjcSMF6xn8farz76bfKd84uEzCpSqJOw@mail.gmail.com>
 <CAPFanBEoZksLoahT3wQH-gU47JUgQXOYDUTYRbYbDoqtrPoS3Q@mail.gmail.com>
In-Reply-To: <CAPFanBEoZksLoahT3wQH-gU47JUgQXOYDUTYRbYbDoqtrPoS3Q@mail.gmail.com>
Accept-Language: en-GB, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.16.0.18]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
Organization: MetaStack Solutions Ltd.
X-Scanned-By: MIMEDefang 2.65 on 172.16.0.20
X-Server-Quench: 79928e67-8020-11e3-b802-002590a15da7
X-AuthReport-Spam: If SPAM / abuse - report it at: http://www.authsmtp.com/abuse
X-AuthRoute: OCd1ZAARAlZZVg1f DC4bFwdFRBksPQFF ChxFJgxfNlEAUAAU NkdBMnJSNkcdTBdX QSgKU0suAQNuW2N0 bxpRZA9cY0BPXkti UVZASkxQEQd2AxgD GRwbTRk8NAU/cQwC PxViX3JbW0Q0cUZ8 RgBTHGQEbTJmb30X UEJYagJVJQBXLBdF aE1/VHEIaGVWZ380 FlAlBR1jdQZ0ISFR BwUMNk4nCUEAFzs4 DxsFGy4uEUAfSil7 IxUgJVMGG1sKWgAA 
X-Authentic-SMTP: 61633634383431.1023:706
X-AuthFastPath: 0 (Was 255)
X-AuthSMTP-Origin: 81.98.252.242/25
X-AuthVirus-Status: No virus detected - but ensure you scan with your own anti-virus system.
Subject: RE: [Caml-list] ocaml considered dangerous

Does this new version fix positional specifiers? (http://caml.inria.fr/mant=
is/view.php?id=3D4204) or has that rather useful (if never working!) featur=
e been consigned to history?

> -----Original Message-----
> From: caml-list-request@inria.fr [mailto:caml-list-request@inria.fr] On
> Behalf Of Gabriel Scherer
> Sent: 18 January 2014 07:05
> To: Jeremy Yallop
> Cc: Jon Harrop; Jacques Garrigue; OCaML List Mailing
> Subject: Re: [Caml-list] ocaml considered dangerous
>=20
> I guess one could also mention that the no-magic implementation is notably
> faster than the current implementation (as it avoids any format string
> parsing at runtime), which is not necessarily a concern for printf (for
> large output you're probably killed by I/O overhead
> anyway) but can be for sprintf or bprintf.
>=20
> Note that while the current proposal uses GADTs, Beno=EEt also experiment=
ed
> with reasonable similar designs using higher-order function (this is the
> usual initial vs. final tagless interpreter
> choice) that would have been implementable before 4.00.
>=20
> On Sat, Jan 18, 2014 at 3:22 AM, Jeremy Yallop <yallop@gmail.com> wrote:
> > Jacques Garrigue wrote:
> >>> By the way, there is now an implementation of Printf that avoids most
> of the Obj.magic by using GADTs. It should be merged soon.
> >
> > Jon Harrop <jon@ffconsultancy.com> wrote:
> >> Just curious: is that a drop-in replacement?
> >
> > Yes, except for some tiny incompatibilities, mostly fixes for bugs
> > that the development of the GADT version uncovered in the original
> > implementation.  The patch is here, along with a description and some
> > discussion:
> >
> >    http://caml.inria.fr/mantis/view.php?id=3D6017
> >
> > The author, Beno=EEt Vaugon, presented the design along with some
> > performance figures at OCaml 2013:
> >
> >    http://ocaml.org/meetings/ocaml/2013/proposals/formats-as-gadts.pdf
> >    http://ocaml.org/meetings/ocaml/2013/slides/vaugon.pdf
> >
> > --
> > Caml-list mailing list.  Subscription management and archives:
> > https://sympa.inria.fr/sympa/arc/caml-list
> > Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> > Bug reports: http://caml.inria.fr/bin/caml-bugs
>=20
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs
