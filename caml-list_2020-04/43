Return-Path: <SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id A1D3F7ED20
	for <caml-list@sympa.inria.fr>; Tue, 28 Apr 2020 14:44:59 +0200 (CEST)
Authentication-Results: mail2-smtp-roc.national.inria.fr; spf=Pass smtp.pra=alan.schmitt@polytechnique.org; spf=Pass smtp.mailfrom=SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org; spf=Pass smtp.helo=postmaster@mx1.polytechnique.org
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  alan.schmitt@polytechnique.org designates 129.104.30.34 as
  permitted sender) identity=pra; client-ip=129.104.30.34;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-sender="alan.schmitt@polytechnique.org";
  x-conformance=sidf_compatible; x-record-type="spf2.0"
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org
  designates 129.104.30.34 as permitted sender)
  identity=mailfrom; client-ip=129.104.30.34;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-sender="SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-conformance=sidf_compatible; x-record-type="spf2.0"
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  postmaster@mx1.polytechnique.org designates 129.104.30.34 as
  permitted sender) identity=helo; client-ip=129.104.30.34;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="SRS0=ehkQ=6M=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-sender="postmaster@mx1.polytechnique.org";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
IronPort-PHdr: =?us-ascii?q?9a23=3A1ehpKBWhXeOgvq6dN3tUI59aEg3V8LGtZVwlr6E/?=
 =?us-ascii?q?grcLSJyIuqrYZRaPuKdThVPEFb/W9+hDw7KP9fy5BCpeuN3c6jgrS99lb1c9k8?=
 =?us-ascii?q?IYnggtUoauKHbQC7rUVRE8B9lIT1R//nu2YgB/Ecf6YEDO8DXptWZBUhrwOhBo?=
 =?us-ascii?q?KevrB4Xck9q41/yo+53Ufg5EmCexbal9IRmrrQjdrMgbjZZtJqsx1BfCv2dFdf?=
 =?us-ascii?q?lRyW50P1yYggzy5t23/J5t8iRQv+wu+stdWqjkfKo2UKJVAi0+P286+MPkux/D?=
 =?us-ascii?q?TRCS5nQHSWUZjgBIAwne4x7kWJr6rzb3ufB82CmeOs32UKw0VDG/5KplVBPklC?=
 =?us-ascii?q?EKPCM5/G/UjMxwkqNboAmgpxNkx47bfpyeNfR5fqPHYNwaXndKUsJfWiBdB4+x?=
 =?us-ascii?q?aZYEAegcMuZCt4Tzp0UAowawCwevC+zg1iRFiWXq0aAgyektDR3K0Q4mEtkTsH?=
 =?us-ascii?q?rUttL1NKIKXO2pyKnH1zPDZO5L1zjh6IjIdxEhoe2QXbltdsfe000vGBnDjlmK?=
 =?us-ascii?q?sozqIzOV1uEMs2iH8+ptTvqvi2kjqwBxvjig2NsjionPhoIU01DE6Dt2zJwyJd?=
 =?us-ascii?q?2iR052eNipG4ZeuSGdMot5WMIiQ2dwtSYi1LIGpZ+7fDQUx5Q/wB7fbvmHfJaS?=
 =?us-ascii?q?7hLlSumRPS90hHV5d72lghay9VKsyurmVsm7yFpKoStFksXMtnAQzBPf8NSISv?=
 =?us-ascii?q?x4/ku5wTaPzR7c5vhYLkAzkKrbLp8hwqIqmpUPtkTDGzf6mEPsg6CNcUUk4Omo?=
 =?us-ascii?q?6//9brr7uJCcKZd4ig7/MqQynsywG/83PhISUGic/OSwzKfs/Vf2QbVLkP06iK?=
 =?us-ascii?q?7ZsIrVJcgDqK+5AgxV0oc76xmhEjim0c4XkWMALFJfdxKLl4/pNE3UL/D9Cfe/?=
 =?us-ascii?q?h06jnyxwx/zcP73hBY3BLn/fn7f6fLZ95FBTyAwpwdBY/ZJUBakNL+j1WkDsrt?=
 =?us-ascii?q?zXEB05PxaozObgDdVxzoQeVn6VDa+cNKPSqUWI5uU1L+aQY48VvS7xK/k46P/u?=
 =?us-ascii?q?iX85nUURfa6z3ZsYbn2zA/doI12BbHbxnNsMFX0GshciQOHlklGPXyJfa2y8Uq?=
 =?us-ascii?q?8z/j02CoGrAZ3dSo2inrCNxjq3E5JMamxbBV2ADXHlfJieVfgWciKdOMphnyQE?=
 =?us-ascii?q?Vbe/T48h0gmjtAr1yrZ6NObU4ioYtZbj1dhp+eLciREy9Tp1D8SEzmGCUXt4nm?=
 =?us-ascii?q?QSRz85xKx/oEp9xUmf0aVgnvBUC9he6+lUXgsmOpPQ1eJ3B8zoVg/PcdqFUFOm?=
 =?us-ascii?q?Tc+nATE1QNIx2dgOY0NlFtu/kh7NwjamDqcLmLyLB5w66brR0nn2Kctl03bG06?=
 =?us-ascii?q?0hjlk6QsRRKWKmhqh/9wnKB47UjUqVjaGqdb4T3CPV7miDyXCBvEdCXA5rTarF?=
 =?us-ascii?q?XXUfZkrKrdTl/U7NVLiuCakhMgRd18GCMbFGatjmgFRJXvvjP87eY22pl2eqGR?=
 =?us-ascii?q?mI3q+MbJbte2gFwCrSEk0EkwQK8XaCNAg+HTuhrnnFDD1uEFLve1nj/fN/qHO9?=
 =?us-ascii?q?VE80zhuFY1dv17qvqVYpgqnWT+wVlPpQvDgngzFrGhC70s6AT5LKrBVnNu0UNd?=
 =?us-ascii?q?gi5n9D1HnFrEp8Mo2kK+ZlnFFIN0x8tkbqkhF2EZlokM4wrXpswhA2Yamf1Utp?=
 =?us-ascii?q?czKDwYu2PafdK3X7+B6oe+jbxwLwytGTr44L4fJwkF7juQC1CgJ2+nFu1Z9O2H?=
 =?us-ascii?q?uZ54nWJBIVVYPtX0038RljurycZTMysdCHnUZwOLW552eRk+kiA/Eon034JosN?=
 =?us-ascii?q?AOa/DAb3VvYiKY22MuVzygqxaRYVIO1Z9Kg1Jt6rMfyc1/zyZbcyrHedlW1Cpb?=
 =?us-ascii?q?tF/AeJ/it4RPTP2s9akfufww2MWiy6iQux9MftltIdPGxALi+E0SHhQbVpSOhy?=
 =?us-ascii?q?cIIMUzz8Jt3ugM15g4/xVnVY8l+6Gl5A39WmK0Of?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0AZBgABJKhehyIeaIFmHgELHIMogXFVM?=
 =?us-ascii?q?iqEH4kBhguFH4UujTSEAYFjDwEDAQwYAQwHAQIEAQGBUIJ0AoIoHQYBBTMTAhA?=
 =?us-ascii?q?BAQUBAQECAQIDBAETAQEBCgsJCCmFXQyCOwwZgxYDARgBCAQGPwgeIwMUAQYDA?=
 =?us-ascii?q?hEBFwEUChcBEhQGgwwBgnwEAQqXGpt5fzOEOQEDAw5AhBeBQA0CE4EWhSqDHIN?=
 =?us-ascii?q?7D4FMP4NzbIF+UA4LAQEBAQEZgSAHAQEGAgkJDy2CXIJfBI4iCAYNJAJniniFX?=
 =?us-ascii?q?YINjwN8B4JIfwSGGnOJdYYbgluBB4dRkUwhj12BV4VMB2uBNIVQjhaBPyqBRwE?=
 =?us-ascii?q?dDAczGjBDDQIOghgBATIJCQFVDYpbh2sBF4NPQYIjgSRRO4VEPzMCAQEOIwIGA?=
 =?us-ascii?q?QcBAQMJdQEBBRMLAY8KAiYEgT1cAQE?=
X-IPAS-Result: =?us-ascii?q?A0AZBgABJKhehyIeaIFmHgELHIMogXFVMiqEH4kBhguFH4U?=
 =?us-ascii?q?ujTSEAYFjDwEDAQwYAQwHAQIEAQGBUIJ0AoIoHQYBBTMTAhABAQUBAQECAQIDB?=
 =?us-ascii?q?AETAQEBCgsJCCmFXQyCOwwZgxYDARgBCAQGPwgeIwMUAQYDAhEBFwEUChcBEhQ?=
 =?us-ascii?q?GgwwBgnwEAQqXGpt5fzOEOQEDAw5AhBeBQA0CE4EWhSqDHIN7D4FMP4NzbIF+U?=
 =?us-ascii?q?A4LAQEBAQEZgSAHAQEGAgkJDy2CXIJfBI4iCAYNJAJniniFXYINjwN8B4JIfwS?=
 =?us-ascii?q?GGnOJdYYbgluBB4dRkUwhj12BV4VMB2uBNIVQjhaBPyqBRwEdDAczGjBDDQIOg?=
 =?us-ascii?q?hgBATIJCQFVDYpbh2sBF4NPQYIjgSRRO4VEPzMCAQEOIwIGAQcBAQMJdQEBBRM?=
 =?us-ascii?q?LAY8KAiYEgT1cAQE?=
X-IronPort-AV: E=Sophos;i="5.73,327,1583190000"; 
   d="scan'208,217";a="447276691"
X-MGA-submission: =?us-ascii?q?MDHOD+R9GX2yrtGrtgBgKk0ZnMVL0qSZ1CrlXp?=
 =?us-ascii?q?e84LNFMJeMMb6L4dX2hNVjsxpePSsOudzKfJwXe+5LxhMlCR6Ilp1CjZ?=
 =?us-ascii?q?K8Z2MdF1KzYI1BbOorQv0ZilLfi/R8HOmFfYp41XKloW5Y5HP7XVRyAU?=
 =?us-ascii?q?0O0vyNlUNoEFSYC3Qf2hqbxA=3D=3D?=
Received: from mx1.polytechnique.org ([129.104.30.34])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 28 Apr 2020 14:44:57 +0200
Received: from set (cbg35-2-78-242-14-140.fbx.proxad.net [78.242.14.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ssl.polytechnique.org (Postfix) with ESMTPSA id B452A5611EE;
	Tue, 28 Apr 2020 14:44:54 +0200 (CEST)
From: Alan Schmitt <alan.schmitt@polytechnique.org>
To: "lwn" <lwn@lwn.net>, "cwn"  <cwn@lists.idyll.org>, caml-list@inria.fr, comp@lists.orbitalfox.eu
Date: Tue, 28 Apr 2020 14:44:54 +0200
Message-ID: <87a72vhj95.fsf@m4x.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="=-=-="
X-AV-Checked: ClamAV using ClamSMTP at svoboda.polytechnique.org (Tue Apr 28 14:44:55 2020 +0200 (CEST))
X-Spam-Flag: No, tests=bogofilter, spamicity=0.000095, queueID=4C8C456120B
X-Org-Mail: alan.schmitt.1995@polytechnique.org
Subject: [Caml-list] Attn: Development Editor, Latest OCaml Weekly News

--=-=-=
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hello

Here is the latest OCaml Weekly News, for the week of April 21 to 28,
2020.

Table of Contents
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80

opam 2.0.7 and 2.1.0 alpha
OCaml 4.11, release plan
ocamlformat pre-commit hook
New release of naboris 0.1.2
ANN: Releases of ringo
resto 0.2 released
Retrofitting Parallelism onto OCaml (research paper)
Multicore Update: April 2020, with a preprint paper
Why did Core remove polymorphic comparison operators in OCaml 4.10.0?
New release of js_of_ocaml 3.6.0
Other OCaml News
Old CWN


opam 2.0.7 and 2.1.0 alpha
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-opam-2-0-7-and-2-1-0-alpha/5583/1>


R. Boujbel announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80

  We are pleased to announce the release of [opam 2.0.7] and an [2.1.0
  alpha].

  This 2.0.7 version contains backported fixes, you can find more
  information in this [blog post].

  The 2.1.0~alpha contains many new features (cf. [blog post] or
  [release note]). If you want to take a look, a few glitches or
  regressions are expected, please report them to [the bug-tracker].

  *opam is a source-based package manager for OCaml. It supports
   multiple simultaneous compiler installations, flexible package
   constraints, and a Git-friendly development workflow.*


[opam 2.0.7] <https://github.com/ocaml/opam/releases/tag/2.0.7>

[2.1.0 alpha] <https://github.com/ocaml/opam/releases/tag/2.1.0-alpha>

[blog post] <https://opam.ocaml.org/blog/opam-2-0-7>

[blog post] <https://opam.ocaml.org/blog/opam-2-1-0-alpha/>

[release note] <https://github.com/ocaml/opam/releases/tag/2.1.0-alpha>

[the bug-tracker] <https://github.com/ocaml/opam/issues>


Anil Madhavapeddy then added
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80

  Thanks for all the hard work that's gone into this release, @rjbou
  @AltGr and @dra27!

  To set expectations, this alpha release is for our users to smoke test
  the new features and let us know if they work for your usecases.

  In particular, the opam external dependency management and support for
  recursive pins are both commonly requested features. Please do take
  this alpha for a spin, and report feedback here on this thread.

  After this alpha is cut, there will be a sequence of beta releases
  (the number of which depend on the reported bug tail), and then the
  final opam 2.1.0 release. Your testing _now_ will greatly help us put
  a quality release out of the door.


OCaml 4.11, release plan
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive: <https://discuss.ocaml.org/t/ocaml-4-11-release-plan/5600/1>


octachron announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80

  The new version of OCaml, OCaml 4.11.0, has started its bugfix period:
  the set of new features is now mostly frozen, and in the three
  upcoming months, we will focus mostly on fixing bugs.

  For this release cycle, we will experiment releasing an alpha version
  of the compiler.

  This new alpha version is expected to work as a synchronization point
  for people working on updating the opam ecosystem for the new
  release. Once the opam ecosystem is in shape for some wider audience
  testings, we will publish a beta version as usual. This should be
  happen around June.

  One of the most notable change in this release is `Statmemprof', a new
  statistical memory profiler directly integrated into the GC.

  The provisional Changes list is [here].

  At this point of time, it is better to take this list with a grain of
  salt: there are a handful of new features that are still under
  integration, problematic features might be removed, and of course the
  list of bug fixes is incomplete.

  But one of the most notable feature in this change log, `Statmemprof'
  which a new statistical memory profiler API, is most probably here to
  stay.


[here] <https://github.com/ocaml/ocaml/blob/4.11/Changes>


Guillaume Munch-Maccagnoni then added
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80

  It should be mentioned that Memprof is documented as =E2=80=9C~EXPERIMENT=
AL~=E2=80=9D,
  and at least one breaking change is being considered in 4.12. This
  also mean that suggestion for improvement will be welcome (AFAIU).


ocamlformat pre-commit hook
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-ocamlformat-pre-commit-hook/5602/1>


Brendan Long announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  This is kind of trivial but I figured it might be useful for other
  people. We created a hook config for using [ocamlformat] with
  [pre-commit]:

  <https://github.com/arenadotio/pre-commit-ocamlformat>

  pre-commit is a tool that makes it easier to run checks on changed
  files before commiting them, and this makes it so you can auto-run
  ocamlformat and ensure no unformatted code gets into your repo.

  1. [Install pre-commit] like `pip install pre-commit'
  2. In your repo, add a .pre-commit-config.yaml like:
     =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
     =E2=94=82 ---
     =E2=94=82 repos:
     =E2=94=82   - repo: https://github.com/arenadotio/pre-commit-ocamlform=
at
     =E2=94=82     rev: master # or pick a commit sha I guess
     =E2=94=82     hooks:
     =E2=94=82      - id: ocamlformat
     =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  1. Run `pre-commit install'
  2. Now every time you run `git commit' (or `pre-commit run'), it will
     run every staged OCaml file through ocamlformat and complain if
     there are any changes:
     =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
     =E2=94=82 $ pre-commit run ocamlformat
     =E2=94=82 ocamlformat.....Failed
     =E2=94=82 - hook id: ocamlformat
     =E2=94=82 - files were modified by this hook
     =E2=94=82 $ git add .
     =E2=94=82 $ pre-commit run ocamlformat
     =E2=94=82 ocamlformat.....Passed
     =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


[ocamlformat] <https://github.com/ocaml-ppx/ocamlformat#ocamlformat>

[pre-commit] <https://pre-commit.com/>

[Install pre-commit] <https://pre-commit.com/#install>


New release of naboris 0.1.2
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-new-release-of-naboris-0-1-2/5604/1>


Shawn McGinty announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  Simple http server for OCaml/ReasonML.

  [naboris] has been updated to 0.1.2

  This release comes with a few improvements to the API but most notably
  it has much better documentation at [naboris.dev]


[naboris] <https://naboris.dev>

[naboris.dev] <https://naboris.dev>


ANN: Releases of ringo
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive: <https://discuss.ocaml.org/t/ann-releases-of-ringo/5605/1>


Rapha=C3=ABl Proust announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  On behalf of Nomadic Labs, I am please to announce the first few
  releases of Ringo: a library for caches. Ringo offers two kinds of
  caches: Maps for caches of key-value pairs and Sets for caches of
  simple elements. In addition, each kind of cache can be tweaked to
  handle their bounds differently.

  Ringo versions 0.1, 0.2 and 0.3 are available on `opam'. As the
  version number and the bundled announce suggests, this library is
  still in early phases of release: additional replacement policies will
  be added, the interface will probably change somewhat,
  etc. Suggestions welcome!

  Even though the interface is still in early phases of release, the
  implementation is covered by a lot of tests and is already in use in
  the Tezos project.

  The code is available at <https://gitlab.com/nomadic-labs/ringo>


resto 0.2 released
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90

  Archive: <https://discuss.ocaml.org/t/ann-resto-0-2-released/5028/3>


Rapha=C3=ABl Proust announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

Release of `resto 0.5'
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=
=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  On behalf of Nomadic Labs, I'm happy to announce the release of
  version 0.5 of `resto'.

  The main change brought in this release are:
  =E2=80=A2 relaxing of dependency bounds,
  =E2=80=A2 documentation!


Retrofitting Parallelism onto OCaml (research paper)
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/retrofitting-parallelism-onto-ocaml-research=
-paper/5628/1>


Guillaume Munch-Maccagnoni announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80

  The following paper on the multicore GC design by @kayceesrk and his
  coauthors has been posted on arXiv today and might interest the
  community: <https://arxiv.org/abs/2004.11663>


Multicore Update: April 2020, with a preprint paper
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/multicore-update-april-2020-with-a-preprint-=
paper/5630/1>


Anil Madhavapeddy announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80

  Welcome to the April 2020 update from the Multicore OCaml team, across
  the UK, India, France and Switzerland!  Although most of us are in
  lockdown, we continue to march forward.  As with [previous updates],
  thanks to @shakthimaan and @kayceesrk for help assembling it all.


[previous updates] <https://discuss.ocaml.org/tag/multicore-monthly>

=E2=97=8A Preprint: Retrofitting Parallelism onto OCaml

  We've put up a preprint of a paper titled ["Retrofitting Parallelism
  onto OCaml" ] for which we would be grateful to receive feedback.  The
  paper lays out the problem space for the multicore extension of OCaml
  and presents the design choices, implementation and evaluation of the
  concurrent garbage collector (GC).

  Note that this is *not a final paper* as it is currently under peer
  review, so any feedback given now can still be incorporated.  Please
  use the e-mail contact details in the [pdf paper] for @kayceesrk and
  myself so we can aggregate (and acknowledge!) any such comments.


  ["Retrofitting Parallelism onto OCaml" ]
  <https://arxiv.org/abs/2004.11663>

  [pdf paper] <https://arxiv.org/pdf/2004.11663.pdf>


=E2=97=8A Rebasing Progress

  The Multicore OCaml rebase from 4.06.1 has gained momentum.  We have
  successfully rebased the parallel-minor-GC all the way onto the [4.09
  OCaml trees].  We will publish updated opam packages when we get to
  the recently branched 4.11 in the next couple of weeks.

  Rebasing complex features like this is a "slow and steady" process due
  to the number of intermediate conflicts and bootstrapping, so we will
  not be publishing opam packages for every intermediate version =E2=80=93
  instead, the 4.11 trees will form the new "stable base" for any PRs.


  [4.09 OCaml trees]
  <https://github.com/ocaml-multicore/ocaml-multicore/tree/parallel_minor_g=
c_4_09>


=E2=97=8A Higher-level Domainslib API

  A thread from [last month's update] on building a parallel raytracer
  led to some useful advancements in the [domainslib] library to provide
  async/await-style task support. See the updates below for more
  details.

  There is also an interesting discussion on
  [ocaml-multicore/ocaml-multicore#324] about how to go about profiling
  and optimising your own small programs.  More experiments with
  parallel algorithms with different scheduling properties would be most
  useful at this time.


  [last month's update]
  <https://discuss.ocaml.org/t/multicore-ocaml-march-2020-update/5406/8>

  [domainslib] <https://github.com/ocaml-multicore/domainslib>

  [ocaml-multicore/ocaml-multicore#324]
  <https://github.com/ocaml-multicore/ocaml-multicore/issues/324>


=E2=97=8A Upstreamed features in 4.11

  The [4.11 release has recently branched] and has the following
  multicore-relevant changes in it:

  =E2=80=A2 A concurrency-safe marshalling implementation (originally in
    [ocaml#9293], then implemented again in [ocaml#9353]). This will
    have a slight speed hit to marshalling-heavy programs, so feedback
    on trying this in your projects with 4.11 will be appreciated to the
    upstream OCaml issue tracker.
  =E2=80=A2 A runtime eventlog tracing system using the CTF format is on the
    verge of being merged in 4.11 over in [ocaml#9082].  This will also
    be of interest to those who need sequential program profiling, and
    is a generalisation of the infrastructure that was essential to our
    development of the multicore GC.  If anyone is interested in helping
    with hacking on the OCaml side of CTF support to build clients,
    please get in touch with me or @kayceesrk.

  In addition to the above highlights, we have also been making
  continuous improvements and additions to the Sandmark benchmarking
  test infrastructure. The various ongoing and completed tasks are
  provided below for your reference.


  [4.11 release has recently branched]
  <https://discuss.ocaml.org/t/ocaml-4-11-release-plan/5600>

  [ocaml#9293] <https://github.com/ocaml/ocaml/pull/9293>

  [ocaml#9353] <https://github.com/ocaml/ocaml/pull/9353>

  [ocaml#9082] <https://github.com/ocaml/ocaml/pull/9082>


Multicore OCaml
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

=E2=97=8A Ongoing

  =E2=80=A2 [ocaml-multicore/ocaml-multicore] Promote Multicore OCaml to tr=
unk

    The rebasing of Multicore OCaml from 4.06 to 4.10 is being worked,
    and we are now at 4.09! In a few weeks, we expect to complete the
    rebase to the latest trunk release.
  =E2=80=A2 [ocaml-multicore/eventlog-tools]: OCaml Eventlog Tools

    A project that provides a set of tools for runtime tracing for OCaml
    4.11.0 and higher has been created. This includes a simple OCaml
    decoder for eventlog's trace and a built-in chrome converter tool.
  =E2=80=A2 [ocaml-multicore/domainslib#5] Add parallel_scan to domainslib

    A [parallel_scan] implementation that uses the Task API with
    prefix_sum and summed_area_table has now been added to the
    Domain-level Parallel Programming library for Multicore OCaml
    (domainslib) library.


  [ocaml-multicore/ocaml-multicore]
  <https://github.com/ocaml-multicore/ocaml-multicore/tree/parallel_minor_g=
c_4_09>

  [ocaml-multicore/eventlog-tools]
  <https://github.com/ocaml-multicore/eventlog-tools>

  [ocaml-multicore/domainslib#5]
  <https://github.com/ocaml-multicore/domainslib/pull/5>

  [parallel_scan]
  <https://en.wikipedia.org/wiki/Prefix_sum#Shared_memory:_Two-level_algori=
thm>


=E2=97=8A Completed

  The following PRs have been merged into Multicore OCaml and its
  ecosystem projects:

  =E2=80=A2 [ocaml-multicore/ocaml-multicore#328] Multicore compiler with
    Flambda

    Support for Flambda has been merged into the Multicore OCaml project
    repository. The translation is now performed at cmmgen instead of
    lambda for clambda conversion.
  =E2=80=A2 [ocaml-multicore/ocaml-multicore#324] Optimizing a Multicore pr=
ogram

    The following [documentation] provides a detailed example on how to
    do performance debugging for a Multicore program to improve the
    runtime performance.
  =E2=80=A2 [ocaml-multicore/ocaml-multicore#325] Added eventlog_to_latenci=
es.py
    script

    A script to generate a latency report from an eventlog has now been
    included in the ocaml-multicore repository.
  =E2=80=A2 [ocaml-multicore/domainslib#4] Add support for task_pools

    The domainslib library now has support for work-stealing task pools
    with async/await parallelism. You are encouraged to try the
    [examples].


  [ocaml-multicore/ocaml-multicore#328]
  <https://github.com/ocaml-multicore/ocaml-multicore/pull/328>

  [ocaml-multicore/ocaml-multicore#324]
  <https://github.com/ocaml-multicore/ocaml-multicore/issues/324>

  [documentation]
  <https://github.com/ocaml-multicore/ocaml-multicore/issues/324#issuecomme=
nt-610183856>

  [ocaml-multicore/ocaml-multicore#325]
  <https://github.com/ocaml-multicore/ocaml-multicore/pull/325>

  [ocaml-multicore/domainslib#4]
  <https://github.com/ocaml-multicore/domainslib/pull/4>

  [examples]
  <https://github.com/ocaml-multicore/domainslib/tree/task_pool/test>


Benchmarking
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  A number of new benchmarks are being ported to the [Sandmark]
  performance benchmarking test suite.

  =E2=80=A2 [ocaml-bench/sandmark#104] Added python pip3 dependency

    A check_dependency function has now been defined in the Makefile
    along with a list of dependencies and pip packages for Ubuntu. You
    can now run `make depend' prior to building the benchmark suite to
    ensure that you have the required software. The `python3-pip'
    package has been added to the list of dependencies.
  =E2=80=A2 [ocaml-bench/sandmark#96] Sandmark Analyze notebooks

    The setup, builds and execution scripts for developer branches on
    bench2.ocamllabs.io have been migrated to winter.ocamllabs.io.

    A UI and automated script driven notebooks for analyzing sequential
    bench results is being worked upon.
  =E2=80=A2 [ocaml-bench/sandmark#108] Porting mergesort and matrix
    multiplication using Task Pool API library

    This is an on-going PR to implement merge sort and
    matrix_multiplication using `parallel_for'.
  =E2=80=A2 [cubicle]

    `Cubicle' is a model checker and an automatic SMT theorem prover. At
    present, it is being ported to Multicore OCaml, and this is a work
    in progress.
  =E2=80=A2 [raytracers]

    Raytracers is a repository that contains ray tracer implementation
    for different parallel functional programming languages. The OCaml
    implementation has now been updated to use the new `Domainslib.Task'
    API.

    Also, a few [experiments] were performed on flambda parameters for
    the Multicore raytracer which gives around 25% speedup, but it does
    not yet remove the boxing of floats. The experiments are to be
    repeated with a merge against the wip flambda2 trees on 4.11, that
    removes float boxing.


[Sandmark] <https://github.com/ocaml-bench/sandmark>

[ocaml-bench/sandmark#104]
<https://github.com/ocaml-bench/sandmark/pull/104>

[ocaml-bench/sandmark#96]
<https://github.com/ocaml-bench/sandmark/issues/96>

[ocaml-bench/sandmark#108]
<https://github.com/ocaml-bench/sandmark/pull/108>

[cubicle] <https://github.com/Sudha247/cubicle/tree/add-multicore>

[raytracers] <https://github.com/athas/raytracers/pull/6>

[experiments]
<https://github.com/kayceesrk/raytracers/blob/flambda/ocaml/myocamlbuild.ml>


OCaml
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

=E2=97=8A Ongoing

  =E2=80=A2 [ocaml/ocaml#9082] Eventlog tracing system

    A substantial number of commits have gone into this PR based on
    reviews and feedback. These include updates to the configure script,
    handling warnings and exceptions, adding build support for Windows,
    removing unused code and coding style changes. This patch will be
    cherry-picked for the 4.11 release.


  [ocaml/ocaml#9082] <https://github.com/ocaml/ocaml/pull/9082>


=E2=97=8A Completed

  =E2=80=A2 [ocaml/ocaml#9353] Reimplement `output_value' using a hash tabl=
e to
    detect sharing

    This PR which implements a hash table and bit vector as required for
    Multicore OCaml has been merged to 4.11.

  Our thanks as always go to all the OCaml developers and users in the
  community for their continued support, and contribution to the
  project!


  [ocaml/ocaml#9353] <https://github.com/ocaml/ocaml/pull/9353>


Acronyms
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  =E2=80=A2 API: Application Programming Interface
  =E2=80=A2 GC: Garbage Collector
  =E2=80=A2 PIP: Pip Installs Python
  =E2=80=A2 PR: Pull Request
  =E2=80=A2 SMT: Satisfiability Modulo Theories
  =E2=80=A2 UI: User Interface


Why did Core remove polymorphic comparison operators in OCaml 4.10.0?
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/why-did-core-remove-polymorphic-comparison-o=
perators-in-ocaml-4-10-0/5633/1>


Trung Ta asked
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  I'm using the Core library in a project, and recently when I upgraded
  my OCaml from 4.08.1 to 4.10.0, plenty of compilation errors suddenly
  appears for comparison expressions like:

  `if (xs =3D []) then ...'  or `if (x =3D true) then ...'

  I saw that this change was discussed in this [thread] about
  monomorphic comparison operators in Base, but did not expect that Core
  would make it a default behavior.

  So I'd like to ask since which version that Core removed such
  polymorphic comparison operators?  (I couldn't find it in release
  notes of Core)

  Also, if I defined a sum type like `type ternary =3D True | False |
  Unkn', what will be a correct way to write `if (x =3D True) then ...'
  (which is allowed in the new Core)?

  I can temporarily fix by writing `if (x =3D=3D True) then ...', but using
  `=3D=3D' doesn't seem correct, since `=3D=3D' is about comparing physical
  objects=E2=80=A6

  Thanks for spending your time to check my question.


[thread]
<https://discuss.ocaml.org/t/monomorphic-comparison-operator-of-janestreet-=
base-library/1585>


Aaron L. Zeng replied
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  The change was announced in
  <https://discuss.ocaml.org/t/ann-v0-13-release-of-jane-street-packages/47=
35>,
  although unfortunately it doesn't look like the CHANGES.md file was
  updated in the repo.  I would consider the thread to be the canonical
  announcement.

        Also, if I defined a sum type like `type ternary =3D True |
        False | Unkn' , what will be a correct way to write `if (x
        =3D True) then ...' (which is allowed in the new Core)?

  Here's a few suggestions:

  1. Define equality/compare functions using [`ppx_compare']
     =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
     =E2=94=82 type ternary =3D True | False | Unkn [@@deriving equal]
     =E2=94=82=20
     =E2=94=82 let f x =3D if (equal_ternary x True) then ...
     =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  2. Define equality/compare functions manually
     =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
     =E2=94=82 let equal_ternary t1 t2 =3D
     =E2=94=82   match t1, t2 with
     =E2=94=82   | True, True | False, False | Unkn, Unkn -> true
     =E2=94=82   | _ -> false
     =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  3. Explicitly request polymorphic comparison operators using the
     `Poly' module:
     =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
     =E2=94=82 let f x =3D if (Poly.(=3D) x True) then ...
     =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


[`ppx_compare'] <https://github.com/janestreet/ppx_compare>


Trung said and Aaron L. Zeng replied
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80

        btw,

        =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
        =E2=94=82 type ternary =3D True | False | Unkn [@@deriving equal]
        =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80

        should be: `[@@deriving eq]'

  That depends on which preprocessor you are using.  `[@@deriving
  equal]' comes from ppx_compare, whereas `[@@deriving eq]' comes from
  [ppx_deriving].  Base/Core and the like have better support for the
  former, which is a Jane Street project, although you can feel free to
  use the latter=E2=80=94the naming conventions are different, so it may no=
t be
  as convenient.


[ppx_deriving] <https://github.com/ocaml-ppx/ppx_deriving>


New release of js_of_ocaml 3.6.0
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-new-release-of-js-of-ocaml-3-6-0/5634/1>


Hhugo announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  I'm pleased to announce the release [Js_of_ocaml] 3.6.0.

  Js_of_ocaml is a compiler from OCaml bytecode to JavaScript. It makes
  it possible to run pure OCaml programs in JavaScript environment like
  browsers and Node.js.

  Try it [online].

  Notable changes:
  =E2=80=A2 The `js_of_ocaml' compiler now accepts sub-commands (link,
    build-runtime, build-fs, ..). The plan for future versions is to
    remove other binary (e.g. jsoo_link) and consolidate everything
    inside the `js_of_ocaml' binary itself.
  =E2=80=A2 The standard JavaScript runtime is now embedded in the compiler
    (findlib is no longer needed to locate it)
  =E2=80=A2 Add support for the Str library (Regular expressions and high-l=
evel
    string processing) shipped with the OCaml compiler
  =E2=80=A2 Change memory representation of `Int64.t' (you might need to up=
date
    your JavaScript stubs)
  =E2=80=A2 Many bug fixes (thanks to many more tests)


[Js_of_ocaml] <https://github.com/ocsigen/js_of_ocaml>

[online]
<https://ocsigen.org/js_of_ocaml/3.6.0/manual/files/toplevel/index.html>


Kirill Alexander Khalitov asked and Hhugo replied
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

        1 Does the project have roadmap?

  There is no official roadmap, the project evolves based on issues,
  requests and contributions.  You can take a look at some of the
  [Github issues]

        2 Is the project generally exists only for Ocsigen needs?

  js_of_ocaml is used by various projects, not only Ocsigen. See
  [Bonsai], [sketch-sh] or [jscoq] for instance.

        3 Will it be adopted for modern front-end development
        (commonjs/esmodules compatibility for working with
        existing building tools ex. webpack, etc).

  Being more friendly with the JavaScript ecosystem as been discussed
  here and there in the past but little has been done, possibly by lack
  of interest or use cases.

        4 Does the project competing with bucklescript?

  I don't think so. The two projects have different goals and different
  audience. One of Js_of_ocaml main goal is to stay as close as possible
  to the official OCaml semantic, allowing to leverage existing OCaml
  libraries without any modification.

        5 Why not to do ocaml to js compiler tools (based on
        js_of_ocaml and bucklescript experience) that combine
        possibility of using native ocaml and js libraries across
        back-end and front-end like implemented in Scala.js/Fable
        F#?

  I don't understand this question. I would expect both js_of_ocaml and
  bucklescript to be like Scala.js/Fable F# in their own way.


[Github issues]
<https://github.com/ocsigen/js_of_ocaml/issues?q=3Dis:open+is:issue+label:e=
nhancement>

[Bonsai] <https://github.com/janestreet/bonsai>

[sketch-sh] <https://github.com/Sketch-sh/sketch-sh>

[jscoq] <https://github.com/jscoq/jscoq>


Kirill Alexander Khalitov then said
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80

  I mean what Scala.js/Fable F# allows to use the most native libraries
  (not all) and JS ones (from npm registry or from custom JS module) in
  one project (ex. front-end). But in case of js_of_ocaml we limited to
  native OCaml libs and "HTML scripts" (not JS compatible modules). For
  bucklescript case we have whole JS ecosystem but have no access to
  useful native libs from opam registry.


Xavier Van de Woestyne replied
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  In Js_of_OCaml, you can deal with JavaScript's module (and npm/yarn),
  using for example:

  =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  =E2=94=82 (* val require : string -> 'a *)
  =E2=94=82 let require module_name =3D
  =E2=94=82   let open Js.Unsafe in
  =E2=94=82   fun_call
  =E2=94=82     (js_expr "require")
  =E2=94=82     [|inject (Js.string module_name)|]
  =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


Other OCaml News
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

>From the ocamlcore planet blog
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  Here are links from many OCaml blogs aggregated at [OCaml Planet].

  =E2=80=A2 [Every proof assistant]
  =E2=80=A2 [opam 2.0.7 release]
  =E2=80=A2 [opam 2.1.0 alpha is here!]


[OCaml Planet] <http://ocaml.org/community/planet/>

[Every proof assistant]
<http://math.andrej.com/2020/04/28/every-theorem-prover/>

[opam 2.0.7 release]
<http://www.ocamlpro.com/2020/04/21/opam-2-0-7-release/>

[opam 2.1.0 alpha is here!]
<http://www.ocamlpro.com/2020/04/21/opam-2-1-0-alpha-is-here/>


Old CWN
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  If you happen to miss a CWN, you can [send me a message] and I'll mail
  it to you, or go take a look at [the archive] or the [RSS feed of the
  archives].

  If you also wish to receive it every week by mail, you may subscribe
  [online].

  [Alan Schmitt]


[send me a message] <mailto:alan.schmitt@polytechnique.org>

[the archive] <http://alan.petitepomme.net/cwn/>

[RSS feed of the archives] <http://alan.petitepomme.net/cwn/cwn.rss>

[online] <http://lists.idyll.org/listinfo/caml-news-weekly/>

[Alan Schmitt] <http://alan.petitepomme.net/>


--=-=-=
Content-Type: text/html; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

<?xml version=3D"1.0" encoding=3D"utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns=3D"http://www.w3.org/1999/xhtml" lang=3D"en" xml:lang=3D"en">
<head>
<!-- 2020-04-28 Tue 14:42 -->
<meta http-equiv=3D"Content-Type" content=3D"text/html;charset=3Dutf-8" />
<meta name=3D"viewport" content=3D"width=3Ddevice-width, initial-scale=3D1"=
 />
<title>OCaml Weekly News</title>
<meta name=3D"generator" content=3D"Org mode" />
<style type=3D"text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type=3D"text/css">#table-of-contents h2 { display: none } .title { d=
isplay: none } .authorname { text-align: right }</style>
<style type=3D"text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type=3D"text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target =3D document.getElementById(id);
   if(null !=3D target) {
     elem.cacheClassElem =3D elem.className;
     elem.cacheClassTarget =3D target.className;
     target.className =3D "code-highlighted";
     elem.className   =3D "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target =3D document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className =3D elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className =3D elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id=3D"content">
<h1 class=3D"title">OCaml Weekly News</h1>
<p>
<a href=3D"http://alan.petitepomme.net/cwn/2020.04.21.html">Previous Week</=
a> <a href=3D"http://alan.petitepomme.net/cwn/index.html">Up</a> <a href=3D=
"http://alan.petitepomme.net/cwn/2020.05.05.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of April 21 to 28, 2020.
</p>

<div id=3D"table-of-contents">
<h2>Table of Contents</h2>
<div id=3D"text-table-of-contents">
<ul>
<li><a href=3D"#1">opam 2.0.7 and 2.1.0 alpha</a></li>
<li><a href=3D"#2">OCaml 4.11, release plan</a></li>
<li><a href=3D"#3">ocamlformat pre-commit hook</a></li>
<li><a href=3D"#4">New release of naboris 0.1.2</a></li>
<li><a href=3D"#5">ANN: Releases of ringo</a></li>
<li><a href=3D"#6">resto 0.2 released</a></li>
<li><a href=3D"#7">Retrofitting Parallelism onto OCaml (research paper)</a>=
</li>
<li><a href=3D"#8">Multicore Update: April 2020, with a preprint paper</a><=
/li>
<li><a href=3D"#9">Why did Core remove polymorphic comparison operators in =
OCaml 4.10.0?</a></li>
<li><a href=3D"#10">New release of js_of_ocaml 3.6.0</a></li>
<li><a href=3D"#11">Other OCaml News</a></li>
<li><a href=3D"#org478a1de">Old CWN</a></li>
</ul>
</div>
</div>


<div id=3D"outline-container-orgd7d1478" class=3D"outline-2">
<h2 id=3D"1">opam 2.0.7 and 2.1.0 alpha</h2>
<div class=3D"outline-text-2" id=3D"text-1">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-opam-2-0-7-and-2-1-0-al=
pha/5583/1">https://discuss.ocaml.org/t/ann-opam-2-0-7-and-2-1-0-alpha/5583=
/1</a>
</p>
</div>

<div id=3D"outline-container-orgf907a25" class=3D"outline-3">
<h3 id=3D"orgf907a25">R. Boujbel announced</h3>
<div class=3D"outline-text-3" id=3D"text-orgf907a25">
<p>
We are pleased to announce the release of <a href=3D"https://github.com/oca=
ml/opam/releases/tag/2.0.7">opam 2.0.7</a> and an
<a href=3D"https://github.com/ocaml/opam/releases/tag/2.1.0-alpha">2.1.0 al=
pha</a>.
</p>

<p>
This 2.0.7 version contains backported fixes, you can find more information=
 in this <a href=3D"https://opam.ocaml.org/blog/opam-2-0-7">blog
post</a>.
</p>

<p>
The 2.1.0~alpha contains many new features (cf. <a href=3D"https://opam.oca=
ml.org/blog/opam-2-1-0-alpha/">blog post</a> or
<a href=3D"https://github.com/ocaml/opam/releases/tag/2.1.0-alpha">release =
note</a>). If you want to take a look, a few glitches
or regressions are expected, please report them to <a href=3D"https://githu=
b.com/ocaml/opam/issues">the bug-tracker</a>.
</p>

<p>
<b>opam is a source-based package manager for OCaml. It supports multiple s=
imultaneous compiler installations, flexible package constraints, and a Git=
-friendly development workflow.</b>
</p>
</div>
</div>


<div id=3D"outline-container-orgc462585" class=3D"outline-3">
<h3 id=3D"orgc462585">Anil Madhavapeddy then added</h3>
<div class=3D"outline-text-3" id=3D"text-orgc462585">
<p>
Thanks for all the hard work that's gone into this release, @rjbou @AltGr a=
nd @dra27!
</p>

<p>
To set expectations, this alpha release is for our users to smoke test the =
new features and let us know if they work
for your usecases.
</p>

<p>
In particular, the opam external dependency management and support for recu=
rsive pins are both commonly requested
features. Please do take this alpha for a spin, and report feedback here on=
 this thread.
</p>

<p>
After this alpha is cut, there will be a sequence of beta releases (the num=
ber of which depend on the reported bug
tail), and then the final opam 2.1.0 release. Your testing <span class=3D"u=
nderline">now</span> will greatly help us put a quality release out of
the door.
</p>
</div>
</div>
</div>




<div id=3D"outline-container-org0219b88" class=3D"outline-2">
<h2 id=3D"2">OCaml 4.11, release plan</h2>
<div class=3D"outline-text-2" id=3D"text-2">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ocaml-4-11-release-plan/560=
0/1">https://discuss.ocaml.org/t/ocaml-4-11-release-plan/5600/1</a>
</p>
</div>

<div id=3D"outline-container-org9ba4712" class=3D"outline-3">
<h3 id=3D"org9ba4712">octachron announced</h3>
<div class=3D"outline-text-3" id=3D"text-org9ba4712">
<p>
The new version of OCaml, OCaml 4.11.0, has started its bugfix period: the =
set of new features is now mostly frozen,
and in the three upcoming months, we will focus mostly on fixing bugs.
</p>

<p>
For this release cycle, we will experiment releasing an alpha version of th=
e compiler.
</p>

<p>
This new alpha version is expected to work as a synchronization point for p=
eople working on updating the opam
ecosystem for the new release. Once the opam ecosystem is in shape for some=
 wider audience testings, we will publish
a beta version as usual. This should be happen around June.
</p>

<p>
One of the most notable change in this release is <code>Statmemprof</code>,=
 a new statistical memory profiler directly
integrated into the GC.
</p>

<p>
The provisional Changes list is <a href=3D"https://github.com/ocaml/ocaml/b=
lob/4.11/Changes">here</a>.
</p>

<p>
At this point of time, it is better to take this list with a grain of salt:=
 there are a handful of new features that
are still under integration, problematic features might be removed, and of =
course the list of bug fixes is
incomplete.
</p>

<p>
But one of the most notable feature in this change log, <code>Statmemprof</=
code> which a new statistical memory profiler API, is
most probably here to stay.
</p>
</div>
</div>


<div id=3D"outline-container-orgb09411b" class=3D"outline-3">
<h3 id=3D"orgb09411b">Guillaume Munch-Maccagnoni then added</h3>
<div class=3D"outline-text-3" id=3D"text-orgb09411b">
<p>
It should be mentioned that Memprof is documented as =E2=80=9C~EXPERIMENTAL=
~=E2=80=9D, and at least one breaking change is being
considered in 4.12. This also mean that suggestion for improvement will be =
welcome (AFAIU).
</p>
</div>
</div>
</div>




<div id=3D"outline-container-org9d06360" class=3D"outline-2">
<h2 id=3D"3">ocamlformat pre-commit hook</h2>
<div class=3D"outline-text-2" id=3D"text-3">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-ocamlformat-pre-commit-=
hook/5602/1">https://discuss.ocaml.org/t/ann-ocamlformat-pre-commit-hook/56=
02/1</a>
</p>
</div>

<div id=3D"outline-container-org7079ced" class=3D"outline-3">
<h3 id=3D"org7079ced">Brendan Long announced</h3>
<div class=3D"outline-text-3" id=3D"text-org7079ced">
<p>
This is kind of trivial but I figured it might be useful for other people. =
We created a hook config for using
<a href=3D"https://github.com/ocaml-ppx/ocamlformat#ocamlformat">ocamlforma=
t</a> with <a href=3D"https://pre-commit.com/">pre-commit</a>:
</p>

<p>
<a href=3D"https://github.com/arenadotio/pre-commit-ocamlformat">https://gi=
thub.com/arenadotio/pre-commit-ocamlformat</a>
</p>

<p>
pre-commit is a tool that makes it easier to run checks on changed files be=
fore commiting them, and this makes it so
you can auto-run ocamlformat and ensure no unformatted code gets into your =
repo.
</p>

<ol class=3D"org-ol">
<li><a href=3D"https://pre-commit.com/#install">Install pre-commit</a> like=
 <code>pip install pre-commit</code></li>
<li><p>
In your repo, add a .pre-commit-config.yaml like:
</p>
<div class=3D"org-src-container">
<pre class=3D"src src-yaml"><span style=3D"color: #b22222;">---</span>
<span style=3D"color: #a0522d;">repos</span>:
  - <span style=3D"color: #a0522d;">repo</span>: https://github.com/arenado=
tio/pre-commit-ocamlformat
    <span style=3D"color: #a0522d;">rev</span>: master <span style=3D"color=
: #b22222;"># </span><span style=3D"color: #b22222;">or pick a commit sha I=
 guess</span>
    <span style=3D"color: #a0522d;">hooks</span>:
     - <span style=3D"color: #a0522d;">id</span>: ocamlformat
</pre>
</div></li>
</ol>
<ol class=3D"org-ol">
<li>Run <code>pre-commit install</code></li>
<li><p>
Now every time you run <code>git commit</code> (or <code>pre-commit run</co=
de>), it will run every staged OCaml file through ocamlformat and complain =
if there are any changes:
</p>
<div class=3D"org-src-container">
<pre class=3D"src src-shell">$ pre-commit run ocamlformat
ocamlformat.....Failed
- hook id: ocamlformat
- files were modified by this hook
$ git add .
$ pre-commit run ocamlformat
ocamlformat.....Passed
</pre>
</div></li>
</ol>
</div>
</div>
</div>




<div id=3D"outline-container-org50178b5" class=3D"outline-2">
<h2 id=3D"4">New release of naboris 0.1.2</h2>
<div class=3D"outline-text-2" id=3D"text-4">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-new-release-of-naboris-=
0-1-2/5604/1">https://discuss.ocaml.org/t/ann-new-release-of-naboris-0-1-2/=
5604/1</a>
</p>
</div>

<div id=3D"outline-container-org879dad7" class=3D"outline-3">
<h3 id=3D"org879dad7">Shawn McGinty announced</h3>
<div class=3D"outline-text-3" id=3D"text-org879dad7">
<p>
Simple http server for OCaml/ReasonML.
</p>

<p>
<a href=3D"https://naboris.dev">naboris</a> has been updated to 0.1.2
</p>

<p>
This release comes with a few improvements to the API but most notably it h=
as much better documentation at
<a href=3D"https://naboris.dev">naboris.dev</a>
</p>
</div>
</div>
</div>




<div id=3D"outline-container-orgbf78a74" class=3D"outline-2">
<h2 id=3D"5">ANN: Releases of ringo</h2>
<div class=3D"outline-text-2" id=3D"text-5">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-releases-of-ringo/5605/=
1">https://discuss.ocaml.org/t/ann-releases-of-ringo/5605/1</a>
</p>
</div>

<div id=3D"outline-container-org632af22" class=3D"outline-3">
<h3 id=3D"org632af22">Rapha=C3=ABl Proust announced</h3>
<div class=3D"outline-text-3" id=3D"text-org632af22">
<p>
On behalf of Nomadic Labs, I am please to announce the first few releases o=
f Ringo: a library for caches. Ringo
offers two kinds of caches: Maps for caches of key-value pairs and Sets for=
 caches of simple elements. In addition,
each kind of cache can be tweaked to handle their bounds differently.
</p>

<p>
Ringo versions 0.1, 0.2 and 0.3 are available on <code>opam</code>. As the =
version number and the bundled announce suggests,
this library is still in early phases of release: additional replacement po=
licies will be added, the interface will
probably change somewhat, etc. Suggestions welcome!
</p>

<p>
Even though the interface is still in early phases of release, the implemen=
tation is covered by a lot of tests and is
already in use in the Tezos project.
</p>

<p>
The code is available at <a href=3D"https://gitlab.com/nomadic-labs/ringo">=
https://gitlab.com/nomadic-labs/ringo</a>
</p>
</div>
</div>
</div>




<div id=3D"outline-container-orgffe4523" class=3D"outline-2">
<h2 id=3D"6">resto 0.2 released</h2>
<div class=3D"outline-text-2" id=3D"text-6">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-resto-0-2-released/5028=
/3">https://discuss.ocaml.org/t/ann-resto-0-2-released/5028/3</a>
</p>
</div>

<div id=3D"outline-container-orgf4bb6c8" class=3D"outline-3">
<h3 id=3D"orgf4bb6c8">Rapha=C3=ABl Proust announced</h3>
<div class=3D"outline-text-3" id=3D"text-orgf4bb6c8">
</div>
<div id=3D"outline-container-orgf83e272" class=3D"outline-4">
<h4 id=3D"orgf83e272">Release of <code>resto 0.5</code></h4>
<div class=3D"outline-text-4" id=3D"text-orgf83e272">
<p>
On behalf of Nomadic Labs, I'm happy to announce the release of version 0.5=
 of <code>resto</code>.
</p>

<p>
The main change brought in this release are:
</p>
<ul class=3D"org-ul">
<li>relaxing of dependency bounds,</li>
<li>documentation!</li>
</ul>
</div>
</div>
</div>
</div>




<div id=3D"outline-container-orgc36276c" class=3D"outline-2">
<h2 id=3D"7">Retrofitting Parallelism onto OCaml (research paper)</h2>
<div class=3D"outline-text-2" id=3D"text-7">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/retrofitting-parallelism-on=
to-ocaml-research-paper/5628/1">https://discuss.ocaml.org/t/retrofitting-pa=
rallelism-onto-ocaml-research-paper/5628/1</a>
</p>
</div>

<div id=3D"outline-container-orgc09f28c" class=3D"outline-3">
<h3 id=3D"orgc09f28c">Guillaume Munch-Maccagnoni announced</h3>
<div class=3D"outline-text-3" id=3D"text-orgc09f28c">
<p>
The following paper on the multicore GC design by @kayceesrk and his coauth=
ors has been posted on arXiv today and
might interest the community:
<a href=3D"https://arxiv.org/abs/2004.11663">https://arxiv.org/abs/2004.116=
63</a>
</p>
</div>
</div>
</div>




<div id=3D"outline-container-org867fde2" class=3D"outline-2">
<h2 id=3D"8">Multicore Update: April 2020, with a preprint paper</h2>
<div class=3D"outline-text-2" id=3D"text-8">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/multicore-update-april-2020=
-with-a-preprint-paper/5630/1">https://discuss.ocaml.org/t/multicore-update=
-april-2020-with-a-preprint-paper/5630/1</a>
</p>
</div>

<div id=3D"outline-container-orgd2db07f" class=3D"outline-3">
<h3 id=3D"orgd2db07f">Anil Madhavapeddy announced</h3>
<div class=3D"outline-text-3" id=3D"text-orgd2db07f">
<p>
Welcome to the April 2020 update from the Multicore OCaml team, across the =
UK, India, France and Switzerland!
Although most of us are in lockdown, we continue to march forward.  As with=
 <a href=3D"https://discuss.ocaml.org/tag/multicore-monthly">previous
updates</a>, thanks to @shakthimaan and @kayceesrk for help assembling
it all.
</p>
</div>

<ul class=3D"org-ul">
<li><a id=3D"org2e6ba99"></a>Preprint: Retrofitting Parallelism onto OCaml<=
br />
<div class=3D"outline-text-5" id=3D"text-org2e6ba99">
<p>
We've put up a preprint of a paper titled <a href=3D"https://arxiv.org/abs/=
2004.11663">"Retrofitting Parallelism onto OCaml" </a> for which we would b=
e grateful to receive feedback.  The paper lays out the problem space for t=
he multicore extension
of OCaml  and presents the design choices, implementation and evaluation of=
 the  concurrent garbage collector (GC).
</p>

<p>
Note that this is <b>not a final paper</b> as it is currently under peer re=
view, so any feedback given now can still be
incorporated.  Please use the e-mail contact details in the <a href=3D"http=
s://arxiv.org/pdf/2004.11663.pdf">pdf paper</a> for
@kayceesrk and myself so we can aggregate (and acknowledge!) any such comme=
nts.
</p>
</div>
</li>

<li><a id=3D"orgea3a09d"></a>Rebasing Progress<br />
<div class=3D"outline-text-5" id=3D"text-orgea3a09d">
<p>
The Multicore OCaml rebase from 4.06.1 has gained momentum.  We have succes=
sfully rebased the parallel-minor-GC all
the way onto the <a href=3D"https://github.com/ocaml-multicore/ocaml-multic=
ore/tree/parallel_minor_gc_4_09">4.09 OCaml trees</a>.
We will publish updated opam packages when we get to the recently branched =
4.11 in the next couple of weeks.
</p>

<p>
Rebasing complex features like this is a "slow and steady" process due to t=
he number of intermediate conflicts and
bootstrapping, so we will not be publishing opam packages for every interme=
diate version &#x2013; instead, the 4.11 trees
will form the new "stable base" for any PRs.
</p>
</div>
</li>

<li><a id=3D"org25334db"></a>Higher-level Domainslib API<br />
<div class=3D"outline-text-5" id=3D"text-org25334db">
<p>
A thread from <a href=3D"https://discuss.ocaml.org/t/multicore-ocaml-march-=
2020-update/5406/8">last month's update</a> on building
a parallel raytracer led to some useful advancements in the
<a href=3D"https://github.com/ocaml-multicore/domainslib">domainslib</a> li=
brary to provide async/await-style task support. See
the updates below for more details.
</p>

<p>
There is also an interesting discussion on
<a href=3D"https://github.com/ocaml-multicore/ocaml-multicore/issues/324">o=
caml-multicore/ocaml-multicore#324</a> about how to go
about profiling and optimising your own small programs.  More experiments w=
ith parallel algorithms with different
scheduling properties would be most useful at this time.
</p>
</div>
</li>

<li><a id=3D"orga8db401"></a>Upstreamed features in 4.11<br />
<div class=3D"outline-text-5" id=3D"text-orga8db401">
<p>
The <a href=3D"https://discuss.ocaml.org/t/ocaml-4-11-release-plan/5600">4.=
11 release has recently branched</a> and has the
following multicore-relevant changes in it:
</p>

<ul class=3D"org-ul">
<li>A concurrency-safe marshalling implementation (originally in <a href=3D=
"https://github.com/ocaml/ocaml/pull/9293">ocaml#9293</a>, then implemented=
 again in <a href=3D"https://github.com/ocaml/ocaml/pull/9353">ocaml#9353</=
a>). This will have a slight speed hit to marshalling-heavy programs, so fe=
edback on trying this in your projects with 4.11 will be appreciated to the=
 upstream OCaml issue tracker.</li>
<li>A runtime eventlog tracing system using the CTF format is on the verge =
of being merged in 4.11 over in <a href=3D"https://github.com/ocaml/ocaml/p=
ull/9082">ocaml#9082</a>.  This will also be of interest to those who need =
sequential program profiling, and is a generalisation of the infrastructure=
 that was essential to our development of the multicore GC.  If anyone is i=
nterested in helping with hacking on the OCaml side of CTF support to build=
 clients, please get in touch with me or @kayceesrk.</li>
</ul>

<p>
In addition to the above highlights, we have also been making continuous im=
provements and additions to the Sandmark
benchmarking test infrastructure. The various ongoing and completed tasks a=
re provided below for your reference.
</p>
</div>
</li>
</ul>

<div id=3D"outline-container-org69818bf" class=3D"outline-4">
<h4 id=3D"org69818bf">Multicore OCaml</h4>
<div class=3D"outline-text-4" id=3D"text-org69818bf">
</div>
<ul class=3D"org-ul">
<li><a id=3D"org0b49f57"></a>Ongoing<br />
<div class=3D"outline-text-5" id=3D"text-org0b49f57">
<ul class=3D"org-ul">
<li><p>
<a href=3D"https://github.com/ocaml-multicore/ocaml-multicore/tree/parallel=
_minor_gc_4_09">ocaml-multicore/ocaml-multicore</a> Promote Multicore OCaml=
 to trunk
</p>

<p>
The rebasing of Multicore OCaml from 4.06 to 4.10 is being worked, and we a=
re now at 4.09! In a few weeks, we expect to complete the rebase to the lat=
est trunk release.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-multicore/eventlog-tools">ocaml-multico=
re/eventlog-tools</a>: OCaml Eventlog Tools
</p>

<p>
A project that provides a set of tools for runtime tracing for OCaml 4.11.0=
 and higher has been created. This includes a simple OCaml decoder for even=
tlog's trace and a built-in chrome converter tool.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-multicore/domainslib/pull/5">ocaml-mult=
icore/domainslib#5</a> Add parallel_scan to domainslib
</p>

<p>
A <a href=3D"https://en.wikipedia.org/wiki/Prefix_sum#Shared_memory:_Two-le=
vel_algorithm">parallel_scan</a>  implementation that uses the Task API wit=
h prefix_sum and summed_area_table has now been added to the Domain-level P=
arallel Programming library for Multicore OCaml (domainslib) library.
</p></li>
</ul>
</div>
</li>

<li><a id=3D"org7ee7fce"></a>Completed<br />
<div class=3D"outline-text-5" id=3D"text-org7ee7fce">
<p>
The following PRs have been merged into Multicore OCaml and its ecosystem p=
rojects:
</p>

<ul class=3D"org-ul">
<li><p>
<a href=3D"https://github.com/ocaml-multicore/ocaml-multicore/pull/328">oca=
ml-multicore/ocaml-multicore#328</a>
Multicore compiler with Flambda
</p>

<p>
Support for Flambda has been merged into the Multicore OCaml project reposi=
tory. The translation is now performed at cmmgen instead of lambda for clam=
bda conversion.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-multicore/ocaml-multicore/issues/324">o=
caml-multicore/ocaml-multicore#324</a>
Optimizing a Multicore program
</p>

<p>
The following <a href=3D"https://github.com/ocaml-multicore/ocaml-multicore=
/issues/324#issuecomment-610183856">documentation</a> provides a detailed e=
xample on how to do performance debugging for a Multicore program to improv=
e the runtime performance.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-multicore/ocaml-multicore/pull/325">oca=
ml-multicore/ocaml-multicore#325</a>
Added eventlog_to_latencies.py script
</p>

<p>
A script to generate a latency report from an eventlog has now been  includ=
ed in the ocaml-multicore repository.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-multicore/domainslib/pull/4">ocaml-mult=
icore/domainslib#4</a>
Add support for task_pools
</p>

<p>
The domainslib library now has support for work-stealing task pools with as=
ync/await parallelism. You are encouraged to try the <a href=3D"https://git=
hub.com/ocaml-multicore/domainslib/tree/task_pool/test">examples</a>.
</p></li>
</ul>
</div>
</li>
</ul>
</div>

<div id=3D"outline-container-org04cf71c" class=3D"outline-4">
<h4 id=3D"org04cf71c">Benchmarking</h4>
<div class=3D"outline-text-4" id=3D"text-org04cf71c">
<p>
A number of new benchmarks are being ported to the <a href=3D"https://githu=
b.com/ocaml-bench/sandmark">Sandmark</a> performance
benchmarking test suite.
</p>

<ul class=3D"org-ul">
<li><p>
<a href=3D"https://github.com/ocaml-bench/sandmark/pull/104">ocaml-bench/sa=
ndmark#104</a>
Added python pip3 dependency
</p>

<p>
A check_dependency function has now been defined in the Makefile along with=
 a list of dependencies and pip packages for Ubuntu. You can now run <code>=
make depend</code> prior to building the benchmark suite to ensure that you=
 have the required software. The <code>python3-pip</code> package has been =
added to the list of dependencies.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-bench/sandmark/issues/96">ocaml-bench/s=
andmark#96</a>
Sandmark Analyze notebooks
</p>

<p>
The setup, builds and execution scripts for developer branches on bench2.oc=
amllabs.io have been migrated to winter.ocamllabs.io.
</p>

<p>
A UI and automated script driven notebooks for analyzing sequential bench r=
esults is being worked upon.
</p></li>
<li><p>
<a href=3D"https://github.com/ocaml-bench/sandmark/pull/108">ocaml-bench/sa=
ndmark#108</a>
Porting mergesort and matrix multiplication using Task Pool API library
</p>

<p>
This is an on-going PR to implement merge sort and matrix_multiplication us=
ing <code>parallel_for</code>.
</p></li>
<li><p>
<a href=3D"https://github.com/Sudha247/cubicle/tree/add-multicore">cubicle<=
/a>
</p>

<p>
<code>Cubicle</code> is a model checker and an automatic SMT theorem prover=
. At present, it is being ported to Multicore OCaml, and this is a work in =
progress.
</p></li>
<li><p>
<a href=3D"https://github.com/athas/raytracers/pull/6">raytracers</a>
</p>

<p>
Raytracers is a repository that contains ray tracer implementation for diff=
erent parallel functional programming languages. The OCaml implementation h=
as now been updated to use the new <code>Domainslib.Task</code> API.
</p>

<p>
Also, a few <a href=3D"https://github.com/kayceesrk/raytracers/blob/flambda=
/ocaml/myocamlbuild.ml">experiments</a> were performed on flambda parameter=
s for the Multicore raytracer which gives around 25% speedup, but it does n=
ot yet remove the boxing of floats. The experiments are to be repeated with=
 a merge against the wip flambda2 trees on 4.11, that removes float boxing.
</p></li>
</ul>
</div>
</div>

<div id=3D"outline-container-orgac72a60" class=3D"outline-4">
<h4 id=3D"orgac72a60">OCaml</h4>
<div class=3D"outline-text-4" id=3D"text-orgac72a60">
</div>
<ul class=3D"org-ul">
<li><a id=3D"org3dcb7fd"></a>Ongoing<br />
<div class=3D"outline-text-5" id=3D"text-org3dcb7fd">
<ul class=3D"org-ul">
<li><p>
<a href=3D"https://github.com/ocaml/ocaml/pull/9082">ocaml/ocaml#9082</a>
Eventlog tracing system
</p>

<p>
A substantial number of commits have gone into this PR based on reviews and=
 feedback. These include updates to the configure script, handling warnings=
 and exceptions, adding build support for Windows, removing unused code and=
 coding style changes. This patch will be cherry-picked for the 4.11 releas=
e.
</p></li>
</ul>
</div>
</li>

<li><a id=3D"org2e6b1bf"></a>Completed<br />
<div class=3D"outline-text-5" id=3D"text-org2e6b1bf">
<ul class=3D"org-ul">
<li><p>
<a href=3D"https://github.com/ocaml/ocaml/pull/9353">ocaml/ocaml#9353</a>
Reimplement <code>output_value</code> using a hash table to detect sharing
</p>

<p>
This PR which implements a hash table and bit vector as required for Multic=
ore OCaml has been merged to 4.11.
</p></li>
</ul>

<p>
Our thanks as always go to all the OCaml developers and users in the commun=
ity for their continued support, and
contribution to the project!
</p>
</div>
</li>
</ul>
</div>

<div id=3D"outline-container-orgf1cf46f" class=3D"outline-4">
<h4 id=3D"orgf1cf46f">Acronyms</h4>
<div class=3D"outline-text-4" id=3D"text-orgf1cf46f">
<ul class=3D"org-ul">
<li>API: Application Programming Interface</li>
<li>GC: Garbage Collector</li>
<li>PIP: Pip Installs Python</li>
<li>PR: Pull Request</li>
<li>SMT: Satisfiability Modulo Theories</li>
<li>UI: User Interface</li>
</ul>
</div>
</div>
</div>
</div>




<div id=3D"outline-container-org0ab994f" class=3D"outline-2">
<h2 id=3D"9">Why did Core remove polymorphic comparison operators in OCaml =
4.10.0?</h2>
<div class=3D"outline-text-2" id=3D"text-9">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/why-did-core-remove-polymor=
phic-comparison-operators-in-ocaml-4-10-0/5633/1">https://discuss.ocaml.org=
/t/why-did-core-remove-polymorphic-comparison-operators-in-ocaml-4-10-0/563=
3/1</a>
</p>
</div>

<div id=3D"outline-container-org5298f42" class=3D"outline-3">
<h3 id=3D"org5298f42">Trung Ta asked</h3>
<div class=3D"outline-text-3" id=3D"text-org5298f42">
<p>
I'm using the Core library in a project, and recently when I upgraded my OC=
aml from 4.08.1 to 4.10.0, plenty of
compilation errors suddenly appears for comparison expressions like:
</p>

<p>
<code>if (xs =3D []) then ...</code>   or  <code>if (x =3D true) then ...</=
code>
</p>

<p>
I saw that this change was discussed in this
<a href=3D"https://discuss.ocaml.org/t/monomorphic-comparison-operator-of-j=
anestreet-base-library/1585">thread</a> about
monomorphic comparison operators in Base, but did not expect that Core woul=
d make it a default behavior.
</p>

<p>
So I'd like to ask since which version that Core removed such polymorphic c=
omparison operators?
(I couldn't find it in release notes of Core)
</p>

<p>
Also, if I defined a sum type like <code>type ternary =3D True | False | Un=
kn</code>, what will be a correct way to write <code>if (x =3D
True) then ...</code> (which is allowed in the new Core)?
</p>

<p>
I can temporarily fix by writing <code>if (x =3D=3D True) then ...</code>, =
but using <code>=3D=3D</code> doesn't seem correct, since <code>=3D=3D</cod=
e> is about
comparing physical objects&#x2026;
</p>

<p>
Thanks for spending your time to check my question.
</p>
</div>
</div>


<div id=3D"outline-container-org14934e6" class=3D"outline-3">
<h3 id=3D"org14934e6">Aaron L. Zeng replied</h3>
<div class=3D"outline-text-3" id=3D"text-org14934e6">
<p>
The change was announced in <a href=3D"https://discuss.ocaml.org/t/ann-v0-1=
3-release-of-jane-street-packages/4735">https://discuss.ocaml.org/t/ann-v0-=
13-release-of-jane-street-packages/4735</a>, although
unfortunately it doesn't look like the CHANGES.md file was updated in the r=
epo.  I would consider the thread to be
the canonical announcement.
</p>

<blockquote>
<p>
Also, if I defined a sum type like <code>type ternary =3D True | False | Un=
kn</code> , what will be a correct way to write <code>if (x
=3D True) then ...</code> (which is allowed in the new Core)?
</p>
</blockquote>

<p>
Here's a few suggestions:
</p>

<ol class=3D"org-ol">
<li><p>
Define equality/compare functions using <a href=3D"https://github.com/janes=
treet/ppx_compare"><code>ppx_compare</code></a>
</p>
<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">type</span> <span style=3D"color: #228b22;">ternary</span> =3D <span s=
tyle=3D"color: #000000; background-color: #ffffff;">True</span> | <span sty=
le=3D"color: #000000; background-color: #ffffff;">False</span> | <span styl=
e=3D"color: #000000; background-color: #ffffff;">Unkn</span> <span style=3D=
"color: #483d8b;">[@@deriving equal]</span>

<span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #0000ff;">f</span> <span style=3D"color: #a0522d;">x</span> =3D =
<span style=3D"color: #a020f0;">if</span> (equal_ternary x <span style=3D"c=
olor: #000000; background-color: #ffffff;">True</span>) <span style=3D"colo=
r: #a020f0;">then</span> ...
</pre>
</div></li>
<li><p>
Define equality/compare functions manually
</p>
<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">let</span> <span style=3D"color: #0000ff;">equal_ternary</span> <span =
style=3D"color: #a0522d;">t1</span> <span style=3D"color: #a0522d;">t2</spa=
n> =3D
  <span style=3D"color: #a020f0;">match</span> t1, t2 <span style=3D"color:=
 #a020f0;">with</span>
  | <span style=3D"color: #000000; background-color: #ffffff;">True</span>,=
 <span style=3D"color: #000000; background-color: #ffffff;">True</span> | <=
span style=3D"color: #000000; background-color: #ffffff;">False</span>, <sp=
an style=3D"color: #000000; background-color: #ffffff;">False</span> | <spa=
n style=3D"color: #000000; background-color: #ffffff;">Unkn</span>, <span s=
tyle=3D"color: #000000; background-color: #ffffff;">Unkn</span> -&gt; <span=
 style=3D"color: #008b8b;">true</span>
  | _ -&gt; <span style=3D"color: #008b8b;">false</span>
</pre>
</div></li>
<li><p>
Explicitly request polymorphic comparison operators using the <code>Poly</c=
ode> module:
</p>
<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">let</span> <span style=3D"color: #0000ff;">f</span> <span style=3D"col=
or: #a0522d;">x</span> =3D <span style=3D"color: #a020f0;">if</span> (<span=
 style=3D"color: #228b22;">Poly.</span>(<span style=3D"color: #0000ff;">=3D=
</span>) x <span style=3D"color: #000000; background-color: #ffffff;">True<=
/span>) <span style=3D"color: #a020f0;">then</span> ...
</pre>
</div></li>
</ol>
</div>
</div>


<div id=3D"outline-container-orgd743e61" class=3D"outline-3">
<h3 id=3D"orgd743e61">Trung said and Aaron L. Zeng replied</h3>
<div class=3D"outline-text-3" id=3D"text-orgd743e61">
<blockquote>
<p>
btw,
</p>

<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">type</span> <span style=3D"color: #228b22;">ternary</span> =3D <span s=
tyle=3D"color: #000000; background-color: #ffffff;">True</span> | <span sty=
le=3D"color: #000000; background-color: #ffffff;">False</span> | <span styl=
e=3D"color: #000000; background-color: #ffffff;">Unkn</span> <span style=3D=
"color: #483d8b;">[@@deriving equal]</span>
</pre>
</div>

<p>
should be: <code>[@@deriving eq]</code>
</p>
</blockquote>

<p>
That depends on which preprocessor you are using.  <code>[@@deriving equal]=
</code> comes from ppx_compare, whereas <code>[@@deriving
eq]</code> comes from <a href=3D"https://github.com/ocaml-ppx/ppx_deriving"=
>ppx_deriving</a>.  Base/Core and the like have better
support for the former, which is a Jane Street project, although you can fe=
el free to use the latter&#x2014;the naming
conventions are different, so it may not be as convenient.
</p>
</div>
</div>
</div>




<div id=3D"outline-container-org879fe51" class=3D"outline-2">
<h2 id=3D"10">New release of js_of_ocaml 3.6.0</h2>
<div class=3D"outline-text-2" id=3D"text-10">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-new-release-of-js-of-oc=
aml-3-6-0/5634/1">https://discuss.ocaml.org/t/ann-new-release-of-js-of-ocam=
l-3-6-0/5634/1</a>
</p>
</div>

<div id=3D"outline-container-orgc0cfeaa" class=3D"outline-3">
<h3 id=3D"orgc0cfeaa">Hhugo announced</h3>
<div class=3D"outline-text-3" id=3D"text-orgc0cfeaa">
<p>
I'm pleased to announce the release <a href=3D"https://github.com/ocsigen/j=
s_of_ocaml">Js_of_ocaml</a> 3.6.0.
</p>

<p>
Js_of_ocaml is a compiler from OCaml bytecode to JavaScript. It makes it po=
ssible to run pure OCaml programs in
JavaScript environment like browsers and Node.js.
</p>

<p>
Try it <a href=3D"https://ocsigen.org/js_of_ocaml/3.6.0/manual/files/toplev=
el/index.html">online</a>.
</p>

<p>
Notable changes:
</p>
<ul class=3D"org-ul">
<li>The <code>js_of_ocaml</code> compiler now accepts sub-commands (link, b=
uild-runtime, build-fs, ..). The plan for future versions is to remove othe=
r binary (e.g. jsoo_link) and consolidate everything inside the <code>js_of=
_ocaml</code> binary itself.</li>
<li>The standard JavaScript runtime is now embedded in the compiler (findli=
b is no longer needed to locate it)</li>
<li>Add support for the Str library (Regular expressions and high-level str=
ing processing) shipped with the OCaml compiler</li>
<li>Change memory representation of <code>Int64.t</code> (you might need to=
 update your JavaScript stubs)</li>
<li>Many bug fixes (thanks to many more tests)</li>
</ul>
</div>
</div>


<div id=3D"outline-container-org0495b2e" class=3D"outline-3">
<h3 id=3D"org0495b2e">Kirill Alexander Khalitov asked and Hhugo replied</h3>
<div class=3D"outline-text-3" id=3D"text-org0495b2e">
<blockquote>
<p>
1 Does the project have roadmap?
</p>
</blockquote>

<p>
There is no official roadmap, the project evolves based on issues, requests=
 and contributions.
You can take a look at some of the <a href=3D"https://github.com/ocsigen/js=
_of_ocaml/issues?q=3Dis:open+is:issue+label:enhancement">Github
issues</a>
</p>

<blockquote>
<p>
2 Is the project generally exists only for Ocsigen needs?
</p>
</blockquote>

<p>
js_of_ocaml is used by various projects, not only Ocsigen. See <a href=3D"h=
ttps://github.com/janestreet/bonsai">Bonsai</a>,
<a href=3D"https://github.com/Sketch-sh/sketch-sh">sketch-sh</a> or <a href=
=3D"https://github.com/jscoq/jscoq">jscoq</a> for instance.
</p>

<blockquote>
<p>
3 Will it be adopted for modern front-end development (commonjs/esmodules c=
ompatibility for working with existing
building tools ex. webpack, etc).
</p>
</blockquote>

<p>
Being more friendly with the JavaScript ecosystem as been discussed here an=
d there in the past but little has been
done, possibly by lack of interest or use cases.
</p>

<blockquote>
<p>
4 Does the project competing with bucklescript?
</p>
</blockquote>

<p>
I don't think so. The two projects have different goals and different audie=
nce. One of Js_of_ocaml main goal is to
stay as close as possible to the official OCaml semantic, allowing to lever=
age existing OCaml libraries without any
modification.
</p>

<blockquote>
<p>
5 Why not to do ocaml to js compiler tools (based on js_of_ocaml and buckle=
script experience) that combine possibility of using native ocaml and js li=
braries across back-end and front-end like implemented in Scala.js/Fable F#?
</p>
</blockquote>

<p>
I don't understand this question. I would expect both js_of_ocaml and buckl=
escript to be like Scala.js/Fable F# in
their own way.
</p>
</div>
</div>


<div id=3D"outline-container-orgc49868a" class=3D"outline-3">
<h3 id=3D"orgc49868a">Kirill Alexander Khalitov then said</h3>
<div class=3D"outline-text-3" id=3D"text-orgc49868a">
<p>
I mean what Scala.js/Fable F# allows to use the most native libraries (not =
all) and JS ones (from npm registry or
from custom JS module) in one project (ex. front-end). But in case of js_of=
_ocaml we limited to native OCaml libs and
"HTML scripts" (not JS compatible modules). For bucklescript case we have w=
hole JS ecosystem but have no access to
useful native libs from opam registry.
</p>
</div>
</div>


<div id=3D"outline-container-org091e045" class=3D"outline-3">
<h3 id=3D"org091e045">Xavier Van de Woestyne replied</h3>
<div class=3D"outline-text-3" id=3D"text-org091e045">
<p>
In Js_of_OCaml, you can deal with JavaScript's module (and npm/yarn), using=
 for example:
</p>

<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #b22222;">(* </span><spa=
n style=3D"color: #b22222;">val require : string -&gt; 'a </span><span styl=
e=3D"color: #b22222;">*)</span>
<span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #0000ff;">require</span> <span style=3D"color: #a0522d;">module_=
name</span> =3D
  <span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #000000; font-weight: bold;">open </span><span style=3D"color: #=
228b22;">Js.Unsafe</span> <span style=3D"color: #000000; font-weight: bold;=
">in</span>
  fun_call
    (js_expr <span style=3D"color: #8b2252;">"require"</span>)
    [|inject (<span style=3D"color: #228b22;">Js.</span>string module_name)=
|]
</pre>
</div>
</div>
</div>
</div>




<div id=3D"outline-container-orgf967ff4" class=3D"outline-2">
<h2 id=3D"11">Other OCaml News</h2>
<div class=3D"outline-text-2" id=3D"text-11">
</div>
<div id=3D"outline-container-org6945ba2" class=3D"outline-3">
<h3 id=3D"org6945ba2">From the ocamlcore planet blog</h3>
<div class=3D"outline-text-3" id=3D"text-org6945ba2">
<p>
Here are links from many OCaml blogs aggregated at <a href=3D"http://ocaml.=
org/community/planet/">OCaml Planet</a>.
</p>

<ul class=3D"org-ul">
<li><a href=3D"http://math.andrej.com/2020/04/28/every-theorem-prover/">Eve=
ry proof assistant</a></li>
<li><a href=3D"http://www.ocamlpro.com/2020/04/21/opam-2-0-7-release/">opam=
 2.0.7 release</a></li>
<li><a href=3D"http://www.ocamlpro.com/2020/04/21/opam-2-1-0-alpha-is-here/=
">opam 2.1.0 alpha is here!</a></li>
</ul>
</div>
</div>
</div>




<div id=3D"outline-container-org478a1de" class=3D"outline-2">
<h2 id=3D"org478a1de">Old CWN</h2>
<div class=3D"outline-text-2" id=3D"text-org478a1de">
<p>
If you happen to miss a CWN, you can <a href=3D"mailto:alan.schmitt@polytec=
hnique.org">send me a message</a> and I'll mail it to you, or go take a loo=
k at <a href=3D"http://alan.petitepomme.net/cwn/">the archive</a> or the <a=
 href=3D"http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives<=
/a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a hre=
f=3D"http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class=3D"authorname">
<p>
<a href=3D"http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>


--=-=-=--

