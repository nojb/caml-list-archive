Received: (from majordomo@localhost) by pauillac.inria.fr (8.7.6/8.7.3) id WAA09415; Thu, 11 Sep 2003 22:05:43 +0200 (MET DST)
X-Authentication-Warning: pauillac.inria.fr: majordomo set sender to owner-caml-list@pauillac.inria.fr using -f
Received: from concorde.inria.fr (concorde.inria.fr [192.93.2.39]) by pauillac.inria.fr (8.7.6/8.7.3) with ESMTP id WAA00419 for <caml-list@pauillac.inria.fr>; Thu, 11 Sep 2003 22:05:42 +0200 (MET DST)
Received: from post.bourget.univ-savoie.fr (post.bourget.univ-savoie.fr [193.48.120.73])
	by concorde.inria.fr (8.11.1/8.11.1) with ESMTP id h8BK5gf15238
	for <caml-list@inria.fr>; Thu, 11 Sep 2003 22:05:42 +0200 (MET DST)
Received: from univ-savoie.fr (bpp3.local.univ-savoie.fr [192.168.4.22])
          by post.bourget.univ-savoie.fr (8.12.3/jtpda-5.4) with ESMTP id h8BK6Lno012226
          ; Thu, 11 Sep 2003 22:06:22 +0200
Message-ID: <3F60D4B4.4000400@univ-savoie.fr>
Date: Thu, 11 Sep 2003 22:01:56 +0200
From: Christophe Raffalli <christophe.raffalli@univ-savoie.fr>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.3.1) Gecko/20030428
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: ijtrotts@ucdavis.edu, caml-list@inria.fr
Subject: Re: [Caml-list] FreeBSD + lablglut + thread: bug or not bug
References: <20030910185255.GF25815@ecooper.com> <3F607D6F.4010405@univ-savoie.fr> <20030911173321.GA4359@beech>
In-Reply-To: <20030911173321.GA4359@beech>
X-Enigmail-Version: 0.73.1.0
X-Enigmail-Supports: pgp-inline, pgp-mime
Content-Type: multipart/signed; micalg=pgp-sha1;
 protocol="application/pgp-signature";
 boundary="------------enigCAFC5084E02B8DF85287FB80"
Content-Transfer-Encoding: 8bit
X-Scanned-By: MIMEDefang 2.33 (www . roaringpenguin . com / mimedefang)
X-Loop: caml-list@inria.fr
X-Spam: no; 0.00; raffalli:01 raffalli:01 univ-savoie:01 caml-list:01 lablglut:01 bug:01 bug:01 openpgp:01 2440:01 3156:01 gerd:01 issac:01 trotts:01 otherlibs:01 posix:01 
X-Attachments: type="application/pgp-signature" 
Sender: owner-caml-list@pauillac.inria.fr
Precedence: bulk

This is an OpenPGP/MIME signed message (RFC 2440 and 3156)
--------------enigCAFC5084E02B8DF85287FB80
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit


> 
> 
> Thanks for your bug report.  I don't have a BSD box on hand to reproduce 
> the bug, so there isn't much I can do about this at the moment.  Did Gerd
> Stolpmann's advice help?
> 
> Issac Trotts
> 

I will try (tomorrow ?) to check if the problem comes from libc_r ...

But it is probably better to assume a bug in caml_thread_initialize in 
otherlibs/systhreadsin/posix.c for FreeBSD or in other Caml code doing 
openGL initialization.

They are quite a lot of multi-threaded code running well on FreeBSD 
(mozilla, ...) not to assume first a bug in libc_r when a five line bit 
of Caml code that essentially initializes openGL and call 
caml_thread_initialize does SEGV.

But may be they are other reason to suspect libc_r ?

I will try both to compile my small bit of code without libc_r and maybe 
try to localize the line in caml_thread_initialize that trigger the 
crash (I surely can do that because no call to caml_thread_initialize => 
no crash).

-- 
Christophe Raffalli
Université de Savoie
Batiment Le Chablais, bureau 21
73376 Le Bourget-du-Lac Cedex

tél: (33) 4 79 75 81 03
fax: (33) 4 79 75 87 42
mail: Christophe.Raffalli@univ-savoie.fr
www: http://www.lama.univ-savoie.fr/~RAFFALLI
---------------------------------------------
IMPORTANT: this mail is signed using PGP/MIME
At least Enigmail/Mozilla, mutt or evolution
can check this signature
---------------------------------------------

--------------enigCAFC5084E02B8DF85287FB80
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQE/YNS0SQDyWB/+xBwRAtmzAKDSm2BaD6vKEScrew/VYCLneyHPKwCgu7fl
gS/mY8T799cfaUtU6RJkMrE=
=vBpD
-----END PGP SIGNATURE-----

--------------enigCAFC5084E02B8DF85287FB80--

-------------------
To unsubscribe, mail caml-list-request@inria.fr Archives: http://caml.inria.fr
Bug reports: http://caml.inria.fr/bin/caml-bugs FAQ: http://caml.inria.fr/FAQ/
Beginner's list: http://groups.yahoo.com/group/ocaml_beginners

