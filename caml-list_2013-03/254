Return-Path: <casa.berthod@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id E28347EE7A
	for <caml-list@sympa.inria.fr>; Wed, 27 Mar 2013 23:42:19 +0100 (CET)
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  casa.berthod@gmail.com) identity=pra;
  client-ip=74.125.82.178;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="casa.berthod@gmail.com";
  x-sender="casa.berthod@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  casa.berthod@gmail.com designates 74.125.82.178 as permitted
  sender) identity=mailfrom; client-ip=74.125.82.178;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="casa.berthod@gmail.com";
  x-sender="casa.berthod@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-we0-f178.google.com) identity=helo;
  client-ip=74.125.82.178;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="casa.berthod@gmail.com";
  x-sender="postmaster@mail-we0-f178.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AkUFALJ0U1FKfVKyjWdsb2JhbABDgzqEPKtnhhOIKn8WDgEBAQEHCwsJEgYkgh8BAQQBQAEbEAoDAQMBCwYFBAEGByISIxEBBQECDA4GiBQBAwkGBAihA4wygnuEOgoZJw1ZiHwBBQyPCAQHgl9hA5Mhg0aBH44GP4Qv
X-IPAS-Result: AkUFALJ0U1FKfVKyjWdsb2JhbABDgzqEPKtnhhOIKn8WDgEBAQEHCwsJEgYkgh8BAQQBQAEbEAoDAQMBCwYFBAEGByISIxEBBQECDA4GiBQBAwkGBAihA4wygnuEOgoZJw1ZiHwBBQyPCAQHgl9hA5Mhg0aBH44GP4Qv
X-IronPort-AV: E=Sophos;i="4.84,922,1355094000"; 
   d="scan'208,217";a="8976415"
Received: from mail-we0-f178.google.com ([74.125.82.178])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/RC4-SHA; 27 Mar 2013 23:42:19 +0100
Received: by mail-we0-f178.google.com with SMTP id z53so2914890wey.23
        for <caml-list@inria.fr>; Wed, 27 Mar 2013 15:42:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-received:subject:mime-version:content-type:from:in-reply-to:date
         :cc:message-id:references:to:x-mailer;
        bh=o33mJ4d+aaVVvGY+hNalYPh1RkaPh6Lpx5VD4CSRXiQ=;
        b=L/Z3mxG9hzTwHUV/RqjvnDhM3yTBhKSOtljMsFbR3tVUoDh9C8tOh/ikVGbV5F5vVi
         WoWbAK9Xydfb04aghXApWVUc+JJBKFFjCLSJzG/3RMd1oeuS0VKGrRqG/2cVNKRwMx2c
         oC558fMJmM5U0gVe1wd8iX16xjZNsY8Il5w2pWX+XbBho3q8VEtjZYjVD6EWW5xvoSQy
         ZBPPMAgc3SjtubaU0qNQ9HxGJ9Po3honKEr7ER36vuWG53FNph64ixKACt6NljtvWnTq
         +UWyIWMK/xi7C9vUeGKUHHVgL1y3kNifmJsG7Qe1DfUSfiwKG3EU+h3/jsVajgopWi9k
         651Q==
X-Received: by 10.194.143.50 with SMTP id sb18mr34363974wjb.44.1364424138660;
        Wed, 27 Mar 2013 15:42:18 -0700 (PDT)
Received: from saruman.darty (58.90-226-89.dsl.completel.net. [89.226.90.58])
        by mx.google.com with ESMTPS id fp2sm11222086wib.7.2013.03.27.15.42.15
        (version=TLSv1 cipher=ECDHE-RSA-RC4-SHA bits=128/128);
        Wed, 27 Mar 2013 15:42:17 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1085)
Content-Type: multipart/alternative; boundary=Apple-Mail-1--430121646
From: Denis Berthod <casa.berthod@gmail.com>
In-Reply-To: <CAOOOohSzgcZxLOu9qUX1Box1eKyK-DEX7zrEM2GXzjs372jLpQ@mail.gmail.com>
Date: Wed, 27 Mar 2013 23:42:14 +0100
Cc: caml users <caml-list@inria.fr>
Message-Id: <24E57FC8-F2E0-4E4F-9D6B-B8891972A47B@gmail.com>
References: <CAOOOohSzgcZxLOu9qUX1Box1eKyK-DEX7zrEM2GXzjs372jLpQ@mail.gmail.com>
To: Philippe Veber <philippe.veber@gmail.com>
X-Mailer: Apple Mail (2.1085)
X-Validation-by: casa.berthod@gmail.com
Subject: Re: [Caml-list] Master-slave architecture behind an ocsigen server.


--Apple-Mail-1--430121646
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain;
	charset=iso-8859-1

 Hello,

Isn't the Lwt_preemptive module exactly what you want?

http://ocsigen.org/lwt/api/Lwt_preemptive

But maybe, you want to use real processes and not threads.

Cheers,

Denis

Le 26 mars 2013 =E0 15:29, Philippe Veber a =E9crit :

> Dear all,
>=20
> I'm developping an ocsigen website doing some scientific calculations. Up=
 to now, the calculations were done in the same process that runs the serve=
r. In order to gain in scalability (and maybe stability too), I would like =
to run those calculations in a separate (pool of) process(es). As this is a=
 pretty typical setup, I guess quite a few people have already done that. S=
o I'd like to hear some suggestions on what library to use in this particul=
ar context. It seems to me that the release library [1] should do the job a=
nd is lwt-friendly, but there are maybe other good options?
>=20
> Thanks for any hint, cheers!
>=20
> Philippe.
>=20
> [1] https://github.com/andrenth/release


--Apple-Mail-1--430121646
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html;
	charset=iso-8859-1

<html><head></head><body style=3D"word-wrap: break-word; -webkit-nbsp-mode:=
 space; -webkit-line-break: after-white-space; ">&nbsp;Hello,<div><br></div=
><div>Isn't the Lwt_preemptive module exactly what you want?</div><div><br>=
</div><div><a href=3D"http://ocsigen.org/lwt/api/Lwt_preemptive">http://ocs=
igen.org/lwt/api/Lwt_preemptive</a></div><div><br></div><div>But maybe, you=
 want to use real processes and not threads.</div><div><br></div><div>Cheer=
s,</div><div><br></div><div>Denis</div><div><br><div><div>Le 26 mars 2013 =
=E0 15:29, Philippe Veber a =E9crit :</div><br class=3D"Apple-interchange-n=
ewline"><blockquote type=3D"cite"><div dir=3D"ltr">Dear all,<br><br>I'm dev=
elopping an ocsigen website doing some scientific calculations. Up to now, =
the calculations were done in the same process that runs the server. In ord=
er to gain in scalability (and maybe stability too), I would like to run th=
ose calculations in a separate (pool of) process(es). As this is a pretty t=
ypical setup, I guess quite a few people have already done that. So I'd lik=
e to hear some suggestions on what library to use in this particular contex=
t. It seems to me that the release library [1] should do the job and is lwt=
-friendly, but there are maybe other good options?<br>

<br>Thanks for any hint, cheers!<br><br>Philippe.<br><br>[1] <a href=3D"htt=
ps://github.com/andrenth/release">https://github.com/andrenth/release</a><b=
r></div>
</blockquote></div><br></div></body></html>=

--Apple-Mail-1--430121646--
