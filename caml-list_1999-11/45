Received: (from weis@localhost) by pauillac.inria.fr (8.7.6/8.7.3) id TAA16244 for caml-redistribution@pauillac.inria.fr; Tue, 16 Nov 1999 19:33:02 +0100 (MET)
Resent-Message-Id: <199911161833.TAA16244@pauillac.inria.fr>
Received: from concorde.inria.fr (concorde.inria.fr [192.93.2.39]) by pauillac.inria.fr (8.7.6/8.7.3) with ESMTP id SAA29540 for <caml-list@pauillac.inria.fr>; Mon, 15 Nov 1999 18:28:49 +0100 (MET)
Received: from pauillac.inria.fr (pauillac.inria.fr [128.93.11.35])
	by concorde.inria.fr (8.8.7/8.8.7) with ESMTP id SAA03407;
	Mon, 15 Nov 1999 18:28:27 +0100 (MET)
Received: (from xleroy@localhost) by pauillac.inria.fr (8.7.6/8.7.3) id SAA04491; Mon, 15 Nov 1999 18:28:27 +0100 (MET)
Message-ID: <19991115182827.48176@pauillac.inria.fr>
Date: Mon, 15 Nov 1999 18:28:27 +0100
From: Xavier Leroy <Xavier.Leroy@inria.fr>
To: Fabien FLEUTOT <fleutotf@esiee.fr>, caml-list@inria.fr
Subject: Re: Install problem
References: <382C6E80.7E4E6A31@esiee.fr>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Mailer: Mutt 0.89.1
In-Reply-To: <382C6E80.7E4E6A31@esiee.fr>; from Fabien FLEUTOT on Fri, Nov 12, 1999 at 08:46:08PM +0100
Resent-From: weis@pauillac.inria.fr
Resent-Date: Tue, 16 Nov 1999 19:33:02 +0100
Resent-To: caml-redistribution@pauillac.inria.fr

> I made an unofficial install of ocaml on my user account (no way to get
> it installed by root...) Is there a way to force ocamlc to put
> '#!/user/fleutotf/pub/ocaml/bin/ocamlrun' as a first line in the
> executables it generates instead of '#!/usr/local/bin/ocamlrun' ?

As Alain Frisch said, the best thing to do is to recompile the sources
after configuring in the right path names:

./configure -bindir /user/fleutotf/pub/ocaml/bin \
            -libdir /user/fleutotf/pub/ocaml/lib \
            <other options>

Otherwise, a quick fix is to edit the file "camlheader" found in the
OCaml standard library directory.  This file is copied verbatim at the
beginning of all bytecode executables generated by ocamlc.  With the
default configuration, it contains

        #!/usr/local/bin/ocamlrun

and you can try putting instead

        #!/user/fleutotf/pub/ocaml/bin/ocamlrun

- Xavier Leroy


