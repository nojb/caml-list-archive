Return-Path: <matthieu.dubuget@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on yquem.inria.fr
X-Spam-Level: *
X-Spam-Status: No, score=1.8 required=5.0 tests=AWL,DNS_FROM_RFC_POST,
	SPF_NEUTRAL autolearn=disabled version=3.1.3
X-Original-To: caml-list@yquem.inria.fr
Delivered-To: caml-list@yquem.inria.fr
Received: from mail1-relais-roc.national.inria.fr (mail1-relais-roc.national.inria.fr [192.134.164.82])
	by yquem.inria.fr (Postfix) with ESMTP id 6BDB2BBAF
	for <caml-list@yquem.inria.fr>; Tue, 20 Jan 2009 22:35:49 +0100 (CET)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: At8AAB3SdUlKfU4akWdsb2JhbACTTD4BAQEBCQsKBxEDpTwIe48SAQMBA4Vwgjg
X-IronPort-AV: E=Sophos;i="4.37,296,1231110000"; 
   d="scan'208";a="22805124"
Received: from ey-out-2122.google.com ([74.125.78.26])
  by mail1-smtp-roc.national.inria.fr with ESMTP; 20 Jan 2009 22:35:49 +0100
Received: by ey-out-2122.google.com with SMTP id 25so326413eya.33
        for <caml-list@inria.fr>; Tue, 20 Jan 2009 13:35:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:reply-to
         :user-agent:mime-version:to:subject:references:in-reply-to
         :x-enigmail-version:openpgp:content-type;
        bh=hWHkACtgheEQPnb3+dMAmUeNTlrvqmyCC8I/iGl2ieg=;
        b=LwzlSs+N5kGUhTGDSfBzpvKLvhM02Jl0e2RVxXBQecRmuhnlpsD1RcarDKg9vafV9H
         vgiMny/nqzDv+jbwQl153lrV/cV4reUztzPhRMEEM0gMqBdFd6M3V7U080uSZNAfj18+
         YOrqquMEKp2awch0iqlcllgiM+wZydHaCUCt4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
         :references:in-reply-to:x-enigmail-version:openpgp:content-type;
        b=l0qFAJvWEkZi4k92S6eqjDQ1OzwlfvJd8MBezy1TWMtxBnzUoQ9k7KNANseZMcQDE1
         CNXE5DnGAF2vs/svitiZa8wDh35oNs2mxkex6GnhmRrLU9t2IxMBsUIdMpJd+QOPyywK
         kdnvqc+h7jKSbEngXYi55UgWy/i9qJYVdn2TQ=
Received: by 10.210.141.17 with SMTP id o17mr6492984ebd.166.1232487347782;
        Tue, 20 Jan 2009 13:35:47 -0800 (PST)
Received: from ?192.168.1.10? (8.75.197-77.rev.gaoland.net [77.197.75.8])
        by mx.google.com with ESMTPS id 5sm2666421eyh.58.2009.01.20.13.35.45
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 20 Jan 2009 13:35:46 -0800 (PST)
Message-ID: <497643AF.2040802@gmail.com>
Date: Tue, 20 Jan 2009 22:35:43 +0100
From: Matthieu Dubuget <matthieu.dubuget@gmail.com>
Reply-To: matthieu.dubuget@gmail.com
User-Agent: Thunderbird 2.0.0.19 (X11/20090105)
MIME-Version: 1.0
To: John Whitington <john@coherentgraphics.co.uk>, caml-list@inria.fr
Subject: Re: [Caml-list] Building with OCamlMkLib
References: <B6E31133-DB91-4453-BC16-70A3840E8E7A@coherentgraphics.co.uk>
In-Reply-To: <B6E31133-DB91-4453-BC16-70A3840E8E7A@coherentgraphics.co.uk>
X-Enigmail-Version: 0.95.0
OpenPGP: id=F60AB8F5
Content-Type: multipart/mixed;
 boundary="------------060102000606000606070604"
X-Spam: no; 0.00; matthieu:01 dubuget:01 matthieu:01 dubuget:01 ocamlmklib:01 -urn:01 -urn:01 stdio:01 val:01 camlparam:01 val:01 ocamlc:01 scanf:01 sscanf:01 ocamlc:01 
X-Attachments: cset="UTF-8" name="files-patch1" name="files-patch1" 

This is a multi-part message in MIME format.
--------------060102000606000606070604
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

My last patch was not usableâ€¦
Sorry

--------------060102000606000606070604
Content-Type: text/plain;
 name="files-patch1"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename="files-patch1"

ZGlmZiAtdXJOIC4vZmlsZXMvY2FtbHBkZmMubWxjZGxsIC4vZmlsZXMtbW9kaWZpZWQvY2Ft
bHBkZmMubWxjZGxsCi0tLSAuL2ZpbGVzL2NhbWxwZGZjLm1sY2RsbAkxOTcwLTAxLTAxIDAx
OjAwOjAwLjAwMDAwMDAwMCArMDEwMAorKysgLi9maWxlcy1tb2RpZmllZC9jYW1scGRmYy5t
bGNkbGwJMjAwOS0wMS0yMCAyMjoxNjo1Mi4wMDAwMDAwMDAgKzAxMDAKQEAgLTAsMCArMSwy
IEBACitDcGRmbGliYworY3BkZmxpYndyYXBwZXIubwpkaWZmIC11ck4gLi9maWxlcy9jcGRm
bGliYy5tbCAuL2ZpbGVzLW1vZGlmaWVkL2NwZGZsaWJjLm1sCi0tLSAuL2ZpbGVzL2NwZGZs
aWJjLm1sCTIwMDktMDEtMjAgMTg6MDA6NTEuMDAwMDAwMDAwICswMTAwCisrKyAuL2ZpbGVz
LW1vZGlmaWVkL2NwZGZsaWJjLm1sCTIwMDktMDEtMjAgMjI6MjM6MjcuMDAwMDAwMDAwICsw
MTAwCkBAIC0xLDIgKzEsNCBAQAogKCogY3BkZmxpYmMubWwgKikKIGxldCB0d2ljZSB4ID0g
eCAqIDIKKworbGV0IF8gPSBDYWxsYmFjay5yZWdpc3RlciAidHdpY2UiIHR3aWNlCmRpZmYg
LXVyTiAuL2ZpbGVzL2NwZGZsaWJ3cmFwcGVyLmMgLi9maWxlcy1tb2RpZmllZC9jcGRmbGli
d3JhcHBlci5jCi0tLSAuL2ZpbGVzL2NwZGZsaWJ3cmFwcGVyLmMJMjAwOS0wMS0yMCAxODow
MDo1MS4wMDAwMDAwMDAgKzAxMDAKKysrIC4vZmlsZXMtbW9kaWZpZWQvY3BkZmxpYndyYXBw
ZXIuYwkyMDA5LTAxLTIwIDIyOjE4OjU4LjAwMDAwMDAwMCArMDEwMApAQCAtMiwxMCArMiwz
MyBAQAogI2luY2x1ZGUgPHN0ZGlvLmg+CiAjaW5jbHVkZSA8Y2FtbC9tZW1vcnkuaD4KICNp
bmNsdWRlIDxjYW1sL2NhbGxiYWNrLmg+CisjaW5jbHVkZSA8YXNzZXJ0Lmg+CiAKKyNkZWZp
bmUgQ0FNTFBERkxJQl9DQU1MQ0JLX0lOSVQoIGNhbGxiYWNrLCBjYmtfbmFtZSkgXAorICAg
ICAgICBzdGF0aWMgdmFsdWUgKmNhbGxiYWNrID0gTlVMTDsgXAorICAgICAgICBpZiAoY2Fs
bGJhY2sgPT0gTlVMTCkgY2FsbGJhY2sgPSBcCisgICAgICAgICAgICAgIGNhbWxfbmFtZWRf
dmFsdWUoY2JrX25hbWUpO1wKKyAgICAgICAgICBhc3NlcnQoY2FsbGJhY2spOworCitzdGF0
aWMgaW50IGNwZGZsaWJjX2luaXRfZG9uZSA9IDA7CisKK3ZvaWQKK2luaXRfY3BkZmxpYiAo
KQoreworICBjaGFyICp2aWRlWzFdOworICB2aWRlWzBdID0gTlVMTDsKKyAgaWYgKCFjcGRm
bGliY19pbml0X2RvbmUpCisgICAgeworICAgICAgY2FtbF9zdGFydHVwICh2aWRlKTsKKyAg
ICAgIGNwZGZsaWJjX2luaXRfZG9uZSA9IDE7CisgICAgfQorfQorIAogaW50IHR3aWNlX2Mg
KGludCBpKQogewotICBDQU1MbG9jYWwxIChyZXN1bHQpOwotICByZXN1bHQgPSBjYW1sX2Nh
bGxiYWNrKCpjYW1sX25hbWVkX3ZhbHVlKCJ0d2ljZSIpLCBWYWxfaW50KGkpKTsKLSAgcmV0
dXJuKDApOworICBDQU1McGFyYW0wKCk7CisgIENBTUxsb2NhbDEocmVzKTsKKyAgQ0FNTFBE
RkxJQl9DQU1MQ0JLX0lOSVQoY2JrLCAidHdpY2UiKTsKKyAgcmVzID0gY2FtbF9jYWxsYmFj
aygqY2JrLCBWYWxfaW50KGkpKTsKKyAgQ0FNTHJldHVyblQoaW50LCBJbnRfdmFsKHJlcykp
OwogfQpkaWZmIC11ck4gLi9maWxlcy9jcGRmbGlid3JhcHBlci5oIC4vZmlsZXMtbW9kaWZp
ZWQvY3BkZmxpYndyYXBwZXIuaAotLS0gLi9maWxlcy9jcGRmbGlid3JhcHBlci5oCTIwMDkt
MDEtMjAgMTg6MDA6NTEuMDAwMDAwMDAwICswMTAwCisrKyAuL2ZpbGVzLW1vZGlmaWVkL2Nw
ZGZsaWJ3cmFwcGVyLmgJMjAwOS0wMS0yMCAyMjoyMjo0NS4wMDAwMDAwMDAgKzAxMDAKQEAg
LTEsMyArMSw0IEBACiAvKiBjcGRmbGlid3JhcHBlci5oICovCi1pbnQgdHdpY2UgKGludCk7
Cit2b2lkIGluaXRfY3BkZmxpYigpOworaW50IHR3aWNlX2MgKGludCk7CiAKZGlmZiAtdXJO
IC4vZmlsZXMvbXlvY2FtbGJ1aWxkLm1sIC4vZmlsZXMtbW9kaWZpZWQvbXlvY2FtbGJ1aWxk
Lm1sCi0tLSAuL2ZpbGVzL215b2NhbWxidWlsZC5tbAkxOTcwLTAxLTAxIDAxOjAwOjAwLjAw
MDAwMDAwMCArMDEwMAorKysgLi9maWxlcy1tb2RpZmllZC9teW9jYW1sYnVpbGQubWwJMjAw
OS0wMS0yMCAyMjoxOTo1OS4wMDAwMDAwMDAgKzAxMDAKQEAgLTAsMCArMSwxMDMgQEAKK29w
ZW4gT2NhbWxidWlsZF9wbHVnaW4KK29wZW4gQ29tbWFuZAorb3BlbiBPdXRjb21lCisKK2xl
dCAoZXh0X28sIGV4dF9zbywgc3lzdCkgPQorICBsZXQgbXlfb2NhbWxjX2NvbmZpZyA9Cisg
ICAgbGV0IHJlYyBzYyBzIGggPSAKKyAgICAgIFNjYW5mLnNzY2FuZiBzICIlc0A6ICVzQFxu
JW4iIAorICAgICAgICBiZWdpbiBmdW4gayB2IG4gLT4gCisgICAgICAgICAgbGV0IGgnID0g
KGssIHYpIDo6IGggaW4KKyAgICAgICAgICBsZXQgbGVuID0gU3RyaW5nLmxlbmd0aCBzIGlu
ICAKKyAgICAgICAgICAgIGlmIAorICAgICAgICAgICAgICBsZW4gLSBuIDw9IDAgCisgICAg
ICAgICAgICB0aGVuIAorICAgICAgICAgICAgICBoJworICAgICAgICAgICAgZWxzZSAKKyAg
ICAgICAgICAgICAgc2MgKFN0cmluZy5zdWIgcyBuIChsZW4gLSBuKSkgaCcKKyAgICAgICAg
ZW5kIGluCisgICAgICBzYyAoT2NhbWxidWlsZF9wYWNrLk15X3VuaXgucnVuX2FuZF9yZWFk
ICJvY2FtbGMgLWNvbmZpZyIpIFtdIGluCisgICAgbWF0Y2ggCisgICAgICBMaXN0Lm1hcCAK
KyAgICAgICAgKGZ1biB4IC0+IExpc3QuYXNzb2MgeCBteV9vY2FtbGNfY29uZmlnKQorICAg
ICAgICBbImV4dF9vYmoiOyAiZXh0X2RsbCI7ICJzeXN0ZW0iO10gCisgICAgd2l0aAorICAg
ICAgICBbZXh0X287IGV4dF9zbzsgc3lzdF0gLT4gZXh0X28sIGV4dF9zbywgc3lzdAorICAg
ICAgfCBfIC0+IGFzc2VydCBmYWxzZQorCitleGNlcHRpb24gRm91bmQgb2Ygc3RyaW5nCisK
K2xldCBwd2QgKCkgPQorICBsZXQgZW52ID0gQXJyYXkudG9fbGlzdCAoVW5peC5lbnZpcm9u
bWVudCAoKSkgaW4KKyAgbGV0IHJlYyBzZWFyY2ggPSBmdW5jdGlvbgorICAgICAgW10gLT4g
IiIKKyAgICB8IGggOjogdGwgLT4KKyAgICAgICAgdHJ5IAorICAgICAgICAgIFNjYW5mLnNz
Y2FuZiBoICJQV0Q9JXMiIChmdW4geCAtPiB4KSAKKyAgICAgICAgd2l0aCAKKyAgICAgICAg
ICAgIF8gLT4gc2VhcmNoIHRsIGluCisgICAgc2VhcmNoIGVudgorICAgIAorbGV0IHVuY2Fw
X21vZHVsZV9wYXRoIHAgPQorICAoUGF0aG5hbWUuZGlybmFtZSBwKSAvIChTdHJpbmcudW5j
YXBpdGFsaXplIChQYXRobmFtZS5iYXNlbmFtZSBwKSkKKworbGV0IF8gPSBkaXNwYXRjaCBi
ZWdpbiBmdW5jdGlvbgorCisgIHwgQWZ0ZXJfcnVsZXMgLT4KKwkgIAkgIAorCSAgZmxhZyBb
ImxpbmsiOyJtbGNkbGwiXSAoU1tBIi1vdXRwdXQtb2JqIl0pOworCSAgCSAgCisgICAgICBy
dWxlICJNaXhlZCBDLU9jYW1sIG5hdGl2ZSBETEw6IG1sY2RsbCAmIG8qICYgY214KiAtPiBu
YXRpdmUgRExMICguZGxsIHwgLnNvKSIKKyAgICAgICAgfmRlcDoiJS5tbGNkbGwiCisgICAg
ICAgIH5wcm9kOigiJS5uYXRpdmUiIF4gZXh0X3NvKQorICAgICAgICBiZWdpbgorICAgICAg
ICAgIGZ1biBlbnYgYnVpbGQgLT4KKyAgICAgICAgICAgIGxldCBvdXRwdXQgPSBlbnYgKCIl
Lm5hdGl2ZSIgXiBleHRfc28pCisgICAgICAgICAgICBhbmQgaW5wdXQgPSBlbnYgIiUubWxj
ZGxsIiBpbgorICAgICAgICAgICAgbGV0IGRpciA9IFBhdGhuYW1lLmRpcm5hbWUgaW5wdXQg
aW4KKwkJCSAgCisgICAgICAgICAgICAoKiBUT0RPOiB1c2UgZnVuY3Rpb25zIG9mIFBhdGhu
YW1lIG1vZHVsZT8gKikKKyAgICAgICAgICAgIGxldCBleHRfb19maWxlcywgbW9kdWxzX2Zp
bGVzID0gCisgICAgICAgICAgICAgIHN0cmluZ19saXN0X29mX2ZpbGUgaW5wdXQgfD4KKyAg
ICAgICAgICAgICAgICAgIExpc3QucGFydGl0aW9uIChmdW4gZmljIC0+IEZpbGVuYW1lLmNo
ZWNrX3N1ZmZpeCBmaWMgIi5vIikgaW4KKyAgICAgICAgICAgIGxldCBvYmpzID0gZXh0X29f
ZmlsZXMgfD4KKyAgICAgICAgICAgICAgICBMaXN0Lm1hcCBGaWxlbmFtZS5jaG9wX2V4dGVu
c2lvbiB8PgorICAgICAgICAgICAgICAgICAgICBMaXN0Lm1hcCAoZnVuIGZpYyAtPiBmaWMg
XiBleHRfbykgaW4KKyAgICAgICAgICAgIGxldCBjbXhzID0gbW9kdWxzX2ZpbGVzIHw+Cisg
ICAgICAgICAgICAgICAgTGlzdC5tYXAgKGZ1biBtb2R1bCAtPgorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICh1bmNhcF9tb2R1bGVfcGF0aCBtb2R1bCkgLS4tICJjbXgiKSBpbgor
ICAgICAgICAgICAgbGV0IGRlcHMgPSBjbXhzIEAgb2JqcyBpbgorCQkJICAKKyAgICAgICAg
ICAgICAgTGlzdC5pdGVyIGlnbm9yZV9nb29kIAorICAgICAgICAgICAgICAgIChidWlsZCAo
TGlzdC5tYXAgKGZ1biB4IC0+IFtkaXIveF0pIGRlcHMpKTsKKwkJCSAgCisgICAgICAgICAg
ICAgIENtZCAoUyBbIU9wdGlvbnMub2NhbWxvcHQ7CisgICAgICAgICAgICAgICAgICAgICAg
QSItbyI7IFB4IG91dHB1dDsKKyAgICAgICAgICAgICAgICAgICAgICBUICh0YWdzX29mX3Bh
dGhuYW1lIG91dHB1dCsrIm9jYW1sIisrIm5hdGl2ZSIrKyJtbGNkbGwiKysibGluayIpOwor
ICAgICAgICAgICAgICAgICAgICAgIGF0b21pemVfcGF0aHMgZGVwcworICAgICAgICAgICAg
ICAgICAgICAgXSkKKyAgICAgICAgZW5kOworCSAgCisgICAgICAoKiBBbGxvd3MgdG8gaGF2
ZSAuaCBjb3BpZWQgaW4gdGhlIF9idWlsZCBkaXJlY3RvcnkgKikKKyAgICAgIGRlcCBbImZp
bGU6Y3BkZmxpYndyYXBwZXIuYyJdIFsiY3BkZmxpYndyYXBwZXIuaCJdOworCSAgZGVwIFsi
ZmlsZTp0ZXN0LmMiXVsiY3BkZmxpYndyYXBwZXIuaCJdOworCSAgCisgICAgICBydWxlICJD
b21waWxlIHRlc3QubmF0aXZlIgorICAgICAgICB+ZGVwczpbInRlc3QubyI7ICJjYW1scGRm
Yy5uYXRpdmUuc28iXQorICAgICAgICB+cHJvZDoidGVzdC5uYXRpdmUiCisgICAgICAgIGJl
Z2luIGZ1biBfIF8gLT4KKyAgICAgICAgICBsZXQgdGFyZ2V0ID0gInRlc3QubmF0aXZlIiBp
bgorICAgICAgICAgIGxldCBzcGMgPSAiLVdsLC1ycGF0aD0iIF4gKChwd2QgKCkpIC8gKCFP
cHRpb25zLmJ1aWxkX2RpcikpICBpbgorICAgICAgICAgICAgQ21kKAorICAgICAgICAgICAg
ICBTWworICAgICAgICAgICAgICAgIEEiZ2NjIjsKKyAgICAgICAgICAgICAgICBBIi1vIjtB
IHRhcmdldDsKKyAgICAgICAgICAgICAgICBBInRlc3QubyI7CisgICAgICAgICAgICAgICAg
QSItbDpjYW1scGRmYy5uYXRpdmUuc28iOworICAgICAgICAgICAgICAgIEEiLUwuIjsgQSBz
cGM7CisgICAgICAgICAgICAgIF0pCisgICAgICAgIGVuZDsKKworCisgIHwgXyAtPiAoKQor
ZW5kCmRpZmYgLXVyTiAuL2ZpbGVzL3Rlc3QuYyAuL2ZpbGVzLW1vZGlmaWVkL3Rlc3QuYwot
LS0gLi9maWxlcy90ZXN0LmMJMjAwOS0wMS0yMCAxODowMDo1MS4wMDAwMDAwMDAgKzAxMDAK
KysrIC4vZmlsZXMtbW9kaWZpZWQvdGVzdC5jCTIwMDktMDEtMjAgMjI6MjA6MjkuMDAwMDAw
MDAwICswMTAwCkBAIC00LDYgKzQsNyBAQAogCiBpbnQgbWFpbiAoKQogeworICBpbml0X2Nw
ZGZsaWIoKTsKICAgcHJpbnRmKCJUd2ljZSB0d28gaXMgJWlcbiIsIHR3aWNlX2MoMikpOwog
ICByZXR1cm4oMCk7CiB9Cg==
--------------060102000606000606070604--

