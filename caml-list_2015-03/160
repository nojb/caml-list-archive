Return-Path: <stefan@xss.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id F132F7FCCB
	for <caml-list@sympa.inria.fr>; Fri, 27 Mar 2015 19:52:36 +0100 (CET)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of s@xss.de)
  identity=pra; client-ip=78.46.20.70;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="stefan@xss.de"; x-sender="s@xss.de";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  stefan@xss.de designates 78.46.20.70 as permitted sender)
  identity=mailfrom; client-ip=78.46.20.70;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="stefan@xss.de"; x-sender="stefan@xss.de";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@s8.swsch.de) identity=helo; client-ip=78.46.20.70;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="stefan@xss.de";
  x-sender="postmaster@s8.swsch.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0C6AQDrpRVVl0YULk5cg1hagxOwJJIHCoV1gTtMAQEBAQEBEQEBAQEBCBYHQoQUAQEBAwEjDwENAQE3AQ8LGAICBRMOAgIPBSghE4gbAwkMAQixQnCEYgEFj2cMhUIBCwEZAgSBIYoHhDYPgmc7Eh2BFoYfjiyGAAGBG4VnA4Y1hneCJByBUW4BgQOBPwEBAQ
X-IPAS-Result: A0C6AQDrpRVVl0YULk5cg1hagxOwJJIHCoV1gTtMAQEBAQEBEQEBAQEBCBYHQoQUAQEBAwEjDwENAQE3AQ8LGAICBRMOAgIPBSghE4gbAwkMAQixQnCEYgEFj2cMhUIBCwEZAgSBIYoHhDYPgmc7Eh2BFoYfjiyGAAGBG4VnA4Y1hneCJByBUW4BgQOBPwEBAQ
X-IronPort-AV: E=Sophos;i="5.11,480,1422918000"; 
   d="scan'208";a="130468519"
Received: from s8.swsch.de ([78.46.20.70])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 27 Mar 2015 19:52:36 +0100
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=swsch.de; s=s8;
	h=In-Reply-To:Content-Transfer-Encoding:Content-Type:MIME-Version:References:Message-ID:Subject:Cc:To:From:Date; bh=lQJ0sLgvpeTxtvLIn0cCf+WlGAgeXNXMGsdpSfQ8ouM=;
	b=VDdq1OXmlE6CgyqHA7KLV+nh1qB3cQGNpd4RfMdsWDwVlf4NT6iS865wefpuj5loFLs7G2U7jM6rHUwdNuwuTaRKqXn06hfCmxDuxA70vtZVx9WGra32GS7PC31J3xpL;
Received: from server.edv-schmiedl.de ([213.239.214.226])
	by s8.swsch.de with esmtpsa (TLSv1.2:DHE-RSA-AES128-SHA:128)
	(Exim 4.85)
	(envelope-from <stefan@xss.de>)
	id 1YbZMx-0003mp-MS; Fri, 27 Mar 2015 19:52:35 +0100
Received: from [93.223.61.243] (helo=g128.local)
	by server.edv-schmiedl.de with esmtpa (Exim 4.80)
	(envelope-from <stefan@xss.de>)
	id 1YbZMx-0004HH-86; Fri, 27 Mar 2015 19:52:35 +0100
Received: from stefan by g128.local with local (Exim 4.85)
	(envelope-from <stefan@xss.de>)
	id 1YbZMw-0006xU-N2; Fri, 27 Mar 2015 19:52:34 +0100
Date: Fri, 27 Mar 2015 19:52:34 +0100
From: Stefan Schmiedl <s@xss.de>
To: "Mr. Herr" <misterherr@freenet.de>
Cc: caml-list@inria.fr
Message-ID: <20150327185234.GD5674@g128.fritz.box>
References: <2162350.aHZvdojE6Q@agaric>
 <55159AD3.7050507@freenet.de>
 <ECC38980-73C8-48DA-9A65-32F33A7D015E@recoil.org>
 <5515A183.3020709@freenet.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <5515A183.3020709@freenet.de>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Scan-Signature: 6ece5a77cee57f530c981537a62fa7e1
Subject: Re: [Caml-list] OPAM 1.2.1

Mr. Herr (27.03. 19:29):

> 
> 
> On 27.03.2015 19:09, Anil Madhavapeddy wrote:
> > On 27 Mar 2015, at 18:00, Mr. Herr <misterherr@freenet.de> wrote:
> >>
> >> the 1.2.1 binary from https://github.com/ocaml/opam/releases/tag/1.2.1, as well as the compile result of
> >> opam-full-1.2.1.tar.gz are behaving strange on my opensuse 1.3.1.
> >>
> >> All I did was to replace the 1.2.0 binaries with the 1.2.1 version.
> >>
> >> Here a console log where 'opam' is /usr/local/bin/opam-1.2.1-x86_64-Linux
> >>
> >> ---------------------------------------------------------------------------------------------------
> >> strobel@s131-intel:/data/lvmvol/strobel-sources> opam update
> >>
> >> =-=- Updating package repositories =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
> >> [default] synchronized from https://opam.ocaml.org
> >>
> >> Updates available for 4.02.1, apply them with 'opam upgrade':
> >> ===== ↻  1   ↗  1 =====
> >> strobel@s131-intel:/data/lvmvol> opam-1.2.0-x86_64-Linux update
> >> [default] Downloading https://opam.ocaml.org/urls.txt
> >> Updating /opt/opam/repo/compiler-index ...
> >> Updating /opt/opam/compilers/ ...
> >> Updating /opt/opam/repo/package-index ...
> >> Updating /opt/opam/packages/ ...
> >>
> >> Updates available for 4.02.1, apply them with 'opam upgrade':
> >> === 1 to reinstall | 1 to upgrade ===
> >> strobel@s131-intel:/data/lvmvol>
> >> ---------------------------------------------------------------------------------------------------------
> >>
> >> What can I do to debug this?
> >>
> > I'm not sure if I've missed something obvious, since you haven't specified what you think has gone wrong. You appear to have typed in "opam update" twice.
> >
> > Either do "opam update -u" (which updates the package sets and upgrades them), or "opam update && opam upgrade".
> >
> >
> the output from the 1.2.0 version is there for reference, this is what I have come to 
> expect.
> 
> The 1.2.1 binary is not doing the same checks, and outputs hieroglyphs - very dubious.

With an unicode-compatible font, the first glyph looks like a circle
with an arrow, i.e. 1 reinstall, and the second is an arrow pointing
to upper-right, i.e. 1 upgrade.

s.
