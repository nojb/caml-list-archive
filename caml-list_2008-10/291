Return-Path: <markus.mottl@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on yquem.inria.fr
X-Spam-Level: **
X-Spam-Status: No, score=2.9 required=5.0 tests=AWL,DNS_FROM_RFC_POST,
	DNS_FROM_SECURITYSAGE,MAILTO_TO_SPAM_ADDR,SPF_NEUTRAL 
	autolearn=disabled version=3.1.3
X-Original-To: caml-list@yquem.inria.fr
Delivered-To: caml-list@yquem.inria.fr
Received: from mail1-relais-roc.national.inria.fr (mail1-relais-roc.national.inria.fr [192.134.164.82])
	by yquem.inria.fr (Postfix) with ESMTP id 6CDE0BBAF
	for <caml-list@yquem.inria.fr>; Wed, 22 Oct 2008 15:52:44 +0200 (CEST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Av0GAN/M/kjAXQIngWdsb2JhbACDIJANPgEBFiKpFXyHcwEDAQODTA
X-IronPort-AV: E=Sophos;i="4.33,464,1220220000"; 
   d="scan'208";a="19044970"
Received: from concorde.inria.fr ([192.93.2.39])
  by mail1-smtp-roc.national.inria.fr with ESMTP; 22 Oct 2008 15:52:44 +0200
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by concorde.inria.fr (8.13.6/8.13.6) with ESMTP id m9MDqhi5016889
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=OK)
	for <caml-list@inria.fr>; Wed, 22 Oct 2008 15:52:44 +0200
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AjACAFfN/khA6bLxkWdsb2JhbACDIJANPgEBAQEHDQoHEQOpDnyHcwEDAQODTA
X-IronPort-AV: E=Sophos;i="4.33,464,1220220000"; 
   d="scan'208";a="18380653"
Received: from hs-out-0708.google.com ([64.233.178.241])
  by mail3-smtp-sop.national.inria.fr with ESMTP; 22 Oct 2008 15:52:13 +0200
Received: by hs-out-0708.google.com with SMTP id z77so1053414hsz.9
        for <caml-list@inria.fr>; Wed, 22 Oct 2008 06:52:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to
         :subject:cc:in-reply-to:mime-version:content-type
         :content-transfer-encoding:content-disposition:references;
        bh=sO6Lw5NdO/TVG3Rv90nx+e/jn8MkJphk0LjYI7pwAQ4=;
        b=pS/TKcDCv64KiH47adj0ok1h59kWFxdtFz4my9nxo5TSDaMMnwszf8s2zRm3KDrJ3R
         qbPme6yOEl37cPv3TsrBXJ3hEBUaxmjQ3HUqwzULvrzdcXlVZaYBcGIQTd071lDVpYyw
         RQc/hKqm9NKAseAaXWsw8bWvbfNeLkMD/MTqs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version
         :content-type:content-transfer-encoding:content-disposition
         :references;
        b=CaLbx4K0nsQO6j0SwrFN0mTgkpues3zfZYCdbVXDLrGhctBYfp4+kfcLbJzwISw2AR
         p/zRSir0kTZ1ifYDQUvQZmXv84X19S4N8ZhNkF2/VP4Usb++797VeQe8yk2rb9GpQfDJ
         BN5YxDrviiH+HBP8H9FvaObs+3GqeA0lsld4U=
Received: by 10.142.70.16 with SMTP id s16mr4370328wfa.120.1224683531329;
        Wed, 22 Oct 2008 06:52:11 -0700 (PDT)
Received: by 10.143.35.6 with HTTP; Wed, 22 Oct 2008 06:52:11 -0700 (PDT)
Message-ID: <f8560b80810220652g731c7b67ub7756aa88374a792@mail.gmail.com>
Date: Wed, 22 Oct 2008 09:52:11 -0400
From: "Markus Mottl" <markus.mottl@gmail.com>
To: "Ashish Agarwal" <agarwal1975@gmail.com>
Subject: Re: [Caml-list] problem installing janestreet core through godi
Cc: "Mark Shinwell" <mshinwell@janestcapital.com>,
	"Caml List" <caml-list@inria.fr>
In-Reply-To: <d8be5ae20810220608tcbccb21w1d35216dec0d42b7@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <d8be5ae20810211134q5142ff98rcdcce6e8998c7380@mail.gmail.com>
	 <f8560b80810211322p54f80ea3sde1484ca9ed56ab8@mail.gmail.com>
	 <20081022081635.GU14123@janestcapital.com>
	 <d8be5ae20810220608tcbccb21w1d35216dec0d42b7@mail.gmail.com>
X-Miltered: at concorde with ID 48FF302B.000 by Joe's j-chkmail (http://j-chkmail . ensmp . fr)!
X-Spam: no; 0.00; markus:01 mottl:01 markus:01 mottl:01 mli:01 cpp:01 flags:01 gcc:01 flags:01 compilation:01 ocamlfind:01 ocamlc:01 -package:01 camlp:01 -for-pack:01 

On Wed, Oct 22, 2008 at 9:08 AM, Ashish Agarwal <agarwal1975@gmail.com> wrote:
> Thank you for the replies. In type_class.ml and type_class.mli, I
> replaced (*pp cpp $ARCH_FLAGS *) with (*pp gcc -E $ARCH_FLAGS *). The
> compilation gets further but now fails with:
> ...
> ocamlfind ocamlc -package type-conv -c -I +camlp4 -for-pack Bin_prot
> binable.ml
> File "binable.ml", line 36, characters 21-46:
> Unbound type constructor Type_class.writer

Great!  This means that this fix solved the problem.  You have now run
into another, known one: the "core" library is badly out of date, and
needs to be updated to work with newer releases of bin-prot.  We will
make a release within (probably) the next few weeks.  In the meanwhile
you might want to downgrade bin-prot to make it work with "core".

I'll add a patch to bin-prot to make it work on Macs in the meanwhile...

Regards,
Markus

-- 
Markus Mottl        http://www.ocaml.info        markus.mottl@gmail.com

