Return-Path: <raffalli@univ-savoie.fr>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id 921BB7F91C
	for <caml-list@sympa.inria.fr>; Mon, 23 May 2016 17:35:31 +0200 (CEST)
IronPort-PHdr: 9a23:14t7NhE3Byd9Lw1KpitDFJ1GYnF86YWxBRYc798ds5kLTJ75rsqwAkXT6L1XgUPTWs2DsrQf27uQ6PGrCTJIyK3CmU5BWaQEbwUCh8QSkl5oK+++Imq/EsTXaTcnFt9JTl5v8iLzG0FUHMHjew+a+SXqvnYsExnyfTB4Ov7yUtaLyZ/nhqbpqtaDPU1hv3mUX/BbFF2OtwLft80b08NJC50a7V/3mEZOYPlc3mhyJFiezF7W78a0+4N/oWwL46pyv+YJa6jxfrw5QLpEF3xmdjltvIy4/SXEGEGq/D1UcmgMiFAAVw3E9w33RJf8qDHSuPBw1S+XIYv6QOZndy6l6vJASAXpkzsALz40uFvehMJ5iKZa6EaKpwZ+2JLTeIGYcsB3cK3UedcbbXdHX9gUTCVfBYKxKYUVWblSdd1EppXw8gNd5SC1AhOhUaa2kmdF
Authentication-Results: mail3-smtp-sop.national.inria.fr; spf=None smtp.pra=Christophe.Raffalli@univ-savoie.fr; spf=SoftFail smtp.mailfrom=raffalli@univ-savoie.fr; spf=None smtp.helo=postmaster@raffalli.eu
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  Christophe.Raffalli@univ-savoie.fr) identity=pra;
  client-ip=192.162.68.177;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="raffalli@univ-savoie.fr";
  x-sender="Christophe.Raffalli@univ-savoie.fr";
  x-conformance=sidf_compatible
Received-SPF: SoftFail (mail3-smtp-sop.national.inria.fr: domain
  of raffalli@univ-savoie.fr is inclined to not designate
  192.162.68.177 as permitted sender) identity=mailfrom;
  client-ip=192.162.68.177;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="raffalli@univ-savoie.fr";
  x-sender="raffalli@univ-savoie.fr";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@raffalli.eu) identity=helo;
  client-ip=192.162.68.177;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="raffalli@univ-savoie.fr";
  x-sender="postmaster@raffalli.eu";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0CvCwAAIkNXUbFEosBchAC7CwENiXEUAQEBAQEBAQEFATdOQQEBAwkEgVqCFgEFIwQsJhALISECAg8FLxqIQgSzP5FjDoYnhE2HQCuCLgEEmDeOFgqBU41Jj0weAQGBeIECgTeFHoJ5giYBAQE
X-IPAS-Result: A0CvCwAAIkNXUbFEosBchAC7CwENiXEUAQEBAQEBAQEFATdOQQEBAwkEgVqCFgEFIwQsJhALISECAg8FLxqIQgSzP5FjDoYnhE2HQCuCLgEEmDeOFgqBU41Jj0weAQGBeIECgTeFHoJ5giYBAQE
X-IronPort-AV: E=Sophos;i="5.26,356,1459807200"; 
   d="asc'?scan'208";a="178723021"
Received: from vps29067.lws-hosting.com (HELO raffalli.eu) ([192.162.68.177])
  by mail3-smtp-sop.national.inria.fr with ESMTP; 23 May 2016 17:35:28 +0200
Received: from localhost (nat-maths.univ-savoie.fr [193.48.123.14])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by raffalli.eu (Postfix) with ESMTPSA id 9A728352067F;
	Mon, 23 May 2016 17:35:27 +0200 (CEST)
Date: Mon, 23 May 2016 17:35:26 +0200
From: Christophe Raffalli <Christophe.Raffalli@univ-savoie.fr>
To: "Mr. Herr" <misterherr@freenet.de>
Cc: caml-list@inria.fr
Message-ID: <20160523153526.GC2339@delli7.univ-savoie.fr>
References: <0F7D3B1B3C4B894D824F5B822E3E5A172CF046D5@IRSMSX102.ger.corp.intel.com>
 <573ECCD0.8060106@freenet.de>
 <0F7D3B1B3C4B894D824F5B822E3E5A172CF04817@IRSMSX102.ger.corp.intel.com>
 <573EE587.1070504@freenet.de>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="t0UkRYy7tHLRMCai"
Content-Disposition: inline
In-Reply-To: <573EE587.1070504@freenet.de>
User-Agent: Mutt/1.6.0 (2016-04-01)
X-Validation-by: christophe.raffalli@univ-savoie.fr
Subject: Re: [Caml-list] Syntax for several matches, each with a "when"
 clause, but only one result


--t0UkRYy7tHLRMCai
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable


Hello,

personnaly, I am not happy with the semantics of when guarded clause (and I=
f I remember well
already mentionned it on the list):

match (1,2) with
  (x,y) | (y,x) when y <=3D x -> (x,y)
| _ -> assert false

will raise an assert false ... while being quite elegant ...

I think "when" should be distributive on "or pattern", which would imply th=
at "when" should be allowed deep in patterns.

It certainly makes pattern compilation harder, but it should not really cha=
nge the completeness of pattern analysis
because guarded clause are more or less ignored ?

Cheers,
Christo=C4=A5e

--t0UkRYy7tHLRMCai
Content-Type: application/pgp-signature; name="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAldDIz4ACgkQi9jr/RgYAS71nACgwuYv3fjqwhJkSwJiu6/GfcZ6
MW4Ani149YgZtU1R8faL8A2QIXiKoXJv
=TcfI
-----END PGP SIGNATURE-----

--t0UkRYy7tHLRMCai--
