Return-Path: <gabriel.scherer@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id CE4CA7FB0A
	for <caml-list@sympa.inria.fr>; Tue,  9 Dec 2014 08:39:27 +0100 (CET)
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  gabriel.scherer@gmail.com) identity=pra;
  client-ip=209.85.218.52;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="gabriel.scherer@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  gabriel.scherer@gmail.com designates 209.85.218.52 as
  permitted sender) identity=mailfrom; client-ip=209.85.218.52;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="gabriel.scherer@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-oi0-f52.google.com) identity=helo;
  client-ip=209.85.218.52;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="postmaster@mail-oi0-f52.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AosBAC+mhlTRVdo0m2dsb2JhbABZDoNKWASDAbMtjX6BaoYJAoEkBxYBAQEBAREBAQEBAQYLCwkULoQDAQEDARIRHQEbEgUGAQMBCwYFBAcaHQICIgERAQUBChIGExIQiAEBAwkIDbMKPTGLL4FsgwWLcgoZJwMKWYUMAQEBAQEFAQEBAQEBARUBBQ6QKgQHgm+BRwWEKwaNNW2ET4ENMIxPgXASJYENg1lAPjABgkIBAQE
X-IPAS-Result: AosBAC+mhlTRVdo0m2dsb2JhbABZDoNKWASDAbMtjX6BaoYJAoEkBxYBAQEBAREBAQEBAQYLCwkULoQDAQEDARIRHQEbEgUGAQMBCwYFBAcaHQICIgERAQUBChIGExIQiAEBAwkIDbMKPTGLL4FsgwWLcgoZJwMKWYUMAQEBAQEFAQEBAQEBARUBBQ6QKgQHgm+BRwWEKwaNNW2ET4ENMIxPgXASJYENg1lAPjABgkIBAQE
X-IronPort-AV: E=Sophos;i="5.07,543,1413237600"; 
   d="scan'208";a="92462009"
Received: from mail-oi0-f52.google.com ([209.85.218.52])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/RC4-SHA; 09 Dec 2014 08:39:26 +0100
Received: by mail-oi0-f52.google.com with SMTP id h136so19220oig.25
        for <caml-list@inria.fr>; Mon, 08 Dec 2014 23:39:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        bh=S9VJ27eVMc0dWFLiFCJm1XLp0Jarv5JuIr2pe2Y9OMY=;
        b=iPjhI7XCx04ioeQfv+FNdT4tWLRUvJn5G9KkakkXO52jefhrSuCjB0BwvTt/cURqrw
         su6uEN+LclkHcfFkJNd5ehnDZLpNmj/xcHJd3QPhjyOaA6vv4fPuGpCZppAgviRbGvfp
         yzFXO+DTfsEKZMvO9QK+Jf6hTEsJJ9qzu7fBk+1nwuIgBKQLhBxUokDBVI+AUDk/UY08
         bC1Yyvd3E9/N7n534WJyMLXarpeBIO+owgkw4MHvn/r0iSzP41zFJ0bwrSsrmkpWUT7j
         2p4YLLWu/Q9g14vWwUWbDJIe7/t1VUuTLyM4Og4AWzzwGYvbbC7NZ5L12CsmHpfDTOsw
         W3Iw==
X-Received: by 10.202.60.196 with SMTP id j187mr9422373oia.93.1418110765186;
 Mon, 08 Dec 2014 23:39:25 -0800 (PST)
MIME-Version: 1.0
Received: by 10.76.90.197 with HTTP; Mon, 8 Dec 2014 23:38:45 -0800 (PST)
In-Reply-To: <20141209064223.GA501@pllab.is.ocha.ac.jp>
References: <20141209064223.GA501@pllab.is.ocha.ac.jp>
From: Gabriel Scherer <gabriel.scherer@gmail.com>
Date: Tue, 9 Dec 2014 08:38:45 +0100
Message-ID: <CAPFanBFy+M2dNzxojRLf8+1WAj_h_MOKV3Besr3Eb7+8t4+S=Q@mail.gmail.com>
To: Kenichi Asai <asai@is.ocha.ac.jp>
Cc: caml users <caml-list@inria.fr>
Content-Type: multipart/alternative; boundary=001a113cced86948660509c3a4f3
Subject: Re: [Caml-list] OCamlDoc: @-tags handled only in the standard
 elements?

--001a113cced86948660509c3a4f3
Content-Type: text/plain; charset=UTF-8

My understanding is that these parts of the documentation describe the
behavior of the generators provided by ocamldoc. If you implement a custom
generator to handle those custom tags (Section 15.3), you should be able to
override this behavior with whatever pleases you. If the current
implementation does not allow that, you should file a feature request and
indeed it seems reasonable to extend it suitably.

Do you have the sources of your current experiment available somewhere for
testing and reproduction?

On Tue, Dec 9, 2014 at 7:42 AM, Kenichi Asai <asai@is.ocha.ac.jp> wrote:

> I thought I could provide documents in two languages using custom tags
> in OCamlDoc, but there still remains a problem.  It appears that the
> custom tags (in my case, @en and @jp) are not handled in
>
> - the very first comment,
> - special comments between elements, and
> - comments for type constructors, etc.
>
> Is there any way to support custom tags in all the places including
> the above?  -- Currently, it seems not, as the OCamlDoc says:
>
> http://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html
>
> Section 15.2.1:
>
> > (** Special comments can be placed between elements and are kept
> >     by the OCamldoc tool, but are not associated to any element.
> >     @-tags in these comments are ignored.*)
>
> Section 15.2.3:
>
> > Some elements support only a subset of all @-tags. Tags that are not
> > relevant to the documented element are simply ignored. For instance,
> > all tags are ignored when documenting type constructors, record
> > fields, and class inheritance clauses. Similarly, a @param tag on a
> > class instance variable is ignored.
>
> Why aren't all the comments handled in the same way?  It appears to be
> easier to handle all the comments in the same way.  Is there any
> chance that it will become as such?
>
> Sincerely,
>
> --
> Kenichi Asai
>
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs
>

--001a113cced86948660509c3a4f3
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>My understanding is that these parts of the documenta=
tion describe the behavior of the generators provided by ocamldoc. If you i=
mplement a custom generator to handle those custom tags (Section 15.3), you=
 should be able to override this behavior with whatever pleases you. If the=
 current implementation does not allow that, you should file a feature requ=
est and indeed it seems reasonable to extend it suitably.<br><br></div>Do y=
ou have the sources of your current experiment available somewhere for test=
ing and reproduction?<br></div><div class=3D"gmail_extra"><br><div class=3D=
"gmail_quote">On Tue, Dec 9, 2014 at 7:42 AM, Kenichi Asai <span dir=3D"ltr=
">&lt;<a href=3D"mailto:asai@is.ocha.ac.jp" target=3D"_blank">asai@is.ocha.=
ac.jp</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"m=
argin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">I thought I c=
ould provide documents in two languages using custom tags<br>
in OCamlDoc, but there still remains a problem.=C2=A0 It appears that the<b=
r>
custom tags (in my case, @en and @jp) are not handled in<br>
<br>
- the very first comment,<br>
- special comments between elements, and<br>
- comments for type constructors, etc.<br>
<br>
Is there any way to support custom tags in all the places including<br>
the above?=C2=A0 -- Currently, it seems not, as the OCamlDoc says:<br>
<br>
<a href=3D"http://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html" target=
=3D"_blank">http://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html</a><br>
<br>
Section 15.2.1:<br>
<br>
&gt; (** Special comments can be placed between elements and are kept<br>
&gt;=C2=A0 =C2=A0 =C2=A0by the OCamldoc tool, but are not associated to any=
 element.<br>
&gt;=C2=A0 =C2=A0 =C2=A0@-tags in these comments are ignored.*)<br>
<br>
Section 15.2.3:<br>
<br>
&gt; Some elements support only a subset of all @-tags. Tags that are not<b=
r>
&gt; relevant to the documented element are simply ignored. For instance,<b=
r>
&gt; all tags are ignored when documenting type constructors, record<br>
&gt; fields, and class inheritance clauses. Similarly, a @param tag on a<br>
&gt; class instance variable is ignored.<br>
<br>
Why aren&#39;t all the comments handled in the same way?=C2=A0 It appears t=
o be<br>
easier to handle all the comments in the same way.=C2=A0 Is there any<br>
chance that it will become as such?<br>
<br>
Sincerely,<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
--<br>
Kenichi Asai<br>
<br>
--<br>
Caml-list mailing list.=C2=A0 Subscription management and archives:<br>
<a href=3D"https://sympa.inria.fr/sympa/arc/caml-list" target=3D"_blank">ht=
tps://sympa.inria.fr/sympa/arc/caml-list</a><br>
Beginner&#39;s list: <a href=3D"http://groups.yahoo.com/group/ocaml_beginne=
rs" target=3D"_blank">http://groups.yahoo.com/group/ocaml_beginners</a><br>
Bug reports: <a href=3D"http://caml.inria.fr/bin/caml-bugs" target=3D"_blan=
k">http://caml.inria.fr/bin/caml-bugs</a><br>
</font></span></blockquote></div><br></div>

--001a113cced86948660509c3a4f3--
