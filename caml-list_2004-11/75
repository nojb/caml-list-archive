Return-Path: <pierre.weis@inria.fr>
Delivered-To: caml-list@yquem.inria.fr
Received: from nez-perce.inria.fr (nez-perce.inria.fr [192.93.2.78])
	by yquem.inria.fr (Postfix) with ESMTP id 1B3FBBB81
	for <caml-list@yquem.inria.fr>; Tue,  9 Nov 2004 19:02:25 +0100 (CET)
Received: from pauillac.inria.fr (pauillac.inria.fr [128.93.11.35])
	by nez-perce.inria.fr (8.13.0/8.13.0) with ESMTP id iA9I2Oa2019464
	for <caml-list@yquem.inria.fr>; Tue, 9 Nov 2004 19:02:24 +0100
Received: from nez-perce.inria.fr (nez-perce.inria.fr [192.93.2.78]) by pauillac.inria.fr (8.7.6/8.7.3) with ESMTP id TAA23212 for <caml-list@pauillac.inria.fr>; Tue, 9 Nov 2004 19:02:24 +0100 (MET)
Received: from paul.rtelekom.ru (paul.rtelekom.ru [217.146.42.160])
	by nez-perce.inria.fr (8.13.0/8.13.0) with ESMTP id iA9I2MB6019457
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <caml-list@inria.fr>; Tue, 9 Nov 2004 19:02:23 +0100
Received: from paul.rtelekom.ru (localhost [127.0.0.1])
	by paul.rtelekom.ru (8.13.1/8.13.1) with ESMTP id iA9I2K6b071027;
	Tue, 9 Nov 2004 21:02:20 +0300 (MSK)
	(envelope-from argentoff@rtelekom.ru)
Received: (from paul@localhost)
	by paul.rtelekom.ru (8.13.1/8.13.1/Submit) id iA9I2KVR071026;
	Tue, 9 Nov 2004 21:02:20 +0300 (MSK)
	(envelope-from argentoff@rtelekom.ru)
X-Authentication-Warning: paul.rtelekom.ru: paul set sender to argentoff@rtelekom.ru using -f
X-Comment-To: Richard Jones
To: Richard Jones <rich@annexia.org>
Cc: caml-list@inria.fr
Subject: Re: [Caml-list] mod_caml makes Apache segfault
References: <20040906155041.GG7964@alan-schm1p>
	<20040906160342.GA1808@annexia.org>
From: Paul Argentoff <argentoff@rtelekom.ru>
In-Reply-To: <20040906160342.GA1808@annexia.org> (Richard Jones's message of
 "Mon, 6 Sep 2004 17:03:42 +0100")
User-Agent: Gnus/5.1002 (Gnus v5.10.2) XEmacs/21.4 (Reasonable Discussion)
Date: Tue, 09 Nov 2004 21:02:16 +0300
Message-ID: <86zn1qx5nb.fsf@paul.rtelekom.ru>
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="==-=-=";
	micalg=pgp-sha1; protocol="application/pgp-signature"
X-Miltered: at nez-perce with ID 41910630.001 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Miltered: at nez-perce with ID 4191062E.001 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Spam: no; 0.00; caml-list:01 segfault:01 show-stopper:01 bug:01 pcre:01 imho:01 bug:01 httpd:01 modules:01 caml:02 caml:02 let:03 fixes:06 core:06 written:06 
X-Attachments: type="application/octet-stream" name="apache2-pcre-patch.tar.bz2" type="application/pgp-signature" 
X-Spam-Checker-Version: SpamAssassin 3.0.0 (2004-09-13) on yquem.inria.fr
X-Spam-Status: No, score=0.0 required=5.0 tests=none autolearn=disabled 
	version=3.0.0
X-Spam-Level: 

--==-=-=
Content-Type: multipart/mixed; boundary="=-=-="

--=-=-=
Content-Transfer-Encoding: quoted-printable

Dear Richard Jones,

Let RJ =3D "Richard Jones" in
  written_by RJ =3D>=20

 RJ> First thing to say is that there is a show-stopper bug in Apache 2
 RJ> which prevents modules which use PCRE from working.

IMHO I've found a patch that fixes the bug. At least it prevents httpd.core
at mod_caml.so load.

=2D-=20
Yours truly, WBR, Paul Argentoff.
Jabber:	paul@jabber.rtelekom.ru
RIPE:	PA1291-RIPE


--=-=-=
Content-Type: application/octet-stream
Content-Disposition: attachment; filename=apache2-pcre-patch.tar.bz2
Content-Transfer-Encoding: base64
Content-Description: the patch is in there

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
tlenM01f+LuSKcKEh5Lu5ZA=
--=-=-=--

--==-=-=
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.6 (FreeBSD)

iD8DBQBBkQYsTpyZ2m+KshgRAl1XAJ9LvA+jhU1aCjdzqTCJou1HT08TmgCeNFgE
Dl+1gifBJU/HBAqsU2pE9Ec=
=BYGL
-----END PGP SIGNATURE-----
--==-=-=--

