Return-Path: <philippe.veber@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail4-relais-sop.national.inria.fr (mail4-relais-sop.national.inria.fr [192.134.164.105])
	by sympa.inria.fr (Postfix) with ESMTPS id 77D1C7EEAF
	for <caml-list@sympa.inria.fr>; Sat, 19 Jan 2013 10:07:57 +0100 (CET)
Received-SPF: None (mail4-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  philippe.veber@gmail.com) identity=pra;
  client-ip=209.85.223.176;
  receiver=mail4-smtp-sop.national.inria.fr;
  envelope-from="philippe.veber@gmail.com";
  x-sender="philippe.veber@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail4-smtp-sop.national.inria.fr: domain of
  philippe.veber@gmail.com designates 209.85.223.176 as
  permitted sender) identity=mailfrom;
  client-ip=209.85.223.176;
  receiver=mail4-smtp-sop.national.inria.fr;
  envelope-from="philippe.veber@gmail.com";
  x-sender="philippe.veber@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail4-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-ie0-f176.google.com) identity=helo;
  client-ip=209.85.223.176;
  receiver=mail4-smtp-sop.national.inria.fr;
  envelope-from="philippe.veber@gmail.com";
  x-sender="postmaster@mail-ie0-f176.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApsCAIxh+lDRVd+wlGdsb2JhbABEq1GJPwGJJQgWDgEBAQEJCQsJEimCHgEBBAFAARsSCwEDAQsGBQQHGiEiAREBBQEKEgYTEod0AQMJBgyeYIw0gnuEUwoZJwMKWYgDAQUMkS0DkloDgy+BHI1MFimEGA
X-IronPort-AV: E=Sophos;i="4.84,498,1355094000"; 
   d="scan'208";a="169010669"
Received: from mail-ie0-f176.google.com ([209.85.223.176])
  by mail4-smtp-sop.national.inria.fr with ESMTP/TLS/RC4-SHA; 19 Jan 2013 10:07:56 +0100
Received: by mail-ie0-f176.google.com with SMTP id 13so7388067iea.35
        for <caml-list@inria.fr>; Sat, 19 Jan 2013 01:07:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-received:mime-version:in-reply-to:references:from:date:message-id
         :subject:to:cc:content-type;
        bh=yXW+QBtHCoWS2j9h5jhxrMlI8xrLVKQGjCflDMUQejE=;
        b=ZWVVOt1aOey7oeOs2ZP+7mNdm6oVh53FSH0Zy9NaCcHyiPA2rtr7aH/i35/D8/Bzbo
         ehq605uSYDilyMX5R3VvBSZekchHgw6ov4lTVcY9jGvUyMSRFR0hKiYfWzaCp96ffgBZ
         0A7/pp5MnDN0anWZ1ELljZrenX0N9SjNlr93z6TJ3jTYYlGVEXak8RJnAhAJsLTOoSR9
         AOOWHt8/41hV9K8NmImad3XWL/p8RGg9SVfWxU2wdf6mbBdXR9R+OsZAoB5eVJZH/T0P
         kBZvcAnyyLwzj7Hzt625ZlfC7U9OIeAHSb9RzLfhRom4jO/1zXfitoBzaiT+2aCb1Xse
         ZQ/A==
X-Received: by 10.50.170.36 with SMTP id aj4mr3913802igc.92.1358586475060;
 Sat, 19 Jan 2013 01:07:55 -0800 (PST)
MIME-Version: 1.0
Received: by 10.64.6.226 with HTTP; Sat, 19 Jan 2013 01:07:35 -0800 (PST)
In-Reply-To: <4144589AC12E46C09674D6D80D984289@erratique.ch>
References: <6833F17C-B642-4ED9-8C8F-2665A9742845@ocamlpro.com>
 <50F831B6.6020404@frisch.fr> <224865B3-055C-4E03-AA42-9F962AD516D7@recoil.org>
 <50F92486.2020704@frisch.fr> <DF5C351C-2B6D-4AA6-BCE7-3A9F0366CCCB@recoil.org>
 <50F92FA9.8050707@frisch.fr> <28252449-E0B3-4A0E-A001-57B72712DD99@recoil.org>
 <4144589AC12E46C09674D6D80D984289@erratique.ch>
From: Philippe Veber <philippe.veber@gmail.com>
Date: Sat, 19 Jan 2013 10:07:35 +0100
Message-ID: <CAOOOohQo6KG4jXodt7R5c+Hc8NAhJF5WEz9TEuoJDcNe7CUYZA@mail.gmail.com>
To: =?ISO-8859-1?Q?Daniel_B=FCnzli?= <daniel.buenzli@erratique.ch>
Cc: Anil Madhavapeddy <anil@recoil.org>, Alain Frisch <alain@frisch.fr>, 
	Thomas Gazagnaire <thomas@ocamlpro.com>, OCaml mailing-list <caml-list@inria.fr>, 
	Mirage List <cl-mirage@lists.cam.ac.uk>
Content-Type: multipart/alternative; boundary=e89a8f234a513e1c1a04d3a090cc
X-Validation-by: philippe.veber@gmail.com
Subject: Re: Opam package publication (was Re: [Caml-list] [ANN]
 beta-release of OPAM)


--e89a8f234a513e1c1a04d3a090cc
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Daniel,

I hope I understood your point correctly, but you can already do that : if
your repo is accessible via git, http or rsync protocols any user can use
it simultaneously with ocamlpro's. opam has no problem handling several
repositories and makes a good job of sorting out which repo has the newest
version of a package. In practice it works very well. Details can be found
there: http://opam.ocamlpro.com/doc/Advanced_Usage.html (see Handling of
repositories).

cheers,
  Philippe.

2013/1/18 Daniel B=FCnzli <daniel.buenzli@erratique.ch>

> Le vendredi, 18 janvier 2013 =E0 12:27, Anil Madhavapeddy a =E9crit :
> > A certain barrier to entry in the early days isn't a bad thing. Homebrew
> seems to cope well enough with this workflow (with over 10,000 forks).
>
> For now my packages where uploaded by a kind contributor (thanks to him)
> but in the future I intend to do so myself and I share Alain Frisch's
> sentiment here.
>
> I also find the github process rather wasteful in terms of energy,
> moreover if a submitted package is rejected or if the pull request gets
> stuck for a while and I need to provide the package to someone else rapid=
ly
> then I'll have to publish it a second time on another repo.
>
> I think it would be easier to tell packagers to provide their own http
> repository and have a simple command in opam that allows to import a
> package from one repository in another.
>
> That way I publish my packages once on a website and it ensures they are
> available whether ocamlpro wants them in their repo or not. I notify
> ocamlpro's repository maintainer (in a way to be specified by him) of the
> existence of the package and he can import it from my repo if he wishes. =
If
> for some reason the package never makes it in ocamlpro's repository, the
> end-user can just add my repo to its opam install to get it immediatly.
>
> This solves a lot of problems very easily, without wasting too much
> energy, in a distributed manner and without github in the loop.
>
> Best,
>
> Daniel
>
>
>
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs

--e89a8f234a513e1c1a04d3a090cc
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Daniel,<br><br>I hope I understood your point correctly, but you can alr=
eady do that : if your repo is accessible via git, http or rsync protocols =
any user can use it simultaneously with ocamlpro&#39;s. opam has no problem=
 handling several repositories and makes a good job of sorting out which re=
po has the newest version of a package. In practice it works very well. Det=
ails can be found there: <a href=3D"http://opam.ocamlpro.com/doc/Advanced_U=
sage.html">http://opam.ocamlpro.com/doc/Advanced_Usage.html</a> (see Handli=
ng of repositories).<br>

<br>cheers,<br>=A0 Philippe.<br><br><div class=3D"gmail_quote">2013/1/18 Da=
niel B=FCnzli <span dir=3D"ltr">&lt;<a href=3D"mailto:daniel.buenzli@errati=
que.ch" target=3D"_blank">daniel.buenzli@erratique.ch</a>&gt;</span><br><bl=
ockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #=
ccc solid;padding-left:1ex">

Le vendredi, 18 janvier 2013 =E0 12:27, Anil Madhavapeddy a =E9crit :<br>
&gt; A certain barrier to entry in the early days isn&#39;t a bad thing. Ho=
mebrew seems to cope well enough with this workflow (with over 10,000 forks=
).<br>
<br>
For now my packages where uploaded by a kind contributor (thanks to him) bu=
t in the future I intend to do so myself and I share Alain Frisch&#39;s sen=
timent here.<br>
<br>
I also find the github process rather wasteful in terms of energy, moreover=
 if a submitted package is rejected or if the pull request gets stuck for a=
 while and I need to provide the package to someone else rapidly then I&#39=
;ll have to publish it a second time on another repo.<br>


<br>
I think it would be easier to tell packagers to provide their own http repo=
sitory and have a simple command in opam that allows to import a package fr=
om one repository in another.<br>
<br>
That way I publish my packages once on a website and it ensures they are av=
ailable whether ocamlpro wants them in their repo or not. I notify ocamlpro=
&#39;s repository maintainer (in a way to be specified by him) of the exist=
ence of the package and he can import it from my repo if he wishes. If for =
some reason the package never makes it in ocamlpro&#39;s repository, the en=
d-user can just add my repo to its opam install to get it immediatly.<br>


<br>
This solves a lot of problems very easily, without wasting too much energy,=
 in a distributed manner and without github in the loop.<br>
<br>
Best,<br>
<br>
Daniel<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
<br>
<br>
--<br>
Caml-list mailing list. =A0Subscription management and archives:<br>
<a href=3D"https://sympa.inria.fr/sympa/arc/caml-list" target=3D"_blank">ht=
tps://sympa.inria.fr/sympa/arc/caml-list</a><br>
Beginner&#39;s list: <a href=3D"http://groups.yahoo.com/group/ocaml_beginne=
rs" target=3D"_blank">http://groups.yahoo.com/group/ocaml_beginners</a><br>
Bug reports: <a href=3D"http://caml.inria.fr/bin/caml-bugs" target=3D"_blan=
k">http://caml.inria.fr/bin/caml-bugs</a></font></span></blockquote></div><=
br>

--e89a8f234a513e1c1a04d3a090cc--
