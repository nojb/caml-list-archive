Return-Path: <daniel.buenzli@erratique.ch>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail1-relais-roc.national.inria.fr (mail1-relais-roc.national.inria.fr [192.134.164.82])
	by sympa.inria.fr (Postfix) with ESMTPS id B02F47EEAF
	for <caml-list@sympa.inria.fr>; Fri, 18 Jan 2013 16:33:04 +0100 (CET)
Received-SPF: None (mail1-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  daniel.buenzli@erratique.ch) identity=pra;
  client-ip=74.55.86.74;
  receiver=mail1-smtp-roc.national.inria.fr;
  envelope-from="daniel.buenzli@erratique.ch";
  x-sender="daniel.buenzli@erratique.ch";
  x-conformance=sidf_compatible
Received-SPF: None (mail1-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  daniel.buenzli@erratique.ch) identity=mailfrom;
  client-ip=74.55.86.74;
  receiver=mail1-smtp-roc.national.inria.fr;
  envelope-from="daniel.buenzli@erratique.ch";
  x-sender="daniel.buenzli@erratique.ch";
  x-conformance=sidf_compatible
Received-SPF: None (mail1-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@smtp.webfaction.com) identity=helo;
  client-ip=74.55.86.74;
  receiver=mail1-smtp-roc.national.inria.fr;
  envelope-from="daniel.buenzli@erratique.ch";
  x-sender="postmaster@smtp.webfaction.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ArIEAOxp+VBKN1ZKfmdsb2JhbABFgziDDbgJDgEBCwkMCBQngh8BBSNWEAsaAiYCAkcQBhsBiBAECKoykWiBI48DMmEDlyiEPBONVA
X-IronPort-AV: E=Sophos;i="4.84,493,1355094000"; 
   d="scan'208";a="190591217"
Received: from mail6.webfaction.com (HELO smtp.webfaction.com) ([74.55.86.74])
  by mail1-smtp-roc.national.inria.fr with ESMTP; 18 Jan 2013 16:33:03 +0100
Received: from [172.20.10.2] (35-234.197-178.cust.bluewin.ch [178.197.234.35])
	by smtp.webfaction.com (Postfix) with ESMTP id B264766EF3DB;
	Fri, 18 Jan 2013 09:33:01 -0600 (CST)
Date: Fri, 18 Jan 2013 16:32:58 +0100
From: =?utf-8?Q?Daniel_B=C3=BCnzli?= <daniel.buenzli@erratique.ch>
To: Alain Frisch <alain.frisch@lexifi.com>
Cc: caml-list <caml-list@inria.fr>
Message-ID: <21CE18DB888F4112A274E2BCBF1D0B6B@erratique.ch>
In-Reply-To: <50F95B3B.4050607@lexifi.com>
References: <50F95B3B.4050607@lexifi.com>
X-Mailer: sparrow 1.6.4 (build 1178)
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Subject: Re: [Caml-list] sedlex = ulex without camlp4

Hello Alain,  

I rapidly went through your documentation. 

If your UTF-8 and UTF-16 decoders are conformant, your module, on output, doesn't generate Unicode code points, but Unicode scalar values (code points minus the UTF-16 surrogates [1]). If that is the case it would be nice to state this invariant explicitely in the documentation.

This allows to directly pass the data generated by sedlex to modules like Uunf without further checks as those values belong to the Uunf.uchar type [2].

Best,

Daniel 


[1] http://www.unicode.org/glossary/#unicode_scalar_value
[2] http://erratique.ch/software/uunf/doc/Uunf#TYPEuchar


