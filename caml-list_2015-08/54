Return-Path: <agarwal1975@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id A26327EEBF
	for <caml-list@sympa.inria.fr>; Wed,  5 Aug 2015 19:27:01 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  agarwal1975@gmail.com) identity=pra;
  client-ip=209.85.212.172;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="agarwal1975@gmail.com";
  x-sender="agarwal1975@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  agarwal1975@gmail.com designates 209.85.212.172 as permitted
  sender) identity=mailfrom; client-ip=209.85.212.172;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="agarwal1975@gmail.com";
  x-sender="agarwal1975@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-wi0-f172.google.com) identity=helo;
  client-ip=209.85.212.172;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="agarwal1975@gmail.com";
  x-sender="postmaster@mail-wi0-f172.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0ATAwBARsJVm6zUVdFbg29pBoMdqVuEX4p9gjeFeQKBQQdMAQEBAQEBEgEBAQEBBgsLCSEuhCMBAQEDARIRBBkBGxILAQMBCwYDAgQHDQ0dAgIiAREBBQEKEgYTEhCHdgEDCggNmTOPP4EuPjGLP4FsgnmLTwoZJwMKFUKEWwEBAQEBAQQBAQEBAQEBARQBBQ6LQYUFBAeCaYFDBYVoDI8FBoR/h1eCDZYNEiOBFxEGhCgiMYJMAQEB
X-IPAS-Result: A0ATAwBARsJVm6zUVdFbg29pBoMdqVuEX4p9gjeFeQKBQQdMAQEBAQEBEgEBAQEBBgsLCSEuhCMBAQEDARIRBBkBGxILAQMBCwYDAgQHDQ0dAgIiAREBBQEKEgYTEhCHdgEDCggNmTOPP4EuPjGLP4FsgnmLTwoZJwMKFUKEWwEBAQEBAQQBAQEBAQEBARQBBQ6LQYUFBAeCaYFDBYVoDI8FBoR/h1eCDZYNEiOBFxEGhCgiMYJMAQEB
X-IronPort-AV: E=Sophos;i="5.15,618,1432591200"; 
   d="scan'208";a="172777310"
Received: from mail-wi0-f172.google.com ([209.85.212.172])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/RC4-SHA; 05 Aug 2015 19:27:01 +0200
Received: by wibhh20 with SMTP id hh20so34247980wib.0
        for <caml-list@inria.fr>; Wed, 05 Aug 2015 10:27:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        bh=LeU7LSOzi5/64tKrFOH/GZwGhVC65qiNBQJ05aTJMzE=;
        b=rEJHMT/nlM1bCZ6mRm2b3cKahAyAunYErdZnbv/T7FnGVRLmYcFrnwAJThXB8xMzoP
         imLY+CwCl45ejJxOxRdwJkThtylPdKVRK54A3I41Hh2uhPZGBfJKY73ntYLjwq1pKNzO
         FSKe6RhZ3RT0IOY3aMrMaF/ReI30B01u8CjuJEjnFQZb98pd6ZVYnh/21u94HJqOgcb/
         +g/4Cq3W8sHcpwcG5OXEBbN2a3FA04VRx7drESYnaf4jWpT0ItMOO/l4ao5Jx2iQBdQd
         2kEwsawxdRhtAYCwK5+1lxe7m4GHjoedZOpMAVbY+FVzso0v4LPYerTqk19wWepDSfm5
         vp4Q==
X-Received: by 10.180.198.48 with SMTP id iz16mr571731wic.47.1438795620999;
 Wed, 05 Aug 2015 10:27:00 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.27.82.86 with HTTP; Wed, 5 Aug 2015 10:26:41 -0700 (PDT)
In-Reply-To: <20150804092129.GB5689@frosties>
References: <CAMu2m2J+qrKwxOO+yoV9fLaPFd39tG7terwE3djzarWwO6_v6w@mail.gmail.com>
 <20150804092129.GB5689@frosties>
From: Ashish Agarwal <agarwal1975@gmail.com>
Date: Wed, 5 Aug 2015 13:26:41 -0400
Message-ID: <CAMu2m2JYb2vGNC_rWby=Z0r6ggJOS1Gr5oOMBHjExhYJfZkq=w@mail.gmail.com>
To: Goswin von Brederlow <goswin-v-b@web.de>
Cc: Caml List <caml-list@inria.fr>
Content-Type: multipart/alternative; boundary=047d7b624e6ce4e724051c93b584
Subject: Re: [Caml-list] selecting GADT parameter

--047d7b624e6ce4e724051c93b584
Content-Type: text/plain; charset=UTF-8

Thanks for the answers. I see now the difficulty in this. (Though it seems
possible in theory if we required type annotations in various places.)

On Tue, Aug 4, 2015 at 5:21 AM, Goswin von Brederlow <goswin-v-b@web.de>
wrote:

> On Fri, Jul 31, 2015 at 09:48:13AM -0400, Ashish Agarwal wrote:
> > I have:
> >
> > type _ t =
> > | Foo1 : 'a * int -> int t
> > | Foo2 : 'a * string -> 'a t
> >
> > but I really want to merge these two cases. I want the return type to be
> > based on the second arg when the second arg is int, and be based on the
> > first arg otherwise. Any way to accomplish that?
>
> Say you had (imaginary syntax):
>
> type _ t =
> | Foo : 'a * int -> int t
> | Foo : 'a * string -> 'a t
>
> let x1 = Foo (1, 1)     : int t
> let x2 = Foo (1, "x")   : int t
>
> match (x : int t) with
> | Foo (a, b) -> ...
>
> What is the type of (a, b) now? Is it (int, int) or (int, string)?
>
> MfG
>         Goswin
>
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs
>

--047d7b624e6ce4e724051c93b584
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Thanks for the answers. I see now the difficulty in this. =
(Though it seems possible in theory if we required type annotations in vari=
ous places.)</div><div class=3D"gmail_extra"><br><div class=3D"gmail_quote"=
>On Tue, Aug 4, 2015 at 5:21 AM, Goswin von Brederlow <span dir=3D"ltr">&lt=
;<a href=3D"mailto:goswin-v-b@web.de" target=3D"_blank">goswin-v-b@web.de</=
a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0=
 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"HOEnZb=
"><div class=3D"h5">On Fri, Jul 31, 2015 at 09:48:13AM -0400, Ashish Agarwa=
l wrote:<br>
&gt; I have:<br>
&gt;<br>
&gt; type _ t =3D<br>
&gt; | Foo1 : &#39;a * int -&gt; int t<br>
&gt; | Foo2 : &#39;a * string -&gt; &#39;a t<br>
&gt;<br>
&gt; but I really want to merge these two cases. I want the return type to =
be<br>
&gt; based on the second arg when the second arg is int, and be based on th=
e<br>
&gt; first arg otherwise. Any way to accomplish that?<br>
<br>
</div></div>Say you had (imaginary syntax):<br>
<br>
type _ t =3D<br>
| Foo : &#39;a * int -&gt; int t<br>
| Foo : &#39;a * string -&gt; &#39;a t<br>
<br>
let x1 =3D Foo (1, 1)=C2=A0 =C2=A0 =C2=A0: int t<br>
let x2 =3D Foo (1, &quot;x&quot;)=C2=A0 =C2=A0: int t<br>
<br>
match (x : int t) with<br>
| Foo (a, b) -&gt; ...<br>
<br>
What is the type of (a, b) now? Is it (int, int) or (int, string)?<br>
<br>
MfG<br>
<span class=3D"HOEnZb"><font color=3D"#888888">=C2=A0 =C2=A0 =C2=A0 =C2=A0 =
Goswin<br>
<br>
--<br>
Caml-list mailing list.=C2=A0 Subscription management and archives:<br>
<a href=3D"https://sympa.inria.fr/sympa/arc/caml-list" rel=3D"noreferrer" t=
arget=3D"_blank">https://sympa.inria.fr/sympa/arc/caml-list</a><br>
Beginner&#39;s list: <a href=3D"http://groups.yahoo.com/group/ocaml_beginne=
rs" rel=3D"noreferrer" target=3D"_blank">http://groups.yahoo.com/group/ocam=
l_beginners</a><br>
Bug reports: <a href=3D"http://caml.inria.fr/bin/caml-bugs" rel=3D"noreferr=
er" target=3D"_blank">http://caml.inria.fr/bin/caml-bugs</a><br>
</font></span></blockquote></div><br></div>

--047d7b624e6ce4e724051c93b584--
