Return-Path: <maxence.guesdon@inria.fr>
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on yquem.inria.fr
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=AWL autolearn=disabled 
	version=3.1.3
X-Original-To: caml-list@yquem.inria.fr
Delivered-To: caml-list@yquem.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by yquem.inria.fr (Postfix) with ESMTP id 3C4CFBBCA
	for <caml-list@yquem.inria.fr>; Mon,  5 May 2008 10:30:51 +0200 (CEST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgECAP5hHkjBMjI+iGdsb2JhbACBU5AiAQEBDyCXTA
X-IronPort-AV: E=Sophos;i="4.27,437,1204498800"; 
   d="scan'208";a="10385717"
Received: from haydn2002.u-bourgogne.fr ([193.50.50.62])
  by mail2-smtp-roc.national.inria.fr with ESMTP; 05 May 2008 10:30:50 +0200
Received: from alcazar.inria.fr (guesdon@hydroptere.u-bourgogne.fr [193.52.236.56])
	by haydn2002.u-bourgogne.fr (8.13.8/8.13.8) with ESMTP id m458Ujb1005687
	for <caml-list@yquem.inria.fr>; Mon, 5 May 2008 10:30:47 +0200
Date: Mon, 5 May 2008 10:35:13 +0200
From: Maxence Guesdon <maxence.guesdon@inria.fr>
To: caml-list@yquem.inria.fr
Subject: Re: [Caml-list] Documenting submodules ?
Message-ID: <20080505103513.6f48d8fc@alcazar.inria.fr>
In-Reply-To: <1209975770.6431.5.camel@Blefuscu>
References: <1209593864.6823.36.camel@Blefuscu>
	<Pine.LNX.4.63.0805051008080.16412@serveur9-10.lri.fr>
	<1209975770.6431.5.camel@Blefuscu>
X-Mailer: Claws Mail 3.4.0 (GTK+ 2.12.9; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Miltered: at haydn02.u-bourgogne.fr with ID 481EC5B5.001 by Joe's j-chkmail (http://j-chkmail.ensmp.fr)!
X-Scanned-By: MIMEDefang 2.63 on 193.50.50.62
X-Spam: no; 0.00; maxence:01 guesdon:01 maxence:01 guesdon:01 submodules:01 univ-orleans:01 rephrase:01 ocamldoc:01 ocamldoc:01 struct:01 ocamlc:01 redefining:01 wrote:01 caml-list:01 behaviour:01 

On Mon, 05 May 2008 10:22:50 +0200
David Teller <David.Teller@univ-orleans.fr> wrote:

> Let me rephrase:
> 
> Case 1)
> 
> ==== sub.ml
> (** This is [Sub] *)
> 
> type t
>  (** This is [Sub.t]*)
> 
> ==== main.ml
> module Sub = Sub
> 
> Running ocamldoc drops the comments of sub.ml .

Indeed, ocamldoc does not use the comment of sub.ml in the page generated
for main.ml. This is normal behaviour. You could comment the creation of the
Sub module (i.e. Main.Sub) by putting a comment around
  module Sub = Sub

> Case 2)
> 
> ==== sub.ml
> module SubSub = struct
>   type t
>   (** This is [SubSub.t] *)
> end
> 
> ==== main.ml
> module SubSubSub = Sub.SubSub
> 
> 
> Running ocamlc drops the comments of sub.ml -- and the very existence of
> SubSub.t.

This is normal behaviour too. You're redefining a module here, and the
way it is defined is reflected by the html code generated by ocamldoc, with
a link on the Sub.SubSub page.

Regards,

Maxence

