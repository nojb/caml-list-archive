Return-Path: <markus.mottl@gmail.com>
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on yquem.inria.fr
X-Spam-Level: 
X-Spam-Status: No, score=0.1 required=5.0 tests=AWL autolearn=disabled 
	version=3.1.3
X-Original-To: caml-list@yquem.inria.fr
Delivered-To: caml-list@yquem.inria.fr
Received: from mail1-relais-roc.national.inria.fr (mail1-relais-roc.national.inria.fr [192.134.164.82])
	by yquem.inria.fr (Postfix) with ESMTP id D28AABBAF
	for <caml-list@yquem.inria.fr>; Fri, 16 May 2008 19:36:04 +0200 (CEST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: Ah8CAN9iLUjAXQIniGdsb2JhbACDH48JAQEBDyCVToVq
X-IronPort-AV: E=Sophos;i="4.27,498,1204498800"; 
   d="scan'208";a="12343073"
Received: from concorde.inria.fr ([192.93.2.39])
  by mail1-smtp-roc.national.inria.fr with ESMTP; 16 May 2008 19:36:04 +0200
Received: from mail4-relais-sop.national.inria.fr (mail4-relais-sop.national.inria.fr [192.134.164.105])
	by concorde.inria.fr (8.13.6/8.13.6) with ESMTP id m4GHZw7F008857
	(version=TLSv1/SSLv3 cipher=RC4-SHA bits=128 verify=OK)
	for <caml-list@inria.fr>; Fri, 16 May 2008 19:36:04 +0200
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AlICAGhiLUjRVciuc2dsb2JhbACDH48JAQwDBAQJDwWVUIVq
X-IronPort-AV: E=Sophos;i="4.27,498,1204498800"; 
   d="scan'208";a="26263786"
Received: from wf-out-1314.google.com ([209.85.200.174])
  by mail4-smtp-sop.national.inria.fr with ESMTP; 16 May 2008 19:36:03 +0200
Received: by wf-out-1314.google.com with SMTP id 25so264974wfa.0
        for <caml-list@inria.fr>; Fri, 16 May 2008 10:36:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        bh=RZl/4nR2VGyozjm2TPnbS+GdQVpyJjnvFfvi3K+m1JY=;
        b=S6eB/C6NrxHTomr+iktqxLnm2i5AQYdFHVtmDqbQbqEgo5TlbXprvKr0qamp4V8S7G3KrfWYqaRFBMmYrtc7+FPpKXZSp9OpcPSR3EmH1Zo8Rg75gBiiQ4lYBrULbBJSsv7wgBVllIuQHh9ufWxzgdyvuHhgZi28XFfmEk7s2UM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;
        b=DmsQ0IzBIV+3R37WHh7K0xn7+Nza4fwtxlwYfSbftEGPFb/yH9Nh56xchVeWKQXvIpxsu+F11YdrL74wogHUkNvfIf9tzjWgbLc9dzKCaYb1eGCFOq1z4xhk/2qwErruxBzE4l0ra18Q1fGaIIHMA1FKPRHa/YrXMnGmPEYXTS4=
Received: by 10.142.229.4 with SMTP id b4mr1622589wfh.125.1210959362374;
        Fri, 16 May 2008 10:36:02 -0700 (PDT)
Received: by 10.143.17.15 with HTTP; Fri, 16 May 2008 10:36:02 -0700 (PDT)
Message-ID: <f8560b80805161036x7a0cd938q3f0b9c09d038246d@mail.gmail.com>
Date: Fri, 16 May 2008 13:36:02 -0400
From: "Markus Mottl" <markus.mottl@gmail.com>
To: "Richard Jones" <rich@annexia.org>
Subject: Re: [Caml-list] Core has landed
Cc: "Caml List" <caml-list@inria.fr>
In-Reply-To: <20080516101615.GB3161@annexia.org>
MIME-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
References: <1209764381.8680.38.camel@nyc-qws-018.delacy.com>
	 <20080503081946.GA30935@annexia.org>
	 <891bd3390805030356n1988a6cep5f7d4263ae30cffe@mail.gmail.com>
	 <20080515122719.GA2842@annexia.org>
	 <20080515124023.GA4797@aquarium.takhisis.invalid>
	 <f8560b80805150859w1467c003g71749ab5c79f6afa@mail.gmail.com>
	 <f8560b80805150903q493c38a7j9ca09537d5524ad2@mail.gmail.com>
	 <20080515190608.GA28929@annexia.org>
	 <20080516101615.GB3161@annexia.org>
X-Miltered: at concorde with ID 482DC5FE.000 by Joe's j-chkmail (http://j-chkmail . ensmp . fr)!
X-Spam: no; 0.00; markus:01 mottl:01 markus:01 mottl:01 endian:01 endian:01 ocaml:01 wrote:01 preprocessor:01 compiles:01 caml-list:01 data:02 binary:02 unit:03 unit:03 

On Fri, May 16, 2008 at 6:16 AM, Richard Jones <rich@annexia.org> wrote:
>  OK, it compiles with this flag but the unit tests fail.  For example
>  on ppc:
>
>  http://koji.fedoraproject.org/koji/getfile?taskID=612162&name=build.log

Oh, that's clear, of course: the PPC architecture is big endian...

The unit tests may fail, but it should still be possible to use the
binary protocol on this platform (and then only there!) if you stick
to using converters derived by the macro preprocessor.

If anybody feels like implementing the feature that big endian
architectures write out data in little endian format (only the C-stubs
need to be adapted), then I'll gladly add that patch...

Regards,
Markus

-- 
Markus Mottl http://www.ocaml.info markus.mottl@gmail.com

