Return-Path: <info@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 1C7937F75C
	for <caml-list@sympa.inria.fr>; Thu, 25 Sep 2014 14:17:57 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mout.kundenserver.de) identity=helo;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="postmaster@mout.kundenserver.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AjECAJUHJFTU436ClGdsb2JhbABggyM+V4I5SMdph04CgQkWAREBAQEBBwsLCRIuhAQBAQQMFzIkEAkCGCoCAlcGEwmIOQmPfpxMFCFvDZRqAReKDoVqJgeCeIFTBYYmi3WDf45RBZFuagGCSQEBAQ
X-IPAS-Result: AjECAJUHJFTU436ClGdsb2JhbABggyM+V4I5SMdph04CgQkWAREBAQEBBwsLCRIuhAQBAQQMFzIkEAkCGCoCAlcGEwmIOQmPfpxMFCFvDZRqAReKDoVqJgeCeIFTBYYmi3WDf45RBZFuagGCSQEBAQ
X-IronPort-AV: E=Sophos;i="5.04,597,1406584800"; 
   d="asc'?scan'208";a="97845588"
Received: from mout.kundenserver.de ([212.227.126.130])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 25 Sep 2014 14:17:56 +0200
Received: from office1.lan.sumadev.de (dslb-178-004-068-137.178.004.pools.vodafone-ip.de [178.4.68.137])
	by mrelayeu.kundenserver.de (node=mreue007) with ESMTP (Nemesis)
	id 0MLEXd-1XXOyZ0gt7-000H4t; Thu, 25 Sep 2014 14:17:54 +0200
Received: from [192.168.10.103] (unknown [5.146.48.81])
	by office1.lan.sumadev.de (Postfix) with ESMTPSA id 74D18DC270;
	Thu, 25 Sep 2014 14:17:53 +0200 (CEST)
Message-ID: <1411647467.2930.96.camel@zotac>
From: Gerd Stolpmann <info@gerd-stolpmann.de>
To: =?ISO-8859-1?Q?T=F6r=F6k?= Edwin <edwin+ml-ocaml@etorok.net>
Cc: caml-list@inria.fr
Date: Thu, 25 Sep 2014 14:17:47 +0200
In-Reply-To: <5423FA28.8010003@etorok.net>
References: 
	<CAGmVoG1CUSobH_kR2+tu7Ep9qshxQOCAPKQT2F2USKnvNRrVmw@mail.gmail.com>
	 <5423FA28.8010003@etorok.net>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature";
	boundary="=-QQHr6nB42B9B3QESK3d2"
X-Mailer: Evolution 3.10.4-0ubuntu1 
Mime-Version: 1.0
X-Provags-ID: V02:K0:YTusqu7Ku5nFu3gpXMGplqVLiSGRNJC7gqzIvZw9Zk5
 GoKxpQ5IP2XsbaqWqOHAXkvYKntlAVyDtR60hKSDQqBYdhlQQz
 nuQdaAMI5F3tcX8qzbh3V7a1mpGsJrTOG4Ph6qhlTe88NzhY3U
 BE5WdIhRnawG+tKsp3Ob3haIGtlzF3AwbvKNP0XWADcbKJjK5f
 qCgzQC+KcjkUKwsDnmkMopm8+ufwWWEzVpauxjFuiiMQosoWsm
 RYjJ1qqyaaUJo6TkF9kr2x7dzhO24chfJAOY5fwqW5BIg68Ebj
 ygJRL40E2EJcS8ILqCE0rWYL+SybG7btD+NJ1Mq3l1kzoARFQb
 6v5NAtS81P/j40+C/Sgid53JlDVDnLfj9spL1PedX
X-UI-Out-Filterresults: notjunk:1;
Subject: Re: [Caml-list] Threads in byte code and native code work
 differently


--=-QQHr6nB42B9B3QESK3d2
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Am Donnerstag, den 25.09.2014, 14:19 +0300 schrieb T=C3=B6r=C3=B6k Edwin:
> On 09/25/2014 01:26 PM, Kakadu wrote:
> > Hello,
> >=20
> > I have demo application [1] which creates OCaml threads and executes
> > C++ event loop from different libraries. When I compile it to native
> > code everything is fine but when I create custom bytecode executable
> > OCaml threads doesn't work.
> >=20
> > I have tested it with Qt4, Qt5 and GTK2 and behaviour is same. Can you
> > explain me what is happening there, please
>=20
> See https://sympa.inria.fr/sympa/arc/caml-list/2004-07/msg00305.html
> If you use '-vmthread' the runtime doesn't create new system threads for =
you.
>=20
> Is there a particular reason why you need to use 'ocamlc -vmthread' inste=
ad of 'ocamlc -thread'?

Maybe Kakadu did not know this: you can also use -thread for bytecode.
In ancient versions of OCaml this was not possible, but this mode has
been enabled for a long time now.

Gerd
--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
My OCaml site:          http://www.camlcity.org
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------

--=-QQHr6nB42B9B3QESK3d2
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAABAgAGBQJUJAfrAAoJEAaM4b9ZLB5TnhEH+wRrAy/X/71nl4VxRg+A3i9f
wwhRGZGWogknele2eh+3bdpArBa2k5w0U9ph5Lh3i0lU+kW81AjGH07Kv9de/ce3
bUM2aoD+OpZrpLTtVXPt+3Ult23Cod2pp205K2JOM77eoDt4Uz7taCtNbW4ckFjw
tywoeD2LozjfHfV8uDC/Cg2+87zwZqSlilXiAraJ8k5TEYmiAmZlysoAwMNyyp5w
qyOc294ZC/fs8W1WN92SigeDnzXazmIGTNMkysDZ9Jm4gKVs0CsDvvPW2jvqLgbb
pYbFHwcUZmk9KunMuscAfnHfO/89603wH3R0urdVdalQI4uz1iG4if1329b28ho=
=67vy
-----END PGP SIGNATURE-----

--=-QQHr6nB42B9B3QESK3d2--

