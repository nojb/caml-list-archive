Return-Path: <pelzlpj@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id 4FB0B7FACB
	for <caml-list@sympa.inria.fr>; Wed,  3 Sep 2014 17:54:02 +0200 (CEST)
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  pelzlpj@gmail.com) identity=pra; client-ip=209.85.217.180;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="pelzlpj@gmail.com";
  x-sender="pelzlpj@gmail.com"; x-conformance=sidf_compatible
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  pelzlpj@gmail.com designates 209.85.217.180 as permitted
  sender) identity=mailfrom; client-ip=209.85.217.180;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="pelzlpj@gmail.com";
  x-sender="pelzlpj@gmail.com"; x-conformance=sidf_compatible;
  x-record-type="v=spf1"
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-lb0-f180.google.com) identity=helo;
  client-ip=209.85.217.180;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="pelzlpj@gmail.com";
  x-sender="postmaster@mail-lb0-f180.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AoQBACs5B1TRVdm0nGdsb2JhbABZg2BXBIJ4w2uBXwEJh0yBBQgWEAEBAQEBBg0JCRQphBwRHQEbHgMSCQc3AiQBEQEFASI1iAsBAxENmE+DGWuLK4FygxCKEwoZJw1mhTwBBQ6OdkWCQw8yEoFBBYstijOGfYFbkVEYKYMYHoF6Hy8BgQaBSAEBAQ
X-IPAS-Result: AoQBACs5B1TRVdm0nGdsb2JhbABZg2BXBIJ4w2uBXwEJh0yBBQgWEAEBAQEBBg0JCRQphBwRHQEbHgMSCQc3AiQBEQEFASI1iAsBAxENmE+DGWuLK4FygxCKEwoZJw1mhTwBBQ6OdkWCQw8yEoFBBYstijOGfYFbkVEYKYMYHoF6Hy8BgQaBSAEBAQ
X-IronPort-AV: E=Sophos;i="5.04,458,1406584800"; 
   d="scan'208";a="77633463"
Received: from mail-lb0-f180.google.com ([209.85.217.180])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/RC4-SHA; 03 Sep 2014 17:54:01 +0200
Received: by mail-lb0-f180.google.com with SMTP id w7so9736489lbi.39
        for <caml-list@inria.fr>; Wed, 03 Sep 2014 08:54:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=I3m/uPQdL5QfpFlXML/hDjK6D79EP3120UoXjJtTigs=;
        b=R/prk9pusPL/NiTvWQanHKB0q6D2RH62DvA0tSohbX/U4yagM3JwsN/y0JZJuxEWwH
         UrgnDyPECqpIZLk256x6U5ky2373FexR0XkoBBdHnSsOYCQacNGGQUBfB4qS6NBqD1gG
         F0fHcLJawks6LWZ9TWVa7cb8bwYqdIpKSOyUIWZS6t/rQLR6FwSEYiSDOWl/AUdJpdzA
         u3a9cgYOF5MP4IzA77eyZ8dFR6l5JZxgHQWlwjmmbytYbdEVqeL6WvBUPPJ8gjUGg8dT
         BSTABzLGQWOWIpMe17gigC8bpvt0PR0uDBXBiguAV6xpGPxJyOlo32pWtZM6Olp+xrZi
         4kcg==
MIME-Version: 1.0
X-Received: by 10.112.199.161 with SMTP id jl1mr38911566lbc.59.1409759640096;
 Wed, 03 Sep 2014 08:54:00 -0700 (PDT)
Received: by 10.25.166.75 with HTTP; Wed, 3 Sep 2014 08:54:00 -0700 (PDT)
Date: Wed, 3 Sep 2014 10:54:00 -0500
Message-ID: <CANk_VLKxYo5+h0Z4vyx+gjUj0Nzu4h4p2750TpkfZCQ3=-skcA@mail.gmail.com>
From: Paul Pelzl <pelzlpj@gmail.com>
To: OCaml Mailing List <caml-list@inria.fr>
Content-Type: multipart/alternative; boundary=001a11c34b1891146c05022b3ef2
X-Validation-by: pelzlpj@gmail.com
Subject: [Caml-list] [ANN] capnp-ocaml 2.0.1

--001a11c34b1891146c05022b3ef2
Content-Type: text/plain; charset=UTF-8

I'm pleased to announce the release of capnp-ocaml 2.0.1. It is available
in OPAM as package "capnp", or from the project website:
https://github.com/pelzlpj/capnp-ocaml

capnp-ocaml is a code generator plugin for the Cap'n Proto serialization
framework. Cap'n Proto's distinguishing feature is that there is no
explicit parsing/serialization step: the on-the-wire message format is also
designed to serve as an efficient in-memory data structure representation.
http://kentonv.github.io/capnproto/

Aside from important bugfixes, this release brings a larger and
better-designed I/O support library for moving messages across various
types of channels. Performance has also been significantly improved; I've
written a blog post about the benchmarking and optimization experience.
http://pelzlpj.github.io/capnp-ocaml/2014/09/02/capnp-ocaml-2.0/

An excerpt from the change log follows.  Enjoy,

Paul


=== Backwards-incompatible changes
* Module `Codecs`: change API to accept the more natural
`BytesMessage.Message.t`
  instead of `Bytes.t list`.
* Module `Codecs`: change API to accept a `compression` specifier, instead
of using
  separate functions and separate types for compressed and uncompressed
streams.
* Module `Message`: `to_storage` now returns a list of (storage, length)
pairs.

=== Other changes
* Module `Codecs`: fix incorrect encoding of framing headers (for example,
  as generated by `serialize`).
* Module `Codecs`: fix infinite loop in `PackedStream` decoding.
* Module `Codecs`: reduce serialized message sizes, by omitting unused
allocation
  regions from the serialized messages.
* Instantiate `BytesMessage = Message.Make(BytesStorage)`, so the user
doesn't always
  need to. (Implementation is furthermore defunctorized for improved
performance.)
* New module `IO`: functions for moving message data through various types
of I/O
  channels.
* Compiler now says something about files it created.
* Corrected compilation errors when using 4.02 `-safe-string`.
* Significant performance improvements across the board.

--001a11c34b1891146c05022b3ef2
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div><div><br></div>I&#39;m pleased to announce the releas=
e of capnp-ocaml 2.0.1. It is available in OPAM as package &quot;capnp&quot=
;, or from the project website:<br><a href=3D"https://github.com/pelzlpj/ca=
pnp-ocaml">https://github.com/pelzlpj/capnp-ocaml</a><br>
<br></div>capnp-ocaml is a code generator plugin for the Cap&#39;n Proto se=
rialization framework. Cap&#39;n Proto&#39;s distinguishing feature is that=
 there is no explicit=20
parsing/serialization step: the on-the-wire message format is also=20
designed to serve as an efficient in-memory data structure=20
representation.<br><a href=3D"http://kentonv.github.io/capnproto/">http://k=
entonv.github.io/capnproto/</a><br><br>Aside from important bugfixes, this =
release brings a larger and better-designed I/O support library for moving =
messages across various types of channels. Performance has also been signif=
icantly improved; I&#39;ve written a blog post about the benchmarking and o=
ptimization experience.<br>
<a href=3D"http://pelzlpj.github.io/capnp-ocaml/2014/09/02/capnp-ocaml-2.0/=
">http://pelzlpj.github.io/capnp-ocaml/2014/09/02/capnp-ocaml-2.0/</a><br><=
br>An excerpt from the change log follows.=C2=A0 Enjoy,<br><br>Paul<br><br>=
<br>
=3D=3D=3D Backwards-incompatible changes<br>* Module `Codecs`: change API t=
o accept the more natural `BytesMessage.Message.t`<br>=C2=A0 instead of `By=
tes.t list`.<br>* Module `Codecs`: change API to accept a `compression` spe=
cifier, instead of using<br>
=C2=A0 separate functions and separate types for compressed and uncompresse=
d streams.<br>* Module `Message`: `to_storage` now returns a list of (stora=
ge, length) pairs.<br><br>=3D=3D=3D Other changes<br>* Module `Codecs`: fix=
 incorrect encoding of framing headers (for example,<br>
=C2=A0 as generated by `serialize`).<br>* Module `Codecs`: fix infinite loo=
p in `PackedStream` decoding.<br>* Module `Codecs`: reduce serialized messa=
ge sizes, by omitting unused allocation<br>=C2=A0 regions from the serializ=
ed messages.<br>
* Instantiate `BytesMessage =3D Message.Make(BytesStorage)`, so the user do=
esn&#39;t always<br>=C2=A0 need to. (Implementation is furthermore defuncto=
rized for improved performance.)<br>* New module `IO`: functions for moving=
 message data through various types of I/O<br>
=C2=A0 channels.<br>* Compiler now says something about files it created.<b=
r>* Corrected compilation errors when using 4.02 `-safe-string`.<br>* Signi=
ficant performance improvements across the board.<br><br></div>

--001a11c34b1891146c05022b3ef2--
