Return-Path: <gabriel.scherer@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id A85F17F6D8
	for <caml-list@sympa.inria.fr>; Sun, 18 Jan 2015 20:30:04 +0100 (CET)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  gabriel.scherer@gmail.com) identity=pra;
  client-ip=209.85.218.52;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="gabriel.scherer@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  gabriel.scherer@gmail.com designates 209.85.218.52 as
  permitted sender) identity=mailfrom; client-ip=209.85.218.52;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="gabriel.scherer@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-oi0-f52.google.com) identity=helo;
  client-ip=209.85.218.52;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="postmaster@mail-oi0-f52.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AuYAAG8JvFTRVdo0lWdsb2JhbABbg1hcgwKzYo1qgWmFcQKBBwdDAQEBAQERAQEBAQcNCQkSMIQNAQEEEhEdARsSCwEDDAYFBAcaHQICIgERAQUBChIGEwgKEId1AQMRDa5SPjGLLoFrgneJWwoZJwMKVINIAQEBAQEFAQEBAQEBAQEUAQUOj2cEB4JogUEFhD4GjVyFUIFKjxYSI4EMCYIjHYFRPTEBgkIBAQE
X-IPAS-Result: AuYAAG8JvFTRVdo0lWdsb2JhbABbg1hcgwKzYo1qgWmFcQKBBwdDAQEBAQERAQEBAQcNCQkSMIQNAQEEEhEdARsSCwEDDAYFBAcaHQICIgERAQUBChIGEwgKEId1AQMRDa5SPjGLLoFrgneJWwoZJwMKVINIAQEBAQEFAQEBAQEBAQEUAQUOj2cEB4JogUEFhD4GjVyFUIFKjxYSI4EMCYIjHYFRPTEBgkIBAQE
X-IronPort-AV: E=Sophos;i="5.09,422,1418079600"; 
   d="scan'208";a="117520665"
Received: from mail-oi0-f52.google.com ([209.85.218.52])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/RC4-SHA; 18 Jan 2015 20:29:35 +0100
Received: by mail-oi0-f52.google.com with SMTP id h136so2574595oig.11
        for <caml-list@inria.fr>; Sun, 18 Jan 2015 11:29:34 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        bh=3wpT3B+Nj/D0k3omtdczoYKQ862UkJiJpz7YijtcyYM=;
        b=BGijcldPlYSUjB+YSCsK6WpdNMOL/G83Ei0TClPudSTNhsAp3RByALoj2cjmF9kGFN
         f3KBLcHlVNqg10A6zUNpAmjB7M6tr4x3uTn0LAzcjWfn0FflaRq+BeI9OZOGtId8WbkT
         UgSboR1qdNSjwDFbONdrzuWukeG8hUH1I5PvFAxvz1lErW23+5N4gPDwLDj/HSsBP4Jx
         qc/P1501sNKQOB18MkyCzCMwhE5OhSBgfXMBYljMMEUm+1c2qc1sSKyQxQBvjd0NKfE3
         XUejtmSB289tesPxqZrqlxaTjOCYCLYTQPzu2stamv0kb1cgEx11wx5u3QdB9JBsmJBf
         uUIQ==
X-Received: by 10.202.52.131 with SMTP id b125mr15220845oia.93.1421609374171;
 Sun, 18 Jan 2015 11:29:34 -0800 (PST)
MIME-Version: 1.0
Received: by 10.76.76.39 with HTTP; Sun, 18 Jan 2015 11:28:54 -0800 (PST)
In-Reply-To: <54BBFFF7.6030106@mehnert.org>
References: <54BBFFF7.6030106@mehnert.org>
From: Gabriel Scherer <gabriel.scherer@gmail.com>
Date: Sun, 18 Jan 2015 20:28:54 +0100
Message-ID: <CAPFanBENoFpJy7p0wd5CuEKnyof75xgR9t5263g6_gHOdSL3Uw@mail.gmail.com>
To: Hannes Mehnert <hannes@mehnert.org>
Cc: caml-list <caml-list@inria.fr>
Content-Type: multipart/alternative; boundary=001a113d3f68c1d0d6050cf2393e
Subject: Re: [Caml-list] behaviour of mod

--001a113d3f68c1d0d6050cf2393e
Content-Type: text/plain; charset=UTF-8

This is at least documented in the manual (
http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html ):
  > Note that x mod y is negative only if x < 0.

I suppose the idea was to make the least surprising choice (assuming people
knew , and also have the behavior coincide with mod_float. (Interestingly,
the IEEE754 norm requires a "remainder" operation that has an even stranger
behavior (modulo is defined from the round-to-nearest division) and I
haven't proposed anywhere.)

On Sun, Jan 18, 2015 at 7:48 PM, Hannes Mehnert <hannes@mehnert.org> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA384
>
> Hi,
>
> is the behaviour of modulo arithmetics intentional:
>  -5 mod 4 = -1 ?
>
> While this reflects the C behaviour, my expectation was to always have
> a positive result:
>  -5 mod 4 = 3
>
> Any hints?
>
> hannes
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v2
>
> iQIcBAEBCQAGBQJUu//3AAoJELyJZYjffCjuQH0QAL7FTKcguf2mKMVm1wu+jYvv
> b5yOBl+X0vMBCNWjpMfYVf1nIfo+z5cNF+1zy1kHaozE2BV10qywzWe+mzq+1VMo
> g1knplZbxahdTgf1Ix+BqF+Fk0voFfUTW/l9Zrg07B5wUEOFcFXKNo14eWSatTs0
> tVtSAk6fTffz7IPU/QJfvi7euQ5q6e5MVyvoorpjIz2j/OJ0QXw+catlSPXWdyeW
> /2TmdeX6WZuiSruEBAvDgDi8Qcp9x/q1abAjdnrZgfmY3+MxNrFZ+7M+QD+mUua6
> pgOe2xdb2gRr5/pOqMLxGpfWZ8b695TS31jZj0GJOZ4sgX/Az/eq1wHSyXiGDpWP
> dTr/GUPJWNUEWNeqrF88sOPJK4Zjqr19v7NX86wxvwfQGM4qCbEuYvkVQwBOhtgn
> /ewgArQNVHyeAH7R8Ze0S5nqVGDRyJwDj3ef4EVvLGLuibs/fI72x4SQ2x2Xfoz7
> tgkkb0g1So15iVo1z3FDbTbeJBaZh/0lyqBno7w4FmJkoc4Ool9DarKaBe+SqHqP
> ErYMK+bA9P7e+rBqySnB92dsClg17v2lmzGuKd4damcaAJvsscOJXWbLvteQbxo5
> eL8TG2sHCdOV5H4dJCpudUzVkA5dYnJUZuSVG/JAyyZWYm/kkQX0obJJo49GMH4h
> MvZ9C+veJNgwRY540fqj
> =s3KW
> -----END PGP SIGNATURE-----
>
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs
>

--001a113d3f68c1d0d6050cf2393e
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr"><div>This is at least documented in the manual ( <a href=
=3D"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html">http=
://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html</a> ):<br>=C2=
=A0 &gt; Note that <code class=3D"">x <span class=3D"">mod</span> y</code> =
is negative only if <code class=3D"">x &lt; 0</code>.<br><br></div>I suppos=
e the idea was to make the least surprising choice (assuming people knew , =
and also have the behavior coincide with mod_float. (Interestingly, the IEE=
E754 norm requires a &quot;remainder&quot; operation that has an even stran=
ger behavior (modulo is defined from the round-to-nearest division) and I h=
aven&#39;t proposed anywhere.)<br></div><div class=3D"gmail_extra"><br><div=
 class=3D"gmail_quote">On Sun, Jan 18, 2015 at 7:48 PM, Hannes Mehnert <spa=
n dir=3D"ltr">&lt;<a href=3D"mailto:hannes@mehnert.org" target=3D"_blank">h=
annes@mehnert.org</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote=
" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">-=
----BEGIN PGP SIGNED MESSAGE-----<br>
Hash: SHA384<br>
<br>
Hi,<br>
<br>
is the behaviour of modulo arithmetics intentional:<br>
=C2=A0-5 mod 4 =3D -1 ?<br>
<br>
While this reflects the C behaviour, my expectation was to always have<br>
a positive result:<br>
=C2=A0-5 mod 4 =3D 3<br>
<br>
Any hints?<br>
<br>
hannes<br>
-----BEGIN PGP SIGNATURE-----<br>
Version: GnuPG v2<br>
<br>
iQIcBAEBCQAGBQJUu//3AAoJELyJZYjffCjuQH0QAL7FTKcguf2mKMVm1wu+jYvv<br>
b5yOBl+X0vMBCNWjpMfYVf1nIfo+z5cNF+1zy1kHaozE2BV10qywzWe+mzq+1VMo<br>
g1knplZbxahdTgf1Ix+BqF+Fk0voFfUTW/l9Zrg07B5wUEOFcFXKNo14eWSatTs0<br>
tVtSAk6fTffz7IPU/QJfvi7euQ5q6e5MVyvoorpjIz2j/OJ0QXw+catlSPXWdyeW<br>
/2TmdeX6WZuiSruEBAvDgDi8Qcp9x/q1abAjdnrZgfmY3+MxNrFZ+7M+QD+mUua6<br>
pgOe2xdb2gRr5/pOqMLxGpfWZ8b695TS31jZj0GJOZ4sgX/Az/eq1wHSyXiGDpWP<br>
dTr/GUPJWNUEWNeqrF88sOPJK4Zjqr19v7NX86wxvwfQGM4qCbEuYvkVQwBOhtgn<br>
/ewgArQNVHyeAH7R8Ze0S5nqVGDRyJwDj3ef4EVvLGLuibs/fI72x4SQ2x2Xfoz7<br>
tgkkb0g1So15iVo1z3FDbTbeJBaZh/0lyqBno7w4FmJkoc4Ool9DarKaBe+SqHqP<br>
ErYMK+bA9P7e+rBqySnB92dsClg17v2lmzGuKd4damcaAJvsscOJXWbLvteQbxo5<br>
eL8TG2sHCdOV5H4dJCpudUzVkA5dYnJUZuSVG/JAyyZWYm/kkQX0obJJo49GMH4h<br>
MvZ9C+veJNgwRY540fqj<br>
=3Ds3KW<br>
-----END PGP SIGNATURE-----<br>
<span class=3D"HOEnZb"><font color=3D"#888888"><br>
--<br>
Caml-list mailing list.=C2=A0 Subscription management and archives:<br>
<a href=3D"https://sympa.inria.fr/sympa/arc/caml-list" target=3D"_blank">ht=
tps://sympa.inria.fr/sympa/arc/caml-list</a><br>
Beginner&#39;s list: <a href=3D"http://groups.yahoo.com/group/ocaml_beginne=
rs" target=3D"_blank">http://groups.yahoo.com/group/ocaml_beginners</a><br>
Bug reports: <a href=3D"http://caml.inria.fr/bin/caml-bugs" target=3D"_blan=
k">http://caml.inria.fr/bin/caml-bugs</a><br>
</font></span></blockquote></div><br></div>

--001a113d3f68c1d0d6050cf2393e--
