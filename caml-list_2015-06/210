Return-Path: <gerd@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 35B7C7EF28
	for <caml-list@sympa.inria.fr>; Fri, 26 Jun 2015 23:26:18 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  gerd@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="gerd@gerd-stolpmann.de";
  x-sender="gerd@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  gerd@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="gerd@gerd-stolpmann.de";
  x-sender="gerd@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mout.kundenserver.de) identity=helo;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="gerd@gerd-stolpmann.de";
  x-sender="postmaster@mout.kundenserver.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0AMAQBRwo1Vm4J+49Rbg2VftH+KCwqFeIFBTAEBAQEBARIBAQEBAQYLCwkhLoR+JIE+EwmIKgnPIgELIIothiOCNAxBgTEFhwONAYRYhnqBOkKDToJoA4wng1uCMhyBVG0BgkcBAQE
X-IPAS-Result: A0AMAQBRwo1Vm4J+49Rbg2VftH+KCwqFeIFBTAEBAQEBARIBAQEBAQYLCwkhLoR+JIE+EwmIKgnPIgELIIothiOCNAxBgTEFhwONAYRYhnqBOkKDToJoA4wng1uCMhyBVG0BgkcBAQE
X-IronPort-AV: E=Sophos;i="5.13,686,1427752800"; 
   d="asc'?scan'208";a="167527454"
Received: from mout.kundenserver.de ([212.227.126.130])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 26 Jun 2015 23:26:17 +0200
Received: from [192.168.1.12] ([84.107.253.192]) by mrelayeu.kundenserver.de
 (mreue002) with ESMTPSA (Nemesis) id 0MW3hY-1ZbBfB0brE-00X1Xa; Fri, 26 Jun
 2015 23:26:13 +0200
Message-ID: <1435353971.16506.1.camel@e130.lan.sumadev.de>
From: Gerd Stolpmann <gerd@gerd-stolpmann.de>
To: caml-list <caml-list@inria.fr>
Cc: Jeffrey Scofield <jeffsco@psellos.com>, SEAiq Navigation
	 <seaiq.info@gmail.com>
Date: Fri, 26 Jun 2015 23:26:11 +0200
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature";
	boundary="=-MkYrFgWUeFgvtBWeS/dK"
X-Mailer: Evolution 3.10.4-0ubuntu2 
Mime-Version: 1.0
X-Provags-ID:  V03:K0:LgMlVWvltpGwNA6Kc60TJe1yaXlrvZBXq6LR6yeY+3XrRvGcV4d
 c/Saj9whhQqZ63DM2oCPXuFq09ldsuJhMHqnypGJ4Z/q9WCkfbm6EoO70J1OTMPmDksFlz8
 PRbjUlBcVUSFparcRfypoPIPYI5C+3OVhEJHbV8Q+0TUStaWByDnWhZUapI4gBGKYi3BHii
 wLhsh6+IndB38kECtRHAw==
X-UI-Out-Filterresults: notjunk:1;V01:K0:StV9JDFKwEc=:0j6gxtu9qOxGALiiKFXbBs
 AFcrUrp+iCi7Zj3NYdbWtJIwGDQysnmT29Giql6SJAfa9kxlYpMjXjqYSTYEQZZgSO/1Jz4O2
 4fgQWaolLrRuD3e5UpUyeH+K2BYV2pkNBmhGUp2qhVoNQUS3UXqMe7QwU53eDWOXDcps3Hvnq
 WoI3SV1qQx2ESNQhxWekeQiPKh2TLEhWg5LH2/P3UseyAs7R1cqqt/QYeKvAbE/V4TCLAHsV8
 +sXg7EY4X9S2LREcN26oC4VJkXXqi3TxYgAK5gtQvh+vBF2HPUKmYQWXpHhnMNVlHcVr0MtsQ
 Eoy+RYfiK2et3tBtjGGgZM8ek1X8N3a6ZWVPKotExryJLi8ubuhQMFD0F6kK5PixMjmLWqe/X
 rn5VgzMjkWlwji7Q13HVsYqeVRXiE8j5N+0FRnyaxvRKXv3Fuc1MxolFr4nGybLLSz5eUnl0i
 cCp6yeyWiZOpsrw6/FI3j1EuRgKdC/lsvSXKow39QCT+j+yvXhGiM3zqDYAch60/X4+1QSYOh
 +gHAO6WZsMwJ79tVxhKU6I63ZW53Tf2j83Zn+B8u8+uj3wfXUcTeZdtsjs+X2kmh7tB0EdTE9
 9eD5Q389TFiY7X/R9qVB5dG2jTlAm6dBdsV9JCIOTiSiMneMK3cxExJzLMspsSKaw5Ga9BbJ2
 ofNlEeU9tLADz62igIQBw0YQo
X-Validation-by: gerd@gerd-stolpmann.de
Subject: [Caml-list] ocaml-4.02.2 for iOS


--=-MkYrFgWUeFgvtBWeS/dK
Content-Type: text/plain; charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable


Hi,

I rebased our development branch to 4.02.2, and did few quick tests, and
everything seems to work. At this point I'd like to invite all iOS
developers to check out our work, and help us finding the last bugs:

https://github.com/gerdstolpmann/ocaml/tree/gs-4.02.2+ios

What you get is a cross compiler for either armv7, armv7s, or arm64. See
the instructions below how to install.

This branch is based on Jeffrey Scofield's work to port ocaml to (32
bit) iOS. We (Gerd, Jeffrey and Mark) added support for armv7s and
arm64, and tried to better adapt to the coding standards of the ocaml
sources. There is an effort to merge this branch into mainline OCaml.

So how to install:

 - You need a host ocaml compiler for Mac, and this compiler must also
   be version 4.02.2, and the word size must match the word size of the
   target (i.e. 64 bit for arm64, and 32 bit for armv7/armv7s). Please
   take these requirements seriously - they are checked. The
   host compiler must be in your PATH.
 - Clone:
   git clone https://github.com/gerdstolpmann/ocaml/tree/gs-4.02.2+ios
 - Look at the checked-out build.sh script. Modify the variables for
   platform, target, and SDK version.
 - Configure and build: ./build.sh -prefix /where/you/want/it
 - Install: make install

What you get:

 - The installed compilers remain dependent on the host installation
   (so don't delete it after building). In particular, the "ocamlrun"
   executable of the host is still used.
 - The installed runtime is for the target, in particular all the
   libraries (such as libocamlrun.a, and libasmrun.a)
 - The native-code compiler ocamlopt generates executables, but you
   can also emit object files (-output-obj) that can be linked with
   any existing app. You'll also need libasmrun.a in this case.
 - For completeness, you can also use ocamlc -custom to generate
   stand-alone bytecode executables. I guess this is less interesting,
   and I'm not sure whether Apple would allow this format in the app
   store.

Gerd=20
--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
My OCaml site:          http://www.camlcity.org
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------


--=-MkYrFgWUeFgvtBWeS/dK
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAABAgAGBQJVjcN0AAoJEAaM4b9ZLB5TBE8H/0FqVgmtIM59bsOqoykpb1gn
MTyo7IRCMVAt+S0ln4JW3CQuFgfKqzJJaHfWalCnxWRHm92XXSqk+M6tp3Ta/8Ko
0BZkvvy5y79jdfFeMSk6dWFxRlXa/L2uBbgoPNUMXF9yY91dMpz2mQBP2WhDFJrf
kSieZ2nvdJINDAg5TX4tazvHN4fgvuksEGncsy8srHl39k0qkXMl4izqtOzApctn
ODgKVpMDmdgvh5m2AQ9tUG3tQlgiAtf2ug170dVnrdEyjQVaOg6ErXdpTWdSi2vj
ZQMJMYmk6xQ7BhZpDOIcjJAYP4c1yWtQakOcQXKi9bS/mHGHUo6WIr1pEoFwstQ=
=mGPm
-----END PGP SIGNATURE-----

--=-MkYrFgWUeFgvtBWeS/dK--

