Return-Path: <john@coherentgraphics.co.uk>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 3E0A87EEEF
	for <caml-list@sympa.inria.fr>; Mon, 22 Jun 2015 19:54:02 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  john@coherentgraphics.co.uk) identity=pra;
  client-ip=195.216.197.8;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="john@coherentgraphics.co.uk";
  x-sender="john@coherentgraphics.co.uk";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  john@coherentgraphics.co.uk) identity=mailfrom;
  client-ip=195.216.197.8;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="john@coherentgraphics.co.uk";
  x-sender="john@coherentgraphics.co.uk";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mx1.ukhost4u.com) identity=helo;
  client-ip=195.216.197.8;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="john@coherentgraphics.co.uk";
  x-sender="postmaster@mx1.ukhost4u.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0BrAgBWS4hVnAjF2MNcg2RfBq8CkHOFeAKBO0wBAQEBAQESAQEBAQEGDQkJIS5BBYNdAQEEODYKARALBxEJBBIPCQMCAQIBDyQSBg4FEogIAxYBCMUcAwqFWwEBAQEBAQEDAQEBAQEBARuLRYJNggYzB4QrBYVaCo4ZhFaFF4NchjeIZ4cYhCBuAYFFgQIBAQE
X-IPAS-Result: A0BrAgBWS4hVnAjF2MNcg2RfBq8CkHOFeAKBO0wBAQEBAQESAQEBAQEGDQkJIS5BBYNdAQEEODYKARALBxEJBBIPCQMCAQIBDyQSBg4FEogIAxYBCMUcAwqFWwEBAQEBAQEDAQEBAQEBARuLRYJNggYzB4QrBYVaCo4ZhFaFF4NchjeIZ4cYhCBuAYFFgQIBAQE
X-IronPort-AV: E=Sophos;i="5.13,660,1427752800"; 
   d="scan'208";a="166698544"
Received: from mx1.ukhost4u.com ([195.216.197.8])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 22 Jun 2015 19:53:42 +0200
Received: from bluechip4.ukhost4u.com ([188.64.184.40])
	by mx1.ukhost4u.com with esmtps (TLSv1.2:DHE-RSA-AES256-GCM-SHA384:256)
	(Exim 4.85)
	(envelope-from <john@coherentgraphics.co.uk>)
	id 1Z75uc-00033L-4r; Mon, 22 Jun 2015 18:53:41 +0100
Received: from [86.6.29.185] (port=64653 helo=[192.168.0.3])
	by bluechip4.ukhost4u.com with esmtpsa (TLSv1:DHE-RSA-CAMELLIA256-SHA:256)
	(Exim 4.85)
	(envelope-from <john@coherentgraphics.co.uk>)
	id 1Z75uV-003sck-MY; Mon, 22 Jun 2015 18:53:38 +0100
Message-ID: <55884B9C.9000404@coherentgraphics.co.uk>
Date: Mon, 22 Jun 2015 18:53:32 +0100
From: John Whitington <john@coherentgraphics.co.uk>
User-Agent: Postbox 3.0.11 (Macintosh/20140602)
MIME-Version: 1.0
To: Francois Berenger <francois.berenger@inria.fr>
CC: caml-list@inria.fr
References: <m2vbefx41k.fsf@charm-ecran.irisa.fr>	<1434982765.31996.19.camel@e130.lan.sumadev.de>	<CALGm1Vig7vhXaHP-D0pb4BqhZVA1xUWObJd4Bpd_WGb5XjbVLw@mail.gmail.com>	<CAJ_epFOeuyvV0pH_DRRd4u9Qair18vZF718Xv=Bg-=m-h7AMzg@mail.gmail.com> <CAM3Ki77U75Gb4iZQhPyXWCUyD_ghC9hDuYxh=Ms8hymfhat=jQ@mail.gmail.com> <5588490B.3010402@inria.fr>
In-Reply-To: <5588490B.3010402@inria.fr>
Content-Type: text/plain; charset=ISO-8859-15; format=flowed
Content-Transfer-Encoding: 7bit
X-OutGoing-Spam-Status: No, score=-1.0
X-AuthUser: john@coherentgraphics.co.uk
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - bluechip4.ukhost4u.com
X-AntiAbuse: Original Domain - 
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - coherentgraphics.co.uk
X-Get-Message-Sender-Via: bluechip4.ukhost4u.com: none
X-Filter-ID: s0sct1PQhAABKnZB5plbIf846yA3iTMvdsVmSdrHPMU9CTo+a6AtXGOZ5s/KMzk3GXNQvgP2LFpq
 9ASq+UttQR/BHCyt9HakshOqm7GjNlrsRZiLHdFN3CBEEerVjaCyvRQC5pSmxv+aSGHi0J/y35Kt
 6+S/eY3jdIw3rS0xvyRxnoIpFEjShhT9/df/0Ee2tEOW4SmP9SwgerejGuw7oWn5ZvOAunAUcK6D
 sKW0aKPnBJgipX45VU96JPZqr2gCuOLhUaInaUCulPHfhm5y5B/ypamOm3lqIdPzxuMMBhrlgTl6
 fJxyntEfhZCKje4ZQFLytJ8cTbY1Zxry9HhCVzfYHaiXDZkPkZQwOtrD1Ij7NcpoJ9kIzSE1FJ/6
 oUh+Fo1mlYy/Sb3YvaGi1TfNpFJh9nHh5xBVP9pvcu1pgYpYVa7EhkBnkxmhxrH+QqIeCo3w8qXL
 yhmd2XUY3+x1ERz9D+/9oSt5jUrIaWXjdPSy2DxTU7k2D1vispAb4IV2Z/1pGTzmZ0qF0Y/hB/T9
 BkC+/8iG9RboKe/Ea4w0sujJVvi6XeVqU3HKT0al61aSNRMFtJh3RnRDWR+k55PafMmQDLRj6G9R
 Jpp7AtfZCU4MppduCVf+i9mk5WykwrtPk/Es2UxbUOwEdLZES37lOfknfZx15wKknvbaEkERmZNt
 Pgfxw15AbpikT+KKJpITC++Wt1Dy78M8q/95ypkciDEvuGslKTrRIXcXpFg5ivY=
X-Report-Abuse-To: spam@mx1.ukhost4u.com
X-Filter-Fingerprint: IFrWXGses7OKB5S5G8/dJdIz5bb8V0ykx8BnFBnunHBA3cTUQ1R++keuE7RDJ8Kg3RbMLUalw1oC
 mj99/u+PoqoVy8a3lsStJtAvpObFX0Wok1JBYnOLzfRIhlEHQynLUpndEJ0YoaLytXXo8BMTaVt0
 ARHRi6XGuAluI1udprFy32DUYpEhA3j9NJFmItfypuoazoDH3m92PL21GfhFYWcYmGLKZUTyGy/B
 A6iJtsD8WFC+rpTT4JYvoDjVeZUw3fI9smEy0EupqfCN6sn6Zg==
X-Originating-IP: 188.64.184.40
X-SpamExperts-Domain: bluechip4.ukhost4u.com
X-SpamExperts-Username: 188.64.184.40
Authentication-Results: ukhost4u.com; auth=pass smtp.auth=188.64.184.40@bluechip4.ukhost4u.com
X-SpamExperts-Outgoing-Class: ham
X-SpamExperts-Outgoing-Evidence: Combined (0.00)
X-Recommended-Action: accept
Subject: Re: [Caml-list] use of ";;" when teaching Ocaml

Hi Francois,

cat src/test.ml
---
failwith "I don't recommend this"
---

(Assuming you're not exporting main in an interface, and just want an 
error if the module is linked and its initialiser run.)

John

Francois Berenger wrote:
> On 06/22/2015 06:07 PM, Mark Shinwell wrote:
>> I've heard the argument of Gerd from various people on many occasions.
>> Personally, I don't buy it; I think the situation where the error
>> message is deficient doesn't happen very often, whereas ";;" is
>> syntactic clutter that I have to see every day (and would rather not
>> see).
>>
>> Mark
>
> I am curious.
> How do you make this file compile without ';;' in it ?
>
> # cat src/test.ml
> ---
> let main () =
> failwith "not implemented yet"
> ;;
>
> main ()
> ---
>
> I always use ';;' just for that use case.
> I really don't know if there is another way that fits a single file.
>
>> On 22 June 2015 at 16:56, Thomas Refis <thomas.refis@gmail.com> wrote:
>>> 2015-06-22 16:48 GMT+01:00 Damien Doligez <damien.doligez@inria.fr>:
>>>> Gerd has totally nailed it, and that's the reason why I always use ;;
>>>> in my code.
>>>> If we had another keyword for toplevel let (let without in) the
>>>> situation would be quite different.
>>>
>>> http://caml.inria.fr/pub/docs/manual-camlp4/manual007.html !
>>>
>>> --
>>> Caml-list mailing list. Subscription management and archives:
>>> https://sympa.inria.fr/sympa/arc/caml-list
>>> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
>>> Bug reports: http://caml.inria.fr/bin/caml-bugs
>>
>

-- 
John Whitington
Director, Coherent Graphics Ltd
http://www.coherentpdf.com/

