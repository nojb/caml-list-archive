Received: (from weis@localhost) by pauillac.inria.fr (8.7.6/8.7.3) id OAA25962 for caml-redistribution; Fri, 26 Mar 1999 14:15:31 +0100 (MET)
Received: from nez-perce.inria.fr (nez-perce.inria.fr [192.93.2.78]) by pauillac.inria.fr (8.7.6/8.7.3) with ESMTP id MAA30680 for <caml-list@pauillac.inria.fr>; Fri, 26 Mar 1999 12:51:38 +0100 (MET)
Received: from post.tepkom.ru ([195.9.10.12])
	by nez-perce.inria.fr (8.8.7/8.8.7) with ESMTP id MAA11346
	for <caml-list@inria.fr>; Fri, 26 Mar 1999 12:51:35 +0100 (MET)
Received: from localhost (msk@localhost)
	by post.tepkom.ru (8.8.7/8.8.7) with ESMTP id OAA22460;
	Fri, 26 Mar 1999 14:49:26 +0300
Date: Fri, 26 Mar 1999 14:49:21 +0300 (MSK)
From: Anton Moscal <msk@post.tepkom.ru>
To: Alexey Nogin <nogin@cs.cornell.edu>
cc: caml-list@inria.fr
Subject: Re: Upgrade from OCaml 2.01 to OCaml 2.02 made things _slower_!
In-Reply-To: <36F86807.2F03B08@CS.Cornell.EDU>
Message-ID: <Pine.LNX.4.03.9903261443020.22065-100000@post.tepkom.ru>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: weis

Hello

> > >
> > Also you can try to apply this patch (attached to this message) to
> > asmcomp/selectgen.ml: this is another variant of allocation combiner.
> > Code, generated by this patch, is more close to code generated by the
> > ocaml-2.01 than the code from official ocaml-2.02 (Warning: I tested it
> > only on my own programs and on the Ocaml bootstrapping).
> 
> Thanks for the patch, but unfortunately it only made thinks even slower than with
> 2.02. It raised (compared with 2.02) number of memory requests by 0.2%-2% and

Can you send to me some small example?

> made L2 miss rate grow (up to from 37% to 44% on some input).

This can be normal result from elimination of useless commands (for
example many loading/storing of young_limit and young_ptr variables was
removed).

Regards, Anton



