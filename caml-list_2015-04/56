Return-Path: <info@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 6DA5A7FCCB
	for <caml-list@sympa.inria.fr>; Fri, 10 Apr 2015 00:26:24 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mout.kundenserver.de) identity=helo;
  client-ip=212.227.126.130;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="postmaster@mout.kundenserver.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0A4AQBu+yZVlIJ+49RcgmU3PVyDFbkmiWUGhgUCgUQ7EQEBAQEBAQERAQEBAQcLCwkSMIQgAQEDASMyJBALQgICVwYTCYgZCQMJt18TIW8NlTsBAQEBAQEEAQEBAR6LK4RWJgeCLQwvEoEzBYYgiywBgyyHaoU+jU2CIh+BUm0BgkIBAQE
X-IPAS-Result: A0A4AQBu+yZVlIJ+49RcgmU3PVyDFbkmiWUGhgUCgUQ7EQEBAQEBAQERAQEBAQcLCwkSMIQgAQEDASMyJBALQgICVwYTCYgZCQMJt18TIW8NlTsBAQEBAQEEAQEBAR6LK4RWJgeCLQwvEoEzBYYgiywBgyyHaoU+jU2CIh+BUm0BgkIBAQE
X-IronPort-AV: E=Sophos;i="5.11,552,1422918000"; 
   d="asc'?scan'208";a="132447599"
Received: from mout.kundenserver.de ([212.227.126.130])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 10 Apr 2015 00:26:23 +0200
Received: from office1.lan.sumadev.de ([178.4.18.152]) by
 mrelayeu.kundenserver.de (mreue005) with ESMTPSA (Nemesis) id
 0LqYLt-1ZK3RN3Kcb-00e1aq; Fri, 10 Apr 2015 00:26:20 +0200
Received: from [IPv6:fd54:fbcf:6598:7e::1004] (unknown [IPv6:fd54:fbcf:6598:7e::1004])
	by office1.lan.sumadev.de (Postfix) with ESMTPSA id CBC87DC05D;
	Fri, 10 Apr 2015 00:26:19 +0200 (CEST)
Message-ID: <1428618378.4451.10.camel@zotac>
From: Gerd Stolpmann <info@gerd-stolpmann.de>
To: Daniel =?ISO-8859-1?Q?B=FCnzli?= <daniel.buenzli@erratique.ch>
Cc: Dario Teixeira <dario.teixeira@nleyten.com>, caml-list@inria.fr
Date: Fri, 10 Apr 2015 00:26:18 +0200
In-Reply-To: <26024482989F4F7F8F8214FAEAC2AED9@erratique.ch>
References: <2f9c74beafcf41f3ab30324fb1ece739@nleyten.com>
	 <55257AAD.6030004@zoho.com> <5297cdaceccd6db2a60700bf686ccfb7@nleyten.com>
	 <1428576994.22412.21.camel@e130.lan.sumadev.de>
	 <d8a23c877189537c81524be5df2b4377@nleyten.com>
	 <46483E4AF51B46A3B3F91B3B5CFE8249@erratique.ch>
	 <1428597912.4056.107.camel@thinkpad.lan.sumadev.de>
	 <9CB3F43413964B9F93581B26AD6B391B@erratique.ch>
	 <26024482989F4F7F8F8214FAEAC2AED9@erratique.ch>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature";
	boundary="=-pldQjrgek1zOrXHBy4ey"
X-Mailer: Evolution 3.10.4-0ubuntu2 
Mime-Version: 1.0
X-Provags-ID:  V03:K0:H1RGhjyFaNjMw6KxBdp7XcuZetGkiGF6r3qnRDw1QcrYPEWZcB0
 NvxJKz3xQp7E7+9UXuRPd4m+tck2CcCDtORMo0TdwbonFR9EQQ/UOaGrpIcmQVKM5ADs8YJ
 iTDyNocNGczw5vWSVOAbuYnaxiYnKOPO86Bi6J307JMME+XhV27FDou5dCI29D26RXNdren
 xzSPNI/z5jf0HLyQwiTJA==
X-UI-Out-Filterresults: notjunk:1;
Subject: Re: [Caml-list] META file standards for ppx extensions


--=-pldQjrgek1zOrXHBy4ey
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: quoted-printable

Am Donnerstag, den 09.04.2015, 20:05 +0200 schrieb Daniel B=C3=BCnzli:
> Le jeudi, 9 avril 2015 =C3=A0 19:27, Daniel B=C3=BCnzli a =C3=A9crit :
> > Ah thanks ! That seems much better than the outputs of `ocamlfind query=
`. Is there any way to separate compilation instructions from pre-processin=
g instructions ?
>=20
> Also why is -ppx passed during the linking phase ?=20=20

-linkpkg enables linking but does not disable compilation. You could
also have something like

ocamlfind ocamlc -linkpkg -o executable ... module.ml

I think the -ppx option is ignored by ocamlc if there is no module
source, so ocamlfind doesn't care about it.

Gerd

> > ocamlfind ocamlc -linkpkg -only-show -package react,lwt.ppx
> ocamlc.opt -I /Users/dbuenzli/.opam/4.02.1/lib/react -I /Users/dbuenzli/.=
opam/4.02.1/lib/bytes -I /Users/dbuenzli/.opam/4.02.1/lib/lwt -ppx ppx_lwt =
/Users/dbuenzli/.opam/4.02.1/lib/react/react.cma /Users/dbuenzli/.opam/4.02=
.1/lib/lwt/lwt.cma /Users/dbuenzli/.opam/4.02.1/lib/lwt/ppx.cma
>=20
>=20
>=20
> Daniel
>=20
>=20
>=20

--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
My OCaml site:          http://www.camlcity.org
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------

--=-pldQjrgek1zOrXHBy4ey
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAABAgAGBQJVJvyKAAoJEAaM4b9ZLB5TFXAH/2cthnAUR85ItMOC22zyxsIK
zAwfJSzDR4xoT2IWE/fuU2z982QEWRkfLKArish+lmpi6ZG0OYjPcryqk5ostSIJ
7Kpa2koobVI5xxsvS0dgad+U8HjcdHJ8Q+aVASERW8/+wj1kZRwK0yOKFvTi9YAF
6OLQkj3tQi1yX7XZxyUCuo742zbgOkz4KrP6coEVVOsQejELM+PR/UkV+ONSR9aD
T38HAhdWodz7BprkW4Ln0p4NwueOCEpn3xSlcwuqPKDUFdHac8m/PxDlhZnzAcNe
vCo9PXy9BstlZFV2RKyOpo70JctknwibB/FGLMvwzB4GeZXdlwH3ik7d4VwF/jo=
=5wV6
-----END PGP SIGNATURE-----

--=-pldQjrgek1zOrXHBy4ey--

