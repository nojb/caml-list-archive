Return-Path: <agarwal1975@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 85D0D7FD02
	for <caml-list@sympa.inria.fr>; Mon, 27 Apr 2015 17:03:02 +0200 (CEST)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  agarwal1975@gmail.com) identity=pra;
  client-ip=209.85.212.182;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="agarwal1975@gmail.com";
  x-sender="agarwal1975@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail2-smtp-roc.national.inria.fr: domain of
  agarwal1975@gmail.com designates 209.85.212.182 as permitted
  sender) identity=mailfrom; client-ip=209.85.212.182;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="agarwal1975@gmail.com";
  x-sender="agarwal1975@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-wi0-f182.google.com) identity=helo;
  client-ip=209.85.212.182;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="agarwal1975@gmail.com";
  x-sender="postmaster@mail-wi0-f182.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0B6BgBUTj5Vm7bUVdFchDsFgxXDLodWAoErBzkTAQEBAQEBAREBAQEBAQYLCwkhLkEDg10BAQMBEhEdARsdAQMBCwYDAgQHNwICIgERAQUBHAYTIod0AQMBBAQIliCQXD4xizmBa4J2iHcKGScNGD2EbAEBAQEBAQEDAQEBAQEBARUBBQ6LKoQ6CUIHgmiBRQWcDoEikG+CBhIjgQwJhDMiMYEEgUABAQE
X-IPAS-Result: A0B6BgBUTj5Vm7bUVdFchDsFgxXDLodWAoErBzkTAQEBAQEBAREBAQEBAQYLCwkhLkEDg10BAQMBEhEdARsdAQMBCwYDAgQHNwICIgERAQUBHAYTIod0AQMBBAQIliCQXD4xizmBa4J2iHcKGScNGD2EbAEBAQEBAQEDAQEBAQEBARUBBQ6LKoQ6CUIHgmiBRQWcDoEikG+CBhIjgQwJhDMiMYEEgUABAQE
X-IronPort-AV: E=Sophos;i="5.11,657,1422918000"; 
   d="scan'208";a="137792377"
Received: from mail-wi0-f182.google.com ([209.85.212.182])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/RC4-SHA; 27 Apr 2015 17:03:01 +0200
Received: by wiax7 with SMTP id x7so86390203wia.0
        for <caml-list@inria.fr>; Mon, 27 Apr 2015 08:03:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :cc:content-type;
        bh=ELveZDRRGdG2ja9KRayf0t9rDBxG0O42aGAcE1QWYM0=;
        b=QaLI5iKPiwT6XjQAbrGvEfIxA2Ljir51/JteC/mpH+fEfyHET0tfBLLFLB75Gnn2qP
         eR9v9iGG6OH2uLKhJFPJw5KAIQfqFKrjRGGW7lBaZnByB9f0ZIE363UthPxEd02BehyL
         fh6tumJcIdWxgLMvQmWQ9ZDb+PIx6GiPTNnAG8fHcU9B+qUx7RDPMA+KOLRnnLaUY5tw
         E34hTG7+BiHzzSnHPdchzI3oVrSxIatlbgxGbVE0TbPPUFVL3v1KbtRklVsanj0Or3AC
         YlWuQPGIXdGQmavGXQjUqq0nNitRNUI+cQqxJSM0qu3sl3o63aFPxIbnuEuQ4FUU6Cy+
         +1Bg==
X-Received: by 10.180.90.236 with SMTP id bz12mr21160606wib.33.1430146981459;
 Mon, 27 Apr 2015 08:03:01 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.27.187.136 with HTTP; Mon, 27 Apr 2015 08:02:41 -0700 (PDT)
In-Reply-To: <553E4D64.5030209@zoho.com>
References: <CAMu2m2LjDbvjCpn6Bo+mVATOuk=c9zfLuoMwByf0+gd3FYz92A@mail.gmail.com>
 <553E4D64.5030209@zoho.com>
From: Ashish Agarwal <agarwal1975@gmail.com>
Date: Mon, 27 Apr 2015 11:02:41 -0400
Message-ID: <CAMu2m2LPnyqnrvOnF_+28vaSpZbmHaxx-OJ11XKPTnn65ZWZNg@mail.gmail.com>
To: Drup <drupyog+caml@zoho.com>
Cc: Caml List <caml-list@inria.fr>
Content-Type: multipart/alternative; boundary=f46d043be09cce7cc40514b60a5f
Subject: Re: [Caml-list] inconsistent assumptions over interface

--f46d043be09cce7cc40514b60a5f
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Thanks for the suggestion. You're probably right, and so it is Eliom
specific. However, the error message is confusing. The file _server/foo.cmi
is generated. Regardless of what else I'm doing wrong, how could this
single cmi file make inconsistent assumptions with another cmi in the eliom
library.


On Mon, Apr 27, 2015 at 10:53 AM, Drup <drupyog+caml@zoho.com> wrote:

> According to the message, my guess is that you are trying to link a server
> file with a client library while having compiled it with the server libra=
ry.
> Since client and server libraries don't have the same type, they disagree
> over the interface.
>
> My wild guess would be that your build script is broken.
>
>
> Le 27/04/2015 16:39, Ashish Agarwal a =C3=A9crit :
>
>> The error "inconsistent assumptions over interface" has always been due
>> to a build artifact not being updated after upgrading some library.
>> Rebuilding one's files from scratch always solves the problem. However, =
I'm
>> in a situation where I've recompiled everything from scratch many times,
>> but I reproducibly get the error below. Does anyone know what else I sho=
uld
>> look for?
>>
>> It's Eliom related, though I don't know why that would matter.
>>
>> # Error: The files ~/.opam/4.02.1/lib/eliom/client/eliom_pervasives.cmi
>> #        and ../_server/foo.cmi make inconsistent assumptions
>> #        over interface Eliommod_parameters
>> # *** omake: targets were not rebuilt because of errors:
>> #    _build/lib/_client/foo.cmi
>> #       depends on: _build/lib/foo.eliom
>> #    _build/lib/_client/foo.cmo
>> #       depends on: _build/lib/foo.eliom
>>
>>
>
>

--f46d043be09cce7cc40514b60a5f
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<div dir=3D"ltr">Thanks for the suggestion. You&#39;re probably right, and =
so it is Eliom specific. However, the error message is confusing. The file =
_server/foo.cmi is generated. Regardless of what else I&#39;m doing wrong, =
how could this single cmi file make inconsistent assumptions with another c=
mi in the eliom library.<div><br></div></div><div class=3D"gmail_extra"><br=
><div class=3D"gmail_quote">On Mon, Apr 27, 2015 at 10:53 AM, Drup <span di=
r=3D"ltr">&lt;<a href=3D"mailto:drupyog+caml@zoho.com" target=3D"_blank">dr=
upyog+caml@zoho.com</a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quo=
te" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"=
>According to the message, my guess is that you are trying to link a server=
 file with a client library while having compiled it with the server librar=
y.<br>
Since client and server libraries don&#39;t have the same type, they disagr=
ee over the interface.<br>
<br>
My wild guess would be that your build script is broken.<div class=3D"HOEnZ=
b"><div class=3D"h5"><br>
<br>
Le 27/04/2015 16:39, Ashish Agarwal a =C3=A9crit :<br>
<blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex">
The error &quot;inconsistent assumptions over interface&quot; has always be=
en due to a build artifact not being updated after upgrading some library. =
Rebuilding one&#39;s files from scratch always solves the problem. However,=
 I&#39;m in a situation where I&#39;ve recompiled everything from scratch m=
any times, but I reproducibly get the error below. Does anyone know what el=
se I should look for?<br>
<br>
It&#39;s Eliom related, though I don&#39;t know why that would matter.<br>
<br>
# Error: The files ~/.opam/4.02.1/lib/eliom/client/eliom_pervasives.cmi<br>
#=C2=A0 =C2=A0 =C2=A0 =C2=A0 and ../_server/foo.cmi make inconsistent assum=
ptions<br>
#=C2=A0 =C2=A0 =C2=A0 =C2=A0 over interface Eliommod_parameters<br>
# *** omake: targets were not rebuilt because of errors:<br>
#=C2=A0 =C2=A0 _build/lib/_client/foo.cmi<br>
#=C2=A0 =C2=A0 =C2=A0 =C2=A0depends on: _build/lib/foo.eliom<br>
#=C2=A0 =C2=A0 _build/lib/_client/foo.cmo<br>
#=C2=A0 =C2=A0 =C2=A0 =C2=A0depends on: _build/lib/foo.eliom<br>
<br>
</blockquote>
<br>
<br>
</div></div></blockquote></div><br></div>

--f46d043be09cce7cc40514b60a5f--
