Return-Path: <daniel.buenzli@erratique.ch>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id 5A2997FA32
	for <caml-list@sympa.inria.fr>; Thu,  2 Mar 2017 00:54:04 +0100 (CET)
Authentication-Results: mail2-smtp-roc.national.inria.fr; spf=None smtp.pra=daniel.buenzli@erratique.ch; spf=None smtp.mailfrom=daniel.buenzli@erratique.ch; spf=None smtp.helo=postmaster@smtp.webfaction.com
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  daniel.buenzli@erratique.ch) identity=pra;
  client-ip=74.55.86.74;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="daniel.buenzli@erratique.ch";
  x-sender="daniel.buenzli@erratique.ch";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  daniel.buenzli@erratique.ch) identity=mailfrom;
  client-ip=74.55.86.74;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="daniel.buenzli@erratique.ch";
  x-sender="daniel.buenzli@erratique.ch";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@smtp.webfaction.com) identity=helo;
  client-ip=74.55.86.74;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="daniel.buenzli@erratique.ch";
  x-sender="postmaster@smtp.webfaction.com";
  x-conformance=sidf_compatible
IronPort-PHdr: =?us-ascii?q?9a23=3AoNe3URZeBVi9eIxWJeb4IFv/LSx+4OfEezUN459i?=
 =?us-ascii?q?sYplN5qZpsS+bnLW6fgltlLVR4KTs6sC0LuL9fu5EjVRqdbZ6TZZL8wKD0dEwe?=
 =?us-ascii?q?wt3CUeQ+e9QXXhK/DrayFoVO9jb3RCu0+BDE5OBczlbEfTqHDhpRQbGxH4KBYn?=
 =?us-ascii?q?br+tQt2a3IyL0LWJw9WHeB1ggyC3YK97KBuxvUPascxA0qV4LaNk5hLPo3ZMTM?=
 =?us-ascii?q?7Cw3FsJBrHkx/658q0upR+/iJCv/MJ+tRaWLn7Zrk1C7dYWmd1e1sp7dHm4EGQ?=
 =?us-ascii?q?BTCE4WERBz0b?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0BOAwDsXrdYh0pWN0pdHAEBBAEBCgEBF?=
 =?us-ascii?q?wEBBAEBCgEBhAYDgQYBg1yKe5Bzl0IsgkCDNgKCexUBAQEBAQEBAQEBARIBAQE?=
 =?us-ascii?q?IDQkKHS+CMyCCHgEFI1YQCxgCAiYCAkcQBhuJcQQKsVeCJosUAQsBJYELijCHW?=
 =?us-ascii?q?i6CMQWcKIZ1gyaKZYdwD4ZRkzU1gSOBJ4RggW50AYlxAQEB?=
X-IPAS-Result: =?us-ascii?q?A0BOAwDsXrdYh0pWN0pdHAEBBAEBCgEBFwEBBAEBCgEBhAY?=
 =?us-ascii?q?DgQYBg1yKe5Bzl0IsgkCDNgKCexUBAQEBAQEBAQEBARIBAQEIDQkKHS+CMyCCH?=
 =?us-ascii?q?gEFI1YQCxgCAiYCAkcQBhuJcQQKsVeCJosUAQsBJYELijCHWi6CMQWcKIZ1gya?=
 =?us-ascii?q?KZYdwD4ZRkzU1gSOBJ4RggW50AYlxAQEB?=
X-IronPort-AV: E=Sophos;i="5.35,228,1484002800"; 
   d="scan'208";a="262715493"
Received: from mail6.webfaction.com (HELO smtp.webfaction.com) ([74.55.86.74])
  by mail2-smtp-roc.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-SHA; 02 Mar 2017 00:53:42 +0100
Received: from [172.20.10.2] (227.234.197.178.dynamic.wless.lssmb00p-cgnat.res.cust.swisscom.ch [178.197.234.227])
	by smtp.webfaction.com (Postfix) with ESMTP id E93DC21B2E58;
	Wed,  1 Mar 2017 23:53:39 +0000 (UTC)
Date: Thu, 2 Mar 2017 00:53:37 +0100
From: =?utf-8?Q?Daniel_B=C3=BCnzli?= <daniel.buenzli@erratique.ch>
To: SP <sp@orbitalfox.com>
Cc: caml-list@inria.fr
Message-ID: <B27E3A0C809A47789ADBFAFCF2DF880A@erratique.ch>
In-Reply-To: <e15c2e52-edbd-4095-58e8-e55807aefac2@orbitalfox.com>
References: <9D1BF6ADFBF84B09B8C1EABC8B204799@erratique.ch>
 <e15c2e52-edbd-4095-58e8-e55807aefac2@orbitalfox.com>
X-Mailer: sparrow 1.6.4 (build 1178)
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Subject: Re: [Caml-list] [ANN] Cmdliner 1.0.0

On Thursday, 2 March 2017 at 00:33, SP wrote:
> Good work Daniel, thank you. Are there notes anywhere on what and how to
> migrate for version 1.0.0, or is it simply a case of using Arg constructors?

Mostly yes, you are only affected if you defined your own argument converters and the type system won't bark in this release. The shortest fix is to wrap existing parser-printer pairs with Arg.pconv [0].

A few projects are affected by the addition of the `Blocks case in the Manpage.block type [1]. 

This should mostly be it --- higher-order users may be affected by the addition of optional arguments to some other functions though (e.g. Term.info).

Best, 

Daniel

[0] http://erratique.ch/software/cmdliner/doc/Cmdliner.Arg.html#VALpconv
[1] http://erratique.ch/software/cmdliner/doc/Cmdliner.Manpage.html#TYPEblock




