Return-Path: <jeanmarc.eber@lexifi.com>
X-Spam-Checker-Version: SpamAssassin 3.1.3 (2006-06-01) on yquem.inria.fr
X-Spam-Level: 
X-Spam-Status: No, score=0.3 required=5.0 tests=AWL autolearn=disabled 
	version=3.1.3
X-Original-To: caml-list@yquem.inria.fr
Delivered-To: caml-list@yquem.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by yquem.inria.fr (Postfix) with ESMTP id 54BE2BC6B
	for <caml-list@yquem.inria.fr>; Tue, 27 Nov 2007 14:52:30 +0100 (CET)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AgAAAEewS0dQDPIShWdsb2JhbACPPgEBAQgCCA8TB4EO
X-IronPort-AV: E=Sophos;i="4.23,219,1194217200"; 
   d="scan'208";a="6233542"
Received: from smtp19.orange.fr ([80.12.242.18])
  by mail3-smtp-sop.national.inria.fr with ESMTP; 27 Nov 2007 14:52:30 +0100
Received: from me-wanadoo.net (localhost [127.0.0.1])
	by mwinf1917.orange.fr (SMTP Server) with ESMTP id B05DB1C000BB
	for <caml-list@yquem.inria.fr>; Tue, 27 Nov 2007 14:52:29 +0100 (CET)
Received: from [192.168.1.58] (APuteaux-154-1-91-10.w83-204.abo.wanadoo.fr [83.204.166.10])
	by mwinf1917.orange.fr (SMTP Server) with ESMTP id 8227F1C000B5;
	Tue, 27 Nov 2007 14:52:29 +0100 (CET)
X-ME-UUID: 20071127135229533.8227F1C000B5@mwinf1917.orange.fr
Message-ID: <474C2144.6010601@lexifi.com>
Date: Tue, 27 Nov 2007 14:53:08 +0100
From: Jean-Marc EBER <jeanmarc.eber@lexifi.com>
User-Agent: Thunderbird 2.0.0.9 (Windows/20071031)
MIME-Version: 1.0
To: Jon Harrop <jon@ffconsultancy.com>
Cc: caml-list@yquem.inria.fr
Subject: Re: [Caml-list] Floating exception
References: <47471716.3020304@irisa.fr>	<200711232236.39691.jon@ffconsultancy.com>	<474BF061.2070604@lexifi.com> <200711271119.26078.jon@ffconsultancy.com>
In-Reply-To: <200711271119.26078.jon@ffconsultancy.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Spam: no; 0.00; lexifi:01 ocaml:01 ocaml's:01 ocamlopt:01 ocaml:01 bindings:01 lablgl:01 bytecode:01 dependencies:01 trivial:01 bindings:01 lablgtk:01 pulled:98 jeanmarc:01 eber:01 

I understand from your mail that the problem source is probably linked to the 
graphics part (either the OCaml binding or the OpenGL implementation itself) and 
not to OCaml's code generation or "binary production" feature. This confirms my 
intuition.

Jean-Marc



Jon Harrop a écrit :
> On Tuesday 27 November 2007 10:24, you wrote:
>> Jon Harrop a écrit :
>>> Too many of our users found the binary generated by ocamlopt to be
>>> unusably unreliable, typically due to random segfaulting that we could
>>> not reproduce.
>> Could you please elaborate ?
> 
> There isn't really anything more that I can add. We wrote the OCaml the 
> obvious way (no unsafe code) and used the conventional bindings (LablGL) and 
> distributed the binary, only to find that too many people had reliability 
> problems for it to be a viable product so we pulled it.
> 
> Now we're trying to give it away in bytecode form and even that is a major 
> PITA because we need to install and compile against (including dependencies) 
> several different minor-minor versions of OCaml just to garner enough 
> interest to find out (from the only person who has given us feedback having 
> managed to compile it out of 75 downloads so far this month) that even these 
> trivial demos don't work.
> 
> My guess is that the glut libraries installed on these computers are causing 
> the problems. Perhaps we should write bindings to GLX or use LablGTK2 to 
> evade glut and see what happens but, of course, we cannot reproduce the 
> problem here and there are a huge number of variations we could try without 
> having any real idea of what is going wrong.
> 

