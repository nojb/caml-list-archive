Return-Path: <info@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id C2D1B7FEF1
	for <caml-list@sympa.inria.fr>; Sun, 28 Feb 2016 20:42:52 +0100 (CET)
IronPort-PHdr: 9a23:aAWnYBS07FPcoZUiGvkgm0P6Wtpsv+yvbD5Q0YIujvd0So/mwa64bBeN2/xhgRfzUJnB7Loc0qyN4/+mBzJLuMzf+Fk5M7VyFDY9wf0MmAIhBMPXQWbaF9XNKxIAIcJZSVV+9Gu6O0UGUOz3ZlnVv2HgpWVKQka3CwN5K6zPF5LIiIzvjqbpq8KVPVsD3WDjKZpJbzyI7izp/vEMhoVjLqtjgjDomVBvP9ps+GVzOFiIlAz97MrjtLRq8iBXpu5zv5UYCfayV+0CQLdZFDUrNXwurI2u7EGbDFjH2nxJd2wSmR1MBkDg5Q3zWpT4+n//s+Nh0S2ZNOX5SLk1XXKp6KI9GzHyjyJSGDMj/Cnslst0lKdSphTp8x15zYn8b4yPOL9lYqTZZdYTQ2wHUssHBH8JOZ+1c4ZaV7lJBu1ftYSo4gJW9RY=
Authentication-Results: mail3-smtp-sop.national.inria.fr; spf=None smtp.pra=info@gerd-stolpmann.de; spf=None smtp.mailfrom=info@gerd-stolpmann.de; spf=None smtp.helo=postmaster@mout.kundenserver.de
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.126.133;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.126.133;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mout.kundenserver.de) identity=helo;
  client-ip=212.227.126.133;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="postmaster@mout.kundenserver.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0BXAACJTdNWjoV+49RehAxtumyBZhcGhXYCgSE5EwEBAQEBAQEBEAEBAQEHCwsJHzGCLYIVAQEEVSQQCw44VwYTCYgaAQm9bwEBAQEBBQEBAQEUCIUahTKEQII9C0CBJwWHV481gSECjD+JIASFUI5KIgGCPxQIgUlpAYg2AQEB
X-IPAS-Result: A0BXAACJTdNWjoV+49RehAxtumyBZhcGhXYCgSE5EwEBAQEBAQEBEAEBAQEHCwsJHzGCLYIVAQEEVSQQCw44VwYTCYgaAQm9bwEBAQEBBQEBAQEUCIUahTKEQII9C0CBJwWHV481gSECjD+JIASFUI5KIgGCPxQIgUlpAYg2AQEB
X-IronPort-AV: E=Sophos;i="5.22,516,1449529200"; 
   d="asc'?scan'208";a="166251152"
Received: from mout.kundenserver.de ([212.227.126.133])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 28 Feb 2016 20:42:47 +0100
Received: from office1.lan.sumadev.de ([188.110.5.208]) by
 mrelayeu.kundenserver.de (mreue001) with ESMTPSA (Nemesis) id
 0MTbSJ-1aRYOn0Bsd-00SSVx; Sun, 28 Feb 2016 20:42:46 +0100
Received: from [192.168.65.10] (unknown [192.168.65.10])
	by office1.lan.sumadev.de (Postfix) with ESMTPSA id 67E9EDC05D;
	Sun, 28 Feb 2016 20:42:45 +0100 (CET)
Message-ID: <1456688561.13827.1.camel@e130.lan.sumadev.de>
From: Gerd Stolpmann <info@gerd-stolpmann.de>
To: Malcolm Matalka <mmatalka@gmail.com>
Cc: caml-list@inria.fr
Date: Sun, 28 Feb 2016 20:42:41 +0100
In-Reply-To: <86oab0hcjq.fsf@gmail.com>
References: <86oab0hcjq.fsf@gmail.com>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature";
	boundary="=-jizgyXqkQy8woedbHyEo"
X-Mailer: Evolution 3.10.4-0ubuntu2 
Mime-Version: 1.0
X-Provags-ID: V03:K0:oGvrs/W4r7j1uRpHGHAXsS6ElFCX/aYcmF/iDgCdU+9z3AY12jF
 F9CTMj6iJyZFAj6Y04LIv/6ta+aPZWAc2IINc/nJp4OtYL1HFRsp/pHFTwph0+gTD/NRm2k
 GIjmZg84/CiDsq2wVaoYcNTS60AlzFPb2q3GtGn2fBu+yUs2APrZQSEBXuDmwykHbsUSEne
 dy4wXCYFMkd3k9ilqG0bg==
X-UI-Out-Filterresults: notjunk:1;V01:K0:Op46bjWInLc=:lXSNvaJtaYIJu7HdXXyHDD
 n3J1Fqcbfzfs7H2cgYWLJ653ohBdODWYDTQov/jkkUh7XRxqxAZtAdPIYzk626LzvJK9SmtX6
 Qd4Qa6n/4IaQoRA5gbyb6m0VOzJ/GefXDmd2EkeITVqmDFsbu6U5DUN7vBYb8/se8TB/5PXxQ
 eTHxF4giRiEr/t6afpJwuogiEq3HcUe8N5roJTGRUtB0t2agkcAep6FhI1BbvnvUFt9A6XRCe
 j6xE8Egb9vwVD6Ii28IUiPztqOXIIL9oTH4Hx5T7XBQp/nJPVb4YliruTjTNgKt/Bhw/COi+G
 CclZwsCI/OrW9IznfAuYbhjegZNNk5XHk+49ZPsMKNz0X35UniV2KCSXP79LJQB+PgpaNhjvR
 rzeUdkWjYW8ufYalpQL07wC6eQ+yJ6fuHSLBcuGbIZq3iECcIqRBCoid3Ds3GGRtIPIqf4rIx
 PIlAM3djyfxc0ZNpt88gdDIJis6mv0rPgSb1thw66ERArvMlr+IqZU3oMeBzd6QcUjN31DUTO
 duwR0lpQItxlvdn9v+xlqAjohAui0aztVP0MNtE5LXDibUnmnfh88QMcvBLd4RyA3Wtw6XC0/
 poClwMdObuJO+WQ9HEa8A1/tVHhBzB0IkW/U4kC9MXsfl116dNSbzZaWuLeXOcgajRhYHOttf
 W3/RmPzI9RfM265+B554CzLNEbUxGMn0AH4tr4nmENMaLMtQ78mNXGlfdn8UWTORe5D0=
Subject: Re: [Caml-list] ctypes - to string or to bigarray?


--=-jizgyXqkQy8woedbHyEo
Content-Type: text/plain; charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable

Use bigarrays. There is one striking advantage: you need not to make a
copy when calling blocking I/O functions. With strings/bytes you need
to, because another thread could otherwise move the buffer while you are
reading/writing.

Gerd

Am Sonntag, den 28.02.2016, 19:15 +0000 schrieb Malcolm Matalka:
> I'm writing bindings for a library that is just doing I/O and wondering
> what the suggested best practice is around using string or bigarray.  It
> seems like using Bigarray is probably the most versatile interface.
> People can decide to do the copying themselves or just use Bigarray
> everywhere.
>=20
> Are there any other things to consider?  Suggestions?
>=20
> Thanks,
> /Malcolm
>=20

--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
My OCaml site:          http://www.camlcity.org
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------


--=-jizgyXqkQy8woedbHyEo
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAABAgAGBQJW002xAAoJEAaM4b9ZLB5TNyEH/3ATopTHUiKSG/GhQ+7mQJVK
OCRqjhfnTMKnVf0ouJ7hKib+Z6cV3Gwk5vo9CO5Khj12z0Rwzk5nCCQ2M0pH90uh
j8pwMyoAXt1SbXCU9qPkX1FEeeevumhsimsRRoqCZ+He/tV288VEGA24h0yOZblr
zWvTPEPlTNFszSMeAy7kESa64jvjQgfwM/o6iP044382zyGiwQMrPBKc1JxZDFnm
ZRxcYY7KesmZSsNb2i0nZna979dMMsSJzo9DGSJAluB2B1enHKbksvNIRVfnC21R
xQ5br6TzOUki5RxLCp9FSvjTmxJlFcnnPtb79CXyEuITZg5NRnV7AtDDqyGLyFo=
=3P2Z
-----END PGP SIGNATURE-----

--=-jizgyXqkQy8woedbHyEo--

