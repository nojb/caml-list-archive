Return-Path: <info@gerd-stolpmann.de>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id B93137ED1D
	for <caml-list@sympa.inria.fr>; Tue, 13 Oct 2015 16:07:32 +0200 (CEST)
IronPort-PHdr: 9a23:fUWdBRxqsQU/lrfXCy+O+j09IxM/srCxBDY+r6Qd0e0TIJqq85mqBkHD//Il1AaPBtWHraIZwLeN+4nbGkU+or+5+EgYd5JNUxJXwe43pCcHRPC/NEvgMfTxZDY7FskRHHVs/nW8LFQHUJ2mPw6anHS+4HYoFwnlMkItf6KuStKU35n8irv60qaQSjsLrQL1Wal1IhSyoFeZnegtqqwmFJwMzADUqGBDYeVcyDAgD1uSmxHh+pX4p8Y7oGx48sgs/M9YUKj8Y79wDfkBVGxnYCgJ45jCuQPCQA3HwHIQX39exhNEGQnI6jn8WYvy9Czgubwu9jOdOJjZQKo4EQ++6KNzTRbujm9TNjg390nYh9Z8yblHpxa5ohV5xcjYbdfGZ7JFYqrBcIZCFiJ6VcFLWnkEW9vkYg==
Authentication-Results: mail3-smtp-sop.national.inria.fr; spf=None smtp.pra=info@gerd-stolpmann.de; spf=None smtp.mailfrom=info@gerd-stolpmann.de; spf=None smtp.helo=postmaster@mout.kundenserver.de
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=pra;
  client-ip=212.227.126.131;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  info@gerd-stolpmann.de) identity=mailfrom;
  client-ip=212.227.126.131;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="info@gerd-stolpmann.de";
  x-conformance=sidf_compatible
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mout.kundenserver.de) identity=helo;
  client-ip=212.227.126.131;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="info@gerd-stolpmann.de";
  x-sender="postmaster@mout.kundenserver.de";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: A0BKAQBrDx1WlIN+49Reg3puv3sXBoJ2ggp/AoE/PBABAQEBAQEBARABAQEBBwsLCR8wgh+CBwEBAQMBVSQFCwsSBi5JDgYTCYgdDAnBKAEBAQEBAQQBAQEBHoV6hXmEZyYHgi5PgTEFhz2LGYNAgQACjBiJDwSSdTiCUoFdbwGGcAEBAQ
X-IPAS-Result: A0BKAQBrDx1WlIN+49Reg3puv3sXBoJ2ggp/AoE/PBABAQEBAQEBARABAQEBBwsLCR8wgh+CBwEBAQMBVSQFCwsSBi5JDgYTCYgdDAnBKAEBAQEBAQQBAQEBHoV6hXmEZyYHgi5PgTEFhz2LGYNAgQACjBiJDwSSdTiCUoFdbwGGcAEBAQ
X-IronPort-AV: E=Sophos;i="5.17,678,1437429600"; 
   d="asc'?scan'208";a="150405009"
Received: from mout.kundenserver.de ([212.227.126.131])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 13 Oct 2015 16:07:32 +0200
Received: from office1.lan.sumadev.de ([88.69.148.31]) by
 mrelayeu.kundenserver.de (mreue001) with ESMTPSA (Nemesis) id
 0LhGKW-1aPktm3i0O-00mfST; Tue, 13 Oct 2015 16:07:30 +0200
Received: from [192.168.65.10] (unknown [192.168.65.10])
	by office1.lan.sumadev.de (Postfix) with ESMTPSA id 2EA8DDC05D;
	Tue, 13 Oct 2015 16:07:28 +0200 (CEST)
Message-ID: <1444745220.3982.2.camel@e130.lan.sumadev.de>
From: Gerd Stolpmann <info@gerd-stolpmann.de>
To: Adrien Nader <adrien@notk.org>
Cc: Markus =?ISO-8859-1?Q?Wei=DFmann?= <markus.weissmann@in.tum.de>, 
	caml-list@inria.fr
Date: Tue, 13 Oct 2015 16:07:00 +0200
In-Reply-To: <20151013122423.GA20981@notk.org>
References: <4f63fa9ca9f594db57e700165c0dd674@in.tum.de>
	 <20151013122423.GA20981@notk.org>
Content-Type: multipart/signed; micalg="pgp-sha1"; protocol="application/pgp-signature";
	boundary="=-POJODirBHa+x2Y407jVZ"
X-Mailer: Evolution 3.10.4-0ubuntu2 
Mime-Version: 1.0
X-Provags-ID: V03:K0:/PdWNNsxtBLfechAr8y2V0d/gCCqELCJfEJY2FRY8LnpmTle5Ml
 pxK7QIujNNstYGSJewuC3vw4gKTx81YbJd507gIenRgXIZaS9fglkk7yMdnFu29YLxRKpUj
 /64mIrCj7B107vQzay/ezPKmLtPLZWXS86Y6Y5XGi1MsQ+y9+3U1rc++DKekjeTyv4n31O+
 aD4bemkOzABEYe2OPNKDA==
X-UI-Out-Filterresults: notjunk:1;V01:K0:oy+RCEl4Tg8=:mHQc72AdXqgNgM8gevnDyG
 q3OolPO6H4J2PvPHvIuWPzZ/Bx5DMk7oFu4xueUmLck5tBqtqd4hsF+ynHWeb6GkZ1VHGdC9O
 e0URW7FiI5PDGNZPKhI+simMN/673EGprddGgDW/WKxeM8DgK4KmYOWFlrb0qp3gdgVxAyK+n
 jpvDvMCId0U/BKucDHp0G/Opn/sARN0UGesKzXmKYgsnobLy+odjz0cIYNFnKE/FT1fLPicEV
 GRGeF8+zYcnPjDRHGhiO5C2Q1BXQrHb7XZqagF9eobUfkBiGGlknASTo8BTIw9J+PK4vErm0j
 G6968cEgeKhr3jftE8+6deSqa1tL7ZQ9bu9OWXfBeDUfqzcKBeoBhF/ranEqQMQvBvRcBSt33
 4fYyERubD8+JL3Dr94Vox4wRLD/PsHAxuvikLGZcbtRcxzG8FTnRwc50ZihXx7AFeNzMLoCr5
 dFrwEfBwMfZVpfl8xPKo86omd2OPq6w3S/5IbwIXDnx0Nky4MUvoOFVPLzaugr5QOxmxaGiH1
 zsFPawuqGNmDkCfPX/OV/Bqm1s15OU5X95smczQOL3yUTrQoHfqHsbDq2ZA7AFuRpMrsmzqhK
 A5O5tyd45TKjPzYAlINd+M7EbTbPuWzXK+1I8Bl48sNT0FFFPwR5Vvr+Q1cWMnyp6Ojh3CuKg
 hy695iVIXhj76ELVmX4ViAuAjxkvn2zc/kAun8XbOSWAkTxxxhyUPIcCe8LDS0Qq9rK+HTM8k
 ECuvfZTDDGQWq5r3
Subject: Re: [Caml-list] detecting 32/64 bit from C


--=-POJODirBHa+x2Y407jVZ
Content-Type: text/plain; charset="ISO-8859-15"
Content-Transfer-Encoding: quoted-printable

Am Dienstag, den 13.10.2015, 14:24 +0200 schrieb Adrien Nader:
> On Tue, Oct 13, 2015, Markus Wei=DFmann wrote:
> > Hello,
> >=20
> > is there some "official" way to detect -- from C -- if OCaml was
> > compiled for 32 or 64 bit?
> > I'd love to have something like a #define that either says 32 or 64
> > bit;
> > I need to know at compile time if the OCaml system uses 31 or 63 bit
> > sized integers (in the C code).
> > I don't care what the underlying OS or hardware does, but just what
> > OCaml is using.
> >=20
> > Btw.: Is [Sys.word_size =3D 32] for 32 bit OCaml compilers on 64 bit
> > machines?

Yes.

>=20
> Hi,
>=20
> I believe config.h has the info you want:
>   #define ARCH_SIXTYFOUR // for instance

Exactly.

> Note how it's installed under $(libdir) and not $(includedir): its
> content is set at configure-time and depends on the architecture that
> ocaml has been configured for.

config.h should be available in $stdlib/caml. It is included from the
other header files.

Gerd

> --=20
> Adrien Nader
>=20

--=20
------------------------------------------------------------
Gerd Stolpmann, Darmstadt, Germany    gerd@gerd-stolpmann.de
My OCaml site:          http://www.camlcity.org
Contact details:        http://www.camlcity.org/contact.html
Company homepage:       http://www.gerd-stolpmann.de
------------------------------------------------------------


--=-POJODirBHa+x2Y407jVZ
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: This is a digitally signed message part
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQEcBAABAgAGBQJWHRAEAAoJEAaM4b9ZLB5T4QkIAJlowarZO3lHOqB8hvi3YNTu
yv/RzOJFZUnD4I21AE2rBLI9Kdq8ZuH9z6Uh1jxteE6fxIuxzy+d4+/rZmlz4UjZ
vOItEjdSYeTSfeK68WELx9B5SysmMPXnIoK1dCC+Ufv9vFrrybxeVynImENdcVqI
Cs/tbr+8Mk8TkePgyYI0IT9M0wCjj7PlJznN3VRM0xJpeQJTkKUX7rfvQJFaqBhd
RPlMm2Faplk+a7/5JnVTtyWD632yO5ra/ry/b0gV9BhxjSfT7JcQHsoNdlDcJJsJ
AStpTrvaicWnZH9L0ODIzPb7uJ9K2tM21TxZuXoCfpKse1ijzgl5DaJ4QS2oOO0=
=I4/r
-----END PGP SIGNATURE-----

--=-POJODirBHa+x2Y407jVZ--

