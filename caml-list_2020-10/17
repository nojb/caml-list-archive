Return-Path: <SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id 6B4A0E02D5
	for <caml-list@sympa.inria.fr>; Tue, 20 Oct 2020 10:15:58 +0200 (CEST)
Authentication-Results: mail3-smtp-sop.national.inria.fr; spf=Pass smtp.pra=alan.schmitt@polytechnique.org; spf=Pass smtp.mailfrom=SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org; spf=Pass smtp.helo=postmaster@mx1.polytechnique.org
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  alan.schmitt@polytechnique.org designates 129.104.30.34 as
  permitted sender) identity=pra; client-ip=129.104.30.34;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-sender="alan.schmitt@polytechnique.org";
  x-conformance=sidf_compatible; x-record-type="spf2.0"
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org
  designates 129.104.30.34 as permitted sender)
  identity=mailfrom; client-ip=129.104.30.34;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-sender="SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-conformance=sidf_compatible; x-record-type="spf2.0"
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  postmaster@mx1.polytechnique.org designates 129.104.30.34 as
  permitted sender) identity=helo; client-ip=129.104.30.34;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="SRS0=rYP5=D3=polytechnique.org=alan.schmitt@bounces.m4x.org";
  x-sender="postmaster@mx1.polytechnique.org";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
IronPort-PHdr: =?us-ascii?q?9a23=3AijpIahbD5m1CKTf2eRGkMVb/LSx+4OfEezUN459i?=
 =?us-ascii?q?sYplN5qZpsi9Zh7h7PlgxGXEQZ/co6odzbaP7Oa/AydZvM/JmUtBWaQEbwUCh8?=
 =?us-ascii?q?QSkl5oK+++Imq/EsTXaTcnFt9JTl5v8iLzG0FUHMHjew+a+SXqvnYdFRrlKAV6?=
 =?us-ascii?q?OPn+FJLMgMSrzeCy/IDYbxlViDanbr5+MRe7oR/Tu8UIjoduN6Y8xgbUqXZUZu?=
 =?us-ascii?q?pawn9lK0iOlBjm/Mew+5Bj8yVUu/0/8sNLTLv3caclQ7FGFToqK2866tHluhnF?=
 =?us-ascii?q?VguP+2ATUn4KnRpSAgjK9w/1U5HsuSbnrOV92S2aPcrrTbAoXDmp8qlmRAP0hC?=
 =?us-ascii?q?oBKjU293zZitFrjKJDvh2uuwB/zYDTYIGQLvV+f6Xdds4eSWdOWstdUipMDoO/?=
 =?us-ascii?q?YYsJEeoBPP1Yr4jmqFsKsxS1GAetBOT1yjBVnX/9wKk23uo9HQ3D2gErAtAAv2?=
 =?us-ascii?q?nOrNjtNKkcT/27wqfLwzrMc/xbwi3y5JTSfx07vf2AQbB9fMzMwkcvDQPFiVCQ?=
 =?us-ascii?q?pJT5MjORzOsNtXWQ4fd8WuKvjm4nqh1xoiSyzcorkIbJgpgaylbe+SVi3Ik1Jd?=
 =?us-ascii?q?i4SE9nYd64C5ZQryaaN492Q8M+XW5npCY6yrsHuZ6iYSgF1o4rxxnFa/yIaoWF?=
 =?us-ascii?q?5A/oW+mNLzlinn1lZK6/iAio8Uim0uDyWNe53VhKoydFk9TBqHIA2RPR58WaSf?=
 =?us-ascii?q?Zz8Eas1ziN2gzO6+xKIV45mKrVJZMgzbM8ipodv0vHEyL0lkv4gq+be0M58eam?=
 =?us-ascii?q?7OTnZ6/ppp6aN4JskgHxLLgums2jAesmKggOWG2b+eGi27H5+032XqlKguUxkq?=
 =?us-ascii?q?bFqp/aIMAbqrS+Aw9P3YYv8wuwDza839QcmnkLNkhKeBOfg4jzJV7BPOr4Deq+?=
 =?us-ascii?q?g1Swjjhk2erKMaHmApXINnTDn7bhfap9605B0wU/18xQ55VRCr0ZL/LzW1PxtN?=
 =?us-ascii?q?zFDhAiKQC0wuHnBM1j2YMEQ2KAGLOZMKLLsV+V+O0jOfWDZI8NtDb6N/cl/P/u?=
 =?us-ascii?q?jXAnll8bZ6Wp2oEXaH+gEvt9OUWZZnTtgtEbHWgUowU+UfTmiFiFUT9SZnayW6?=
 =?us-ascii?q?Y86SshBIKhF4fDSZihgLKG3CehG51WfXpKCl+IEXj2b4mEXOsDZziXIs9lizAE?=
 =?us-ascii?q?TrahR5Um1RG0uw/207VnLu3Q+iICs5Lj28J55+rJlRE97TB0Ad6S03yWT25unW?=
 =?us-ascii?q?MEXTo2075nrUxn11eDyrR4j+VcFdNJ4fNJXR02NZnGz+x1E9zyWx/Of9eNSFai?=
 =?us-ascii?q?WNmmBisxTt03ztQTYEh9A82vgg3d0yeuGbMZiqCHCZMu/q/Sw3T9Pchwxnne2K?=
 =?us-ascii?q?U8gVQqX9FDOXOmi6Nw7QTfGpLFn1+Em6uoaagR2jPG+n2ZwmqUpk5YVRZ9UaXb?=
 =?us-ascii?q?UnAbYUvbtdH550zfQ7O0EbQnNQ9ByM6eKqRUdtLpjVNGRPb6ONTDfW29gWCwBQ?=
 =?us-ascii?q?yHxr+UbYrqfXsS3DnFBUQZjQwe+WyKORUiCiquuW7TAiBiGUjhbk7j6eV+rWm0?=
 =?us-ascii?q?Tk4wzwGEdU1h0L+19wYIi/KAVv0fwqoJuD0jpDtuHFuwx9zYBtSYqgp5e6VcZd?=
 =?us-ascii?q?M84EtZ2m3Ftwx9OJ2gL7l/hlEAaQh3uFnu1xpvB4palcgltnUqwBBpKa2E0FNB?=
 =?us-ascii?q?cjKY3YzsOrDMMWby+w2va6jK1V7Ay9aa4KIP5fs3qln5uwGpDEUi/21909ZJy3?=
 =?us-ascii?q?uc+onKDA0KXJ3tSEk38hx6q6jeYik8/IPUyWZhMbK0sz/Hw9ImHvEpyhemf9dF?=
 =?us-ascii?q?MaOLDhX+E8MAB5vmFOt/0Vy2aFhMaORN8oYwIMXgcfaajurjdu1/mnjuxTBM/4?=
 =?us-ascii?q?ZV1kOX6zE6S+LZ25JDxOuXiE/PXD75iBKls9vrsYFCfzAbWGSljWDvA4tJTqlz?=
 =?us-ascii?q?ZpoQT2C0Kcyrz9FwgI6rVmML2kSkAgYv3MavMSGZb1n8wREYgU0TqHrhgiC4yj?=
 =?us-ascii?q?1ojxkxqa6OwCHFw+LjbQcKfGlRSz8x3h/XPYGogoVCDwCTZA8zmU76tB+nlZge?=
 =?us-ascii?q?n7x2KizoeWkNfyXyKDs5AK6g7/yaZMpe9J4jsSNWSfmxJ1eAReyk+kdI42bYB2?=
 =?us-ascii?q?JbgQsDWXSyoJygzk5ij2aMMHt4rHzYYNx9gxDF646FHK8D7n89XCB9zALvKB25?=
 =?us-ascii?q?Ntit88+Tks6c4Oq5SmSqW4YVdHX7i4Sau3ni6A=3D=3D?=
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: =?us-ascii?q?A0BcAgCmm45ffSIeaIFgEwEBCAEBAQEJA?=
 =?us-ascii?q?RIBBQUBgg8CgSFSBkABXlYyLIQ9iQWLLIVEkWaBEQNQEAEDAQ0YAQwHAQIEAQG?=
 =?us-ascii?q?BVYIxRAKCBAIeBgEFMxMCEAEBBQEBAQIBAwMEARMBAQsUCIVkAQUCJQxDARABg?=
 =?us-ascii?q?WIMDAMDgyIDARYCAQgEBkAFAh4jAxQBBgMCEQEXARQKFwEJCRQGAYMMgnwFCpM?=
 =?us-ascii?q?ynAJ/M4Q+AQMFCwECDy4BhBSBQg0CE38XAYVRToMGgk+BHSYPgU0/EoMRSQdsg?=
 =?us-ascii?q?kUMCwEBAQEBAYEmARECAQgSDy2CYReCSASLaYQfBwsZBAYfA2uJPIk1giqOM4F?=
 =?us-ascii?q?aFE0rB4JtgQ8EC4ZkgQKLFGODDoMMgxaBKohjhUeOayGTFYF8hgp+CIFohguBd?=
 =?us-ascii?q?4kMhFaBQSqBCj8eDAczGjBDgjUBATIJYA2EdIc4gXwDF4ECAQcCSoFQKGqBAXm?=
 =?us-ascii?q?BJVA7hUQ/MwIBATQCBgEJAQEDCXUBAQUTCwGCMIodYAEB?=
X-IPAS-Result: =?us-ascii?q?A0BcAgCmm45ffSIeaIFgEwEBCAEBAQEJARIBBQUBgg8CgSF?=
 =?us-ascii?q?SBkABXlYyLIQ9iQWLLIVEkWaBEQNQEAEDAQ0YAQwHAQIEAQGBVYIxRAKCBAIeB?=
 =?us-ascii?q?gEFMxMCEAEBBQEBAQIBAwMEARMBAQsUCIVkAQUCJQxDARABgWIMDAMDgyIDARY?=
 =?us-ascii?q?CAQgEBkAFAh4jAxQBBgMCEQEXARQKFwEJCRQGAYMMgnwFCpMynAJ/M4Q+AQMFC?=
 =?us-ascii?q?wECDy4BhBSBQg0CE38XAYVRToMGgk+BHSYPgU0/EoMRSQdsgkUMCwEBAQEBAYE?=
 =?us-ascii?q?mARECAQgSDy2CYReCSASLaYQfBwsZBAYfA2uJPIk1giqOM4FaFE0rB4JtgQ8EC?=
 =?us-ascii?q?4ZkgQKLFGODDoMMgxaBKohjhUeOayGTFYF8hgp+CIFohguBd4kMhFaBQSqBCj8?=
 =?us-ascii?q?eDAczGjBDgjUBATIJYA2EdIc4gXwDF4ECAQcCSoFQKGqBAXmBJVA7hUQ/MwIBA?=
 =?us-ascii?q?TQCBgEJAQEDCXUBAQUTCwGCMIodYAEB?=
X-IronPort-AV: E=Sophos;i="5.77,396,1596492000"; 
   d="scan'208,217";a="362259572"
X-MGA-submission: =?us-ascii?q?MDFgoLBs82VW5V0WU606IPm07coOeCJOYUp4rF?=
 =?us-ascii?q?KNA0X3ojIt0JFbVVBpYKdAtX4G3asBt0A3DiU6OKjidMmfUp0RRd8y7Y?=
 =?us-ascii?q?8RnVHNestOrNFj4E+x+NWkXcx9hzg+s19UrB3bebo9bic+IXzPaXAZVi?=
 =?us-ascii?q?QtSgSEzc9nXxs6X2OeDjKgYg=3D=3D?=
Received: from mx1.polytechnique.org ([129.104.30.34])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 20 Oct 2020 10:15:55 +0200
Received: from set (set.irisa.fr [131.254.10.170])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by ssl.polytechnique.org (Postfix) with ESMTPSA id 5CA51561286;
	Tue, 20 Oct 2020 10:15:54 +0200 (CEST)
From: Alan Schmitt <alan.schmitt@polytechnique.org>
To: "lwn" <lwn@lwn.net>, "cwn"  <cwn@lists.idyll.org>, caml-list@inria.fr,
 comp@lists.orbitalfox.eu
Date: Tue, 20 Oct 2020 10:15:54 +0200
Message-ID: <878sc12tz9.fsf@m4x.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="=-=-="
X-AV-Checked: ClamAV using ClamSMTP at svoboda.polytechnique.org (Tue Oct 20 10:15:54 2020 +0200 (CEST))
X-Spam-Flag: No, tests=bogofilter, spamicity=0.000688, queueID=A1877561288
X-Org-Mail: alan.schmitt.1995@polytechnique.org
Subject: [Caml-list] Attn: Development Editor, Latest OCaml Weekly News

--=-=-=
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hello

Here is the latest OCaml Weekly News, for the week of October 13 to 20,
2020.

Table of Contents
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80

Dialo is hiring frontend and backend OCaml developers (Remote)
Progress 0.1.0
Brr 0.0.1, a toolkit for programming browsers
New release of Conduit
Easy cross compilation using esy
OCaml User Survey 2020
Old CWN


Dialo is hiring frontend and backend OCaml developers (Remote)
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/dialo-is-hiring-frontend-and-backend-ocaml-d=
evelopers-remote/6604/1>


Wojtek Czekalski announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80

  [Dialo] is an early stage company with an experienced founding
  team. Assembling a team that consists of the best and brightest is our
  top priority. In the immediate term we are building a visual
  programming language for conversational AI. Our long term vision is
  that personalized contact we are enabling will cause deeper
  relationships between users and businesses and turn all interactions
  into a unified long term customer journey.

  The work is quite demanding when it comes to both ideation and
  implementation. We are aiming to provide a room for growth both
  technically and/or as a leader. For current open source maintainers we
  are willing to sponsor your work on OSS for 20% of time.

  We use OCaml for frontend and backend (along with Python for machine
  learning, natural language processing). We are hiring people for
  different positions. Both people with extensive experience and
  newcomers are encouraged to apply. We try to find the sharpest people
  rather than checking boxes with particular skills.

  The official job posting:
  <https://dialo.recruitee.com/o/software-developer-ocamlreason> We are
  also hiring for two other (related) positions:
  =E2=80=A2 <https://dialo.recruitee.com/o/software-developer-frontend>
  =E2=80=A2 <https://dialo.recruitee.com/o/software-developer-backend>


[Dialo] <https://dialo.ai>


Progress 0.1.0
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive: <https://discuss.ocaml.org/t/ann-progress-0-1-0/6607/1>


Craig Ferguson announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  I'm pleased to announce the first release of [`Progress'], now
  available on Opam.

  <https://raw.githubusercontent.com/CraigFe/progress/main/.meta/example.sv=
g>

  `Progress' is a small library for quickly defining and using progress
  bars in OCaml programs. It aims to provide the following:

  =E2=80=A2 support for rendering multiple progress bars simultaneously;
  =E2=80=A2 responds dynamically to changes in terminal size;
  =E2=80=A2 allows user-defined progress bar layouts.


[`Progress'] <https://github.com/CraigFe/progress/>

Defining your own progress bars
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=
=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  The example animation above uses a pre-provided progress bar layout
  that should meet many needs ([`Progress_unix.counter']), but it's
  fairly easy to re-define it ourselves using the low-level
  [`Progress.Segment'] API:

  =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  =E2=94=82 let counter filename =3D
  =E2=94=82   let proportion i =3D Int64.to_float i /. 1_000_000. in
  =E2=94=82   let open Progress in
  =E2=94=82   Segment.(
  =E2=94=82     list
  =E2=94=82       [
  =E2=94=82 	const filename;
  =E2=94=82 	Units.bytes of_pp;
  =E2=94=82 	Progress_unix.stopwatch ();
  =E2=94=82 	bar ~mode:`ASCII proportion;
  =E2=94=82 	using proportion (Units.percentage of_pp);
  =E2=94=82       ]
  =E2=94=82     |> box_winsize ~fallback:80  (* Dynamically scale to window=
 size *)
  =E2=94=82     |> periodic 100              (* Re-render once every 100 up=
dates *)
  =E2=94=82     |> accumulator Int64.add 0L  (* Accumulate progress updates=
 *))
  =E2=94=82   |> make ~init:0L
  =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  The `Segment' combinators are similar to those of general-purpose
  pretty-printing libraries (e.g.  [`pp'] and [`fmt']), but are equipped
  with extra logic for "stateful" segments and segments that can have
  dynamic width. Together, these make for a convenient way to express
  common patterns when pretty-printing progress bars. For instance, the
  stateful segment `periodic' seen above can be used to ensure that very
  frequent updates from a hot-loop do not result in too much time spent
  re-rendering the output.

  The library is not yet feature-complete, but should still be
  reasonably useful :slightly_smiling_face: Happy hacking!


[`Progress_unix.counter']
<https://craigfe.github.io/progress/progress/Progress_unix/index.html#val-c=
ounter>

[`Progress.Segment']
<https://craigfe.github.io/progress/progress/Progress/Segment/index.html>

[`pp'] <https://github.com/ocaml-dune/pp>

[`fmt'] <https://erratique.ch/software/fmt>


Brr 0.0.1, a toolkit for programming browsers
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-brr-0-0-1-a-toolkit-for-programming-brow=
sers/6608/1>


Daniel B=C3=BCnzli announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  I'd like to announce the first release of Brr.

  The TL; DR is:
        If you are looking for a productive way to program
        browsers with js_of_ocaml but without ppx and ghost OCaml
        objects, give Brr a try.

  The details:

        Brr is a toolkit for programming browsers in OCaml with
        the [`js_of_ocaml'] compiler. It provides:
        =E2=80=A2 Interfaces to a [selection] of browser APIs.
        =E2=80=A2 Note based reactive support (optional and experimental).
        =E2=80=A2 An [OCaml console] developer tool for live interaction
          with programs running in web pages.
        =E2=80=A2 A JavaScript FFI for idiomatic OCaml programming.

        Brr is distributed under the ISC license. It depends on
        [Note] and on the `js_of_ocaml' compiler and runtime =E2=80=93 but
        not on its libraries or syntax extension.

  =E2=80=A2 Homepage: <https://erratique.ch/software/brr>
  =E2=80=A2 API Docs & manuals: <https://erratique.ch/software/brr/doc/> or
    `odig doc brr'
  =E2=80=A2 Install: `opam install brr'

  Brr is essentially what I need to be productive for browser
  programming with js_of_ocaml: an obvious FFI with JavaScript objects
  as abstract data types without OCaml object phantom types and binding
  documentation precisely linking into MDN.

  The OCaml console is the hack on the cake. In the past I often found
  it frustrating to have OCaml programs running in my webpages and be
  greeted with a JavaScript prompt in the browser dev tools.  Quite a
  bit of polishing could be done on that though. Some of which should
  likely directly be done upstream in the toplevel machinery
  (e.g. identifier completion, a better toploop API and support for easy
  pretty printer installation). It would also be nice if we could cut
  down on `js_of_ocaml''s toplevel compilation times ;=E2=80=93)

  Parts of Brr have been seriously dogfooded in the past but that new
  incarnation is largely untested for now and certain APIs might need
  adjustements. Early adopters should study actual binding coverage,
  expect glitches and little breakages in the future.

  The Note reactive functionality was also seriously used in the past
  but Note itself needs a new design round and I don't have the
  ressources to do it right now, expect breakage, don't pay too much
  attention to it for now.

  My thanks to the `js_of_ocaml' developers for the nice ocaml to
  javascript compiler and a special shootout to Hugo Heuzard for not
  getting mad at me when pinging him directly for questions.

  Happy browser compatibility bug hunting,


[`js_of_ocaml'] <https://ocsigen.org/js_of_ocaml>

[selection]
<https://erratique.ch/software/brr/doc/index.html#supported_apis>

[OCaml console]
<https://erratique.ch/software/brr/doc/ocaml_console.html>

[Note] <https://erratique.ch/software/note>


gasche asked
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80

  It's not really released, but I'm curious about [Note] now: this is a
  new FRP library from you, the author of [React] (the FRP library for
  OCaml, not the Javascript framework of the same name).

  Would you say a few words on why you went for a different library? My
  guess would be that React depends on runtime mechanisms (weak
  pointers) that are not well-supported in Javascript-lang; but even if
  the guess is right, I'm not sure what would be the impact on the API
  or properties of the library.


[Note] <https://erratique.ch/software/note>

[React] <https://erratique.ch/software/react>


Daniel B=C3=BCnzli replied
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

        Would you say a few words on why you went for a different
        library?

  `Note' is the result from seeing people (and myself) struggling to use
  ~React~/FRP "correctly" over the years.

  Some of this, I largely attribute to ergonomic problems with the
  API. It's my hope for `Note' to address most of these points (one
  thing that still needs to be done is replace fix points by a simple
  lazy infinitesimal delay combinator).

  I don't think I could have made all these changes in `React' itself so
  I found it better to start a new library. Also I lost the trademark on
  the name :=E2=80=93)

  `Note' also tries to provide a much simpler implementation. `React''s
  implementation was based on the [FrTime Phd thesis]. It's quite subtle
  and involved and, as you suggested, uses weak pointer. `Note' tries to
  avoid them since those are not available in the browser (but you have
  things like [MutationObservers] which I use as gc in Brr's Note-based
  [reactive dom support]).

  However not using weak pointers has a semantic uncleanness cost whose
  impact I'm unsure yet =E2=80=93 without discipline from the programmer it=
 may
  lead to subtle and hard to track bugs when the reactive graph changes
  dynamically, which I'm a bit wary of.

  When my brain dumped `Note' I wrote a few more technical points in the
  readme you can read them [here].


[FrTime Phd thesis] <http://cs.brown.edu/people/ghcooper/thesis.pdf>

[MutationObservers]
<https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver>

[reactive dom support]
<https://erratique.ch/software/brr/doc/Brr_note/Elr/index.html>

[here] <https://github.com/dbuenzli/note#history>


New release of Conduit
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-new-release-of-conduit/6611/1>


Calascibetta Romain announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  *Conduit 3.0.0*

  Hello everyone,

  We're glad to announce the new release of [`conduit'], a framework
  that allows to _abstract_ over transfer protocols. One of its main
  advantages is allowing the implemententation of _free-dependencies_
  protocols.


[`conduit'] <https://github.com/mirage/ocaml-conduit>

Introduction
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  There are several ways to abstract over an implementation in
  OCaml. However, those solutions are often lost deep in the stack of
  protocols and allowing the user to choose the implementations of the
  sub-procotols implies growing complexity as we move up through the
  stack. (For example, allowing to abstract over the implementation of
  the TLS protocol from the implementation of the HTTP protocol)

  One of those solutions, the _functors_, can rapidly become a hellish
  nightmare for the end-user. This is especially true in the case of
  MirageOS, which literally wants to abstract over everything!

  This is why Conduit was implemented: it aims to provide to the user a
  cleaner abstraction mechanism which would allow the protocol
  developers to get rid of most of the responsibilities concerning the
  choice of sub-protocols (Like which TLS implementation use between
  OpenSSL or our great [ocaml-tls] library), while giving the end-users
  an easy way to compose the protocols of their choice and inject them
  in the stack via conduit.


[ocaml-tls] <https://github.com/mirleft/ocaml-tls>


Usage of Conduit
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  Such a framework allows us to separate the logic of a protocol from
  underlying implementation needed to communicate with a peer. The
  distribution of Conduit comes with [a simple tutorial] which explains
  step by step how to implement a _ping-pong_ client & server and, most
  importantly, how to upgrade them with TLS.

  With Conduit, we ensure the compatibility with MirageOS (and specially
  [mirage-tcpip]) while being useful for others. Of course, Conduit is
  not mandatory to ensure this compatibility, but it helps us for
  _higher_ libraries such as [ocaml-git]/[Irmin] or [Cohttp].


[a simple tutorial]
<https://mirage.github.io/ocaml-conduit/conduit/howto.html>

[mirage-tcpip] <https://github.com/mirage/mirage-tcpip>

[ocaml-git] <https://github.com/mirage/ocaml-git>

[Irmin] <https://github.com/mirage/irmin>

[Cohttp] <https://github.com/mirage/ocaml-cohttp>


Specific improvements
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=
=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

=E2=97=8A Abstract and destruct it!

  The most requested feature on the new version of Conduit is the
  ability to _destruct_ the [Conduit.flow][conduit-flow]. The ability to
  abstract the protocol comes with the _abstract_ type
  `Conduit.flow'. The new version permits to _destruct_ it to a
  well-known value (such as an UNIX socket):

  =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  =E2=94=82 let handler flow =3D match flow with
  =E2=94=82   | Conduit_lwt.TCP.T (Value file_descr) ->
  =E2=94=82     let peer =3D Lwt_unix.getpeername file_descr in
  =E2=94=82     ...
  =E2=94=82   | flow -> ... (* other kind of protocol *)
  =E2=94=82=20
  =E2=94=82 let run =3D
  =E2=94=82   Cohttp_lwt_unix.serve ~handler
  =E2=94=82     { sockaddr=3D Unix.inet_addr_loopback }
  =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


=E2=97=8A The dispatch of the protocol

  The second most interesting feature of Conduit is the full control
  over the dispatch between protocols by the end-user. From a concrete
  information such as an `Uri.t', the end-user is able to describe how
  Conduit should choose the protocol (and with which value it should try
  to initiate the connection):

  =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  =E2=94=82 let my_tls_config =3D Tls.Config.client ...
  =E2=94=82=20
  =E2=94=82 let connect uri =3D
  =E2=94=82   let edn =3D Conduit.Endpoint.of_string
  =E2=94=82     (Uri.host_with_default ~default:"localhost" uri) in
  =E2=94=82   let resolvers =3D match Uri.scheme uri with
  =E2=94=82     | Some "https" ->
  =E2=94=82       let port =3D Option.value ~default:443 (Uri.port uri) in
  =E2=94=82       Conduit_lwt.add
  =E2=94=82 	Conduit_lwt_tls.TCP.protocol
  =E2=94=82 	(Conduit_lwt_tls.TCP.resolve ~port ~config:my_tls_config)
  =E2=94=82 	Conduit.empty
  =E2=94=82     | Some "http" | None ->
  =E2=94=82       let port =3D Option.value ~default:80 (Uri.port uri) in
  =E2=94=82       Conduit_lwt.add
  =E2=94=82 	Conduit_lwt.TCP.protocol
  =E2=94=82 	(Conduit_lwt.TCP.resolve ~port)
  =E2=94=82 	Conduit.empty in
  =E2=94=82   Conduit_lwt.resolve ~resolvers edn >>=3D fun flow ->
  =E2=94=82   ...
  =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


=E2=97=8A An explicit way to launch a server

  Conduit comes with a new API for the server-side, where everything
  becomes explicit: no dispatch, no hidden choice. It proposes now a
  simple function to start the usual server loop:

  =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  =E2=94=82 let run handler =3D
  =E2=94=82   Conduit_lwt.serve ~handler
  =E2=94=82     Conduit_lwt.TCP.service
  =E2=94=82     { Conduit_lwt.TCP.sockaddr=3D Unix.(ADDR_INET (inet_addr_lo=
opback, 8080)
  =E2=94=82     ; capacity=3D 40 }
  =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


Reverse-dependencies
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=
=8C=E2=95=8C=E2=95=8C=E2=95=8C

  Conduit is used by many libraries (~150 packages) and we spend 2
  months to track this breaking-change.  Currently, it's mostly about
  [Cohttp] and [Irmin] and both have a PR according the new version of
  Conduit. These packages will be released as soon as we can with the
  new version of Conduit.


[Cohttp] <https://github.com/mirage/ocaml-cohttp>

[Irmin] <https://github.com/mirage/irmin>


Conclusion
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C

  Conduit is a piece required by many libraries but nobody really uses
  it. This new version wants to replace and redefine more concretely
  what Conduit is. The update is [huge] for us but small for people
  where we tried to keep the same global idea of the abstraction.

  I would like to thank many people (MirageOS core team, Cohttp peoples,
  some not so famous guys of the Reason/OCaml eco-system) who followed
  us on this deep development (and tried and iterated on our
  version). It does not change too much our world, but it paves the way
  for a better MirageOS/OCaml eco-system.

  As a french guy, I just would like to say: Conduit est mort, Vive
  Conduit!


[huge] <https://github.com/mirage/ocaml-conduit/pull/311>


Easy cross compilation using esy
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-easy-cross-compilation-using-esy/6612/1>


EduardoRFS announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=
=80=E2=94=80=E2=94=80=E2=94=80

  I've been working on this for a couple of months now, and now it is
  ready for an initial announcement of my tools to cross compiling OCaml
  and ReasonML Native.

  <https://github.com/EduardoRFS/reason-mobile>


What it can do
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  Out of box it can cross compile most dune and topkg, packages
  available on opam for a couple of platforms, there is also patches for
  popular packages.

  You can also compile opam packages by making an wrapper, like

  <https://github.com/mirage/mirage-crypto/pull/84/files>


Limitations
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C

  Your package should build with OCaml 4.10, and all the packages that
  are built for the `host' will also be build for the `target', so
  sometimes you need to fix a package that you will not use directly.

  Some packages you will need to pin to a `dune-universe' fork version


How to use it
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  =E2=94=8C=E2=94=80=E2=94=80=E2=94=80=E2=94=80
  =E2=94=82 ## compile your project
  =E2=94=82 esy
  =E2=94=82=20
  =E2=94=82 ## generate the wrapper
  =E2=94=82 esy add -D generate@EduardoRFS/reason-mobile:generate.json
  =E2=94=82 esy generate android.arm64
  =E2=94=82=20
  =E2=94=82 ## build for android.arm64
  =E2=94=82 esy @android.arm64
  =E2=94=94=E2=94=80=E2=94=80=E2=94=80=E2=94=80


Platforms
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C

  All of the following are tested from Linux and macOS, but I would
  suppose that FreeBSD should be also working as a build system.

  =E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=
=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=
=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81
   Targets=20=20=20=20=20=20=20=20=20=20=20=20=20=20
  =E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80
   android.arm64=20=20=20=20=20=20=20=20
   android.x86_64=20=20=20=20=20=20=20
   ios.arm64=20=20=20=20=20=20=20=20=20=20=20=20
   ios.simulator.x86_64=20
   linux.musl.arm64=20=20=20=20=20
   linux.musl.x86_64=20=20=20=20
  =E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=
=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=
=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81=E2=94=81


What I tested
=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=
=95=8C=E2=95=8C=E2=95=8C=E2=95=8C=E2=95=8C

  In the past I was able to build `Revery' the UI framework for
  `Android' and `iOS'

  But recently I did compile `esy' the package manager itself for all of
  the following platforms above from an `Arch Linux x86_64' and `macOS
  Catalina x86_64'. Including `iOS', with the right version of OCaml it
  will run inside of the new `macOS ARM64' and inside of a jailbroken
  iPhone.


OCaml User Survey 2020
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=
=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=
=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  Archive:
  <https://discuss.ocaml.org/t/ann-ocaml-user-survey-2020/6624/1>


gasche announced
=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=
=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80=E2=94=80

  We are happy to announce the [OCaml User Survey 2020]. We are trying
  to get a better picture of the OCaml community and its needs. It would
  be very useful if you could fill the survey (10-15 minutes), and share
  it widely with other OCaml programmers!

  The survey is run by the [OCaml Software Foundation]. Thanks in
  particular to our sponsors OCamlPro (@MuSSF) for preparing many of the
  questions, Jane Street (@Yaron_Minsky) for excellent feedback, and to
  Kim @K_N Nguy=E1=BB=85n for his technical help.

  This is our first year running the survey, we hope to continue in
  following years. There are many things to improve; please feel free to
  give us feedback! (There is a feedback question at the end of the
  survey, or you can post here, or send me a message/email.)

  The survey was inspired by programming-language surveys ran by other
  communities. See for example past survey results for [Go], [Haskell],
  [Rust], and [Scala].


[OCaml User Survey 2020] <https://forms.gle/MAT7ZE7RtxTWuNgK7>

[OCaml Software Foundation] <https://ocaml-sf.org/>

[Go] <https://blog.golang.org/survey2019-results>

[Haskell] <https://taylor.fausak.me/2019/11/16/haskell-survey-results/>

[Rust] <https://blog.rust-lang.org/2020/04/17/Rust-survey-2019.html>

[Scala] <https://scalacenter.github.io/scala-developer-survey-2019/>


Old CWN
=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90=E2=95=90

  If you happen to miss a CWN, you can [send me a message] and I'll mail
  it to you, or go take a look at [the archive] or the [RSS feed of the
  archives].

  If you also wish to receive it every week by mail, you may subscribe
  [online].

  [Alan Schmitt]


[send me a message] <mailto:alan.schmitt@polytechnique.org>

[the archive] <http://alan.petitepomme.net/cwn/>

[RSS feed of the archives] <http://alan.petitepomme.net/cwn/cwn.rss>

[online] <http://lists.idyll.org/listinfo/caml-news-weekly/>

[Alan Schmitt] <http://alan.petitepomme.net/>


--=-=-=
Content-Type: text/html; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

<?xml version=3D"1.0" encoding=3D"utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns=3D"http://www.w3.org/1999/xhtml" lang=3D"en" xml:lang=3D"en">
<head>
<!-- 2020-10-20 Tue 10:12 -->
<meta http-equiv=3D"Content-Type" content=3D"text/html;charset=3Dutf-8" />
<meta name=3D"viewport" content=3D"width=3Ddevice-width, initial-scale=3D1"=
 />
<title>OCaml Weekly News</title>
<meta name=3D"generator" content=3D"Org mode" />
<style type=3D"text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type=3D"text/css">#table-of-contents h2 { display: none } .title { d=
isplay: none } .authorname { text-align: right }</style>
<style type=3D"text/css">.outline-2 {border-top: 1px solid black;}</style>
<script type=3D"text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target =3D document.getElementById(id);
   if(null !=3D target) {
     elem.cacheClassElem =3D elem.className;
     elem.cacheClassTarget =3D target.className;
     target.className =3D "code-highlighted";
     elem.className   =3D "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target =3D document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className =3D elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className =3D elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id=3D"content">
<h1 class=3D"title">OCaml Weekly News</h1>
<p>
<a href=3D"http://alan.petitepomme.net/cwn/2020.10.13.html">Previous Week</=
a> <a href=3D"http://alan.petitepomme.net/cwn/index.html">Up</a> <a href=3D=
"http://alan.petitepomme.net/cwn/2020.10.27.html">Next Week</a>
</p>

<p>
Hello
</p>

<p>
Here is the latest OCaml Weekly News, for the week of October 13 to 20, 202=
0.
</p>

<div id=3D"table-of-contents">
<h2>Table of Contents</h2>
<div id=3D"text-table-of-contents">
<ul>
<li><a href=3D"#1">Dialo is hiring frontend and backend OCaml developers (R=
emote)</a></li>
<li><a href=3D"#2">Progress 0.1.0</a></li>
<li><a href=3D"#3">Brr 0.0.1, a toolkit for programming browsers</a></li>
<li><a href=3D"#4">New release of Conduit</a></li>
<li><a href=3D"#5">Easy cross compilation using esy</a></li>
<li><a href=3D"#6">OCaml User Survey 2020</a></li>
<li><a href=3D"#org191adec">Old CWN</a></li>
</ul>
</div>
</div>


<div id=3D"outline-container-orgdeac1a3" class=3D"outline-2">
<h2 id=3D"1">Dialo is hiring frontend and backend OCaml developers (Remote)=
</h2>
<div class=3D"outline-text-2" id=3D"text-1">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/dialo-is-hiring-frontend-an=
d-backend-ocaml-developers-remote/6604/1">https://discuss.ocaml.org/t/dialo=
-is-hiring-frontend-and-backend-ocaml-developers-remote/6604/1</a>
</p>
</div>

<div id=3D"outline-container-org77505b6" class=3D"outline-3">
<h3 id=3D"org77505b6">Wojtek Czekalski announced</h3>
<div class=3D"outline-text-3" id=3D"text-org77505b6">
<p>
<a href=3D"https://dialo.ai">Dialo</a> is an early stage company with an ex=
perienced founding team. Assembling a
team that consists of the best and brightest is our top priority. In the im=
mediate term we are building
a visual programming language for conversational AI. Our long term vision i=
s that personalized contact
we are enabling will cause deeper relationships between users and businesse=
s and turn all interactions
into a unified long term customer journey.
</p>

<p>
The work is quite demanding when it comes to both ideation and implementati=
on. We are aiming to provide
a room for growth both technically and/or as a leader. For current open sou=
rce maintainers we are
willing to sponsor your work on OSS for 20% of time.
</p>

<p>
We use OCaml for frontend and backend (along with Python for machine learni=
ng, natural language
processing). We are hiring people for different positions. Both people with=
 extensive experience and
newcomers are encouraged to apply. We try to find the sharpest people rathe=
r than checking boxes with
particular skills.
</p>

<p>
The official job posting:
<a href=3D"https://dialo.recruitee.com/o/software-developer-ocamlreason">ht=
tps://dialo.recruitee.com/o/software-developer-ocamlreason</a>
We are also hiring for two other (related) positions:
</p>
<ul class=3D"org-ul">
<li><a href=3D"https://dialo.recruitee.com/o/software-developer-frontend">h=
ttps://dialo.recruitee.com/o/software-developer-frontend</a></li>
<li><a href=3D"https://dialo.recruitee.com/o/software-developer-backend">ht=
tps://dialo.recruitee.com/o/software-developer-backend</a></li>
</ul>
</div>
</div>
</div>




<div id=3D"outline-container-org5954700" class=3D"outline-2">
<h2 id=3D"2">Progress 0.1.0</h2>
<div class=3D"outline-text-2" id=3D"text-2">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-progress-0-1-0/6607/1">=
https://discuss.ocaml.org/t/ann-progress-0-1-0/6607/1</a>
</p>
</div>

<div id=3D"outline-container-org7f08ad5" class=3D"outline-3">
<h3 id=3D"org7f08ad5">Craig Ferguson announced</h3>
<div class=3D"outline-text-3" id=3D"text-org7f08ad5">
<p>
I'm pleased to announce the first release of <a href=3D"https://github.com/=
CraigFe/progress/"><code>Progress</code></a>, now
available on Opam.
</p>


<div class=3D"figure">
<p><object type=3D"image/svg+xml" data=3D"https://raw.githubusercontent.com=
/CraigFe/progress/main/.meta/example.svg" class=3D"org-svg">
<img src=3D"https://raw.githubusercontent.com/CraigFe/progress/main/.meta/e=
xample.svg" class=3D"org-svg" /></object>
</p>
</div>

<p>
<code>Progress</code> is a small library for quickly defining and using pro=
gress bars in OCaml programs. It aims
to provide the following:
</p>

<ul class=3D"org-ul">
<li>support for rendering multiple progress bars simultaneously;</li>
<li>responds dynamically to changes in terminal size;</li>
<li>allows user-defined progress bar layouts.</li>
</ul>
</div>

<div id=3D"outline-container-org2427911" class=3D"outline-4">
<h4 id=3D"org2427911">Defining your own progress bars</h4>
<div class=3D"outline-text-4" id=3D"text-org2427911">
<p>
The example animation above uses a pre-provided progress bar layout that sh=
ould meet many needs
(<a href=3D"https://craigfe.github.io/progress/progress/Progress_unix/index=
.html#val-counter"><code>Progress_unix.counter</code></a>),
but it's fairly easy to re-define it ourselves using the low-level
<a href=3D"https://craigfe.github.io/progress/progress/Progress/Segment/ind=
ex.html"><code>Progress.Segment</code></a> API:
</p>

<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">let</span> <span style=3D"color: #0000ff;">counter</span> <span style=
=3D"color: #a0522d;">filename</span> =3D
  <span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #0000ff;">proportion</span> <span style=3D"color: #a0522d;">i</s=
pan> =3D <span style=3D"color: #228b22;">Int64.</span>to_float i /. 1_000_0=
00. <span style=3D"color: #000000; font-weight: bold;">in</span>
  <span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #000000; font-weight: bold;">open </span><span style=3D"color: #=
228b22;">Progress</span> <span style=3D"color: #000000; font-weight: bold;"=
>in</span>
  <span style=3D"color: #228b22;">Segment.</span>(
    list
      [
        const filename;
        <span style=3D"color: #228b22;">Units.</span>bytes of_pp;
        <span style=3D"color: #228b22;">Progress_unix.</span>stopwatch ();
        bar <span style=3D"color: #008b8b;">~mode</span>:<span style=3D"col=
or: #000000; background-color: #ffffff;">`ASCII</span> proportion;
        using proportion (<span style=3D"color: #228b22;">Units.</span>perc=
entage of_pp);
      ]
    <span style=3D"color: #a52a2a;">|&gt;</span> box_winsize <span style=3D=
"color: #008b8b;">~fallback</span>:80  <span style=3D"color: #b22222;">(* <=
/span><span style=3D"color: #b22222;">Dynamically scale to window size </sp=
an><span style=3D"color: #b22222;">*)</span>
    <span style=3D"color: #a52a2a;">|&gt;</span> periodic 100              =
<span style=3D"color: #b22222;">(* </span><span style=3D"color: #b22222;">R=
e-render once every 100 updates </span><span style=3D"color: #b22222;">*)</=
span>
    <span style=3D"color: #a52a2a;">|&gt;</span> accumulator <span style=3D=
"color: #228b22;">Int64.</span>add 0L  <span style=3D"color: #b22222;">(* <=
/span><span style=3D"color: #b22222;">Accumulate progress updates </span><s=
pan style=3D"color: #b22222;">*)</span>)
  <span style=3D"color: #a52a2a;">|&gt;</span> make <span style=3D"color: #=
008b8b;">~init</span>:0L
</pre>
</div>

<p>
The <code>Segment</code> combinators are similar to those of general-purpos=
e pretty-printing libraries (e.g.
<a href=3D"https://github.com/ocaml-dune/pp"><code>pp</code></a> and <a hre=
f=3D"https://erratique.ch/software/fmt"><code>fmt</code></a>), but are
equipped with extra logic for "stateful" segments and segments that can hav=
e dynamic width. Together,
these make for a convenient way to express common patterns when pretty-prin=
ting progress bars. For
instance, the stateful segment <code>periodic</code> seen above can be used=
 to ensure that very frequent updates
from a hot-loop do not result in too much time spent re-rendering the outpu=
t.
</p>

<p>
The library is not yet feature-complete, but should still be reasonably use=
ful :slightly_smiling_face:
Happy hacking!
</p>
</div>
</div>
</div>
</div>




<div id=3D"outline-container-org882a51f" class=3D"outline-2">
<h2 id=3D"3">Brr 0.0.1, a toolkit for programming browsers</h2>
<div class=3D"outline-text-2" id=3D"text-3">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-brr-0-0-1-a-toolkit-for=
-programming-browsers/6608/1">https://discuss.ocaml.org/t/ann-brr-0-0-1-a-t=
oolkit-for-programming-browsers/6608/1</a>
</p>
</div>

<div id=3D"outline-container-org77ebe1e" class=3D"outline-3">
<h3 id=3D"org77ebe1e">Daniel B=C3=BCnzli announced</h3>
<div class=3D"outline-text-3" id=3D"text-org77ebe1e">
<p>
I'd like to announce the first release of Brr.
</p>

<p>
The TL; DR is:
</p>
<blockquote>
<p>
If you are looking for a productive way to program browsers with js_of_ocam=
l but without ppx and
ghost OCaml objects, give Brr a try.
</p>
</blockquote>

<p>
The details:
</p>

<blockquote>
<p>
Brr is a toolkit for programming browsers in OCaml with the <a href=3D"http=
s://ocsigen.org/js_of_ocaml"><code>js_of_ocaml</code></a> compiler. It prov=
ides:
</p>
<ul class=3D"org-ul">
<li>Interfaces to a <a href=3D"https://erratique.ch/software/brr/doc/index.=
html#supported_apis">selection</a> of browser APIs.</li>
<li>Note based reactive support (optional and experimental).</li>
<li>An <a href=3D"https://erratique.ch/software/brr/doc/ocaml_console.html"=
>OCaml console</a> developer tool for live interaction with programs runnin=
g in web pages.</li>
<li>A JavaScript FFI for idiomatic OCaml programming.</li>
</ul>

<p>
Brr is distributed under the ISC license. It depends on <a href=3D"https://=
erratique.ch/software/note">Note</a> and on the <code>js_of_ocaml</code>
compiler and runtime =E2=80=93 but not on its libraries or syntax extension.
</p>
</blockquote>

<ul class=3D"org-ul">
<li>Homepage: <a href=3D"https://erratique.ch/software/brr">https://erratiq=
ue.ch/software/brr</a></li>
<li>API Docs &amp; manuals: <a href=3D"https://erratique.ch/software/brr/do=
c/">https://erratique.ch/software/brr/doc/</a> or <code>odig doc brr</code>=
</li>
<li>Install: <code>opam install brr</code></li>
</ul>

<p>
Brr is essentially what I need to be productive for browser programming wit=
h js_of_ocaml: an obvious
FFI with JavaScript objects as abstract data types without OCaml object pha=
ntom types and binding
documentation precisely linking into MDN.
</p>

<p>
The OCaml console is the hack on the cake. In the past I often found it fru=
strating to  have OCaml
programs running in my webpages and be greeted with a JavaScript  prompt in=
 the browser dev tools.
Quite a bit of polishing could be done on that  though. Some of which shoul=
d likely directly be done
upstream in the toplevel  machinery (e.g. identifier completion, a better t=
oploop API and support for
easy pretty printer installation). It would also be nice if we could cut do=
wn on <code>js_of_ocaml</code>'s
toplevel compilation times ;&#x2013;)
</p>

<p>
Parts of Brr have been seriously dogfooded in the past but that new incarna=
tion is largely untested for
now and certain APIs might need adjustements. Early adopters should study a=
ctual binding coverage,
expect glitches and little breakages in the future.
</p>

<p>
The Note reactive functionality was also seriously used in the past but Not=
e itself needs a new design
round and I don't have the ressources to do it right now, expect breakage, =
don't pay too much attention
to it for now.
</p>

<p>
My thanks to the <code>js_of_ocaml</code> developers for the nice ocaml to =
javascript compiler and a special
shootout to Hugo Heuzard for not getting mad at me when pinging him directl=
y for questions.
</p>

<p>
Happy browser compatibility bug hunting,
</p>
</div>
</div>


<div id=3D"outline-container-org00a1f68" class=3D"outline-3">
<h3 id=3D"org00a1f68">gasche asked</h3>
<div class=3D"outline-text-3" id=3D"text-org00a1f68">
<p>
It's not really released, but I'm curious about <a href=3D"https://erratiqu=
e.ch/software/note">Note</a> now: this is
a new FRP library from you, the author of <a href=3D"https://erratique.ch/s=
oftware/react">React</a> (the FRP library
for OCaml, not the Javascript framework of the same name).
</p>

<p>
Would you say a few words on why you went for a different library? My guess=
 would be that React depends
on runtime mechanisms (weak pointers) that are not well-supported in Javasc=
ript-lang; but even if the
guess is right, I'm not sure what would be the impact on the API or propert=
ies of the library.
</p>
</div>
</div>


<div id=3D"outline-container-orgadee36f" class=3D"outline-3">
<h3 id=3D"orgadee36f">Daniel B=C3=BCnzli replied</h3>
<div class=3D"outline-text-3" id=3D"text-orgadee36f">
<blockquote>
<p>
Would you say a few words on why you went for a different library?
</p>
</blockquote>

<p>
<code>Note</code> is the result from seeing people (and myself) struggling =
to use ~React~/FRP "correctly" over the
years.
</p>

<p>
Some of this, I largely attribute to ergonomic problems with the API. It's =
my hope for <code>Note</code> to
address most of these points (one thing that still needs to be done is repl=
ace fix points by a simple
lazy infinitesimal delay combinator).
</p>

<p>
I don't think I could have made all these changes in <code>React</code> its=
elf so I found it better to start a new
library. Also I lost the trademark on the name :&#x2013;)
</p>

<p>
<code>Note</code> also tries to provide a much simpler implementation. <cod=
e>React</code>'s implementation was based on the
<a href=3D"http://cs.brown.edu/people/ghcooper/thesis.pdf">FrTime Phd thesi=
s</a>. It's quite subtle and involved
and, as you suggested, uses weak pointer. <code>Note</code> tries to avoid =
them since those are not available in
the browser (but you have things like
<a href=3D"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserve=
r">MutationObservers</a> which I use as
gc in Brr's Note-based <a href=3D"https://erratique.ch/software/brr/doc/Brr=
_note/Elr/index.html">reactive dom
support</a>).
</p>

<p>
However not using weak pointers has a semantic uncleanness cost whose impac=
t I'm unsure yet =E2=80=93 without
discipline from the programmer it may lead to subtle and hard to track bugs=
 when the reactive graph
changes dynamically, which I'm a bit wary of.
</p>

<p>
When my brain dumped <code>Note</code> I wrote a few more technical points =
in the readme you can read them
<a href=3D"https://github.com/dbuenzli/note#history">here</a>.
</p>
</div>
</div>
</div>




<div id=3D"outline-container-org7d559f7" class=3D"outline-2">
<h2 id=3D"4">New release of Conduit</h2>
<div class=3D"outline-text-2" id=3D"text-4">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-new-release-of-conduit/=
6611/1">https://discuss.ocaml.org/t/ann-new-release-of-conduit/6611/1</a>
</p>
</div>

<div id=3D"outline-container-orgc9ab668" class=3D"outline-3">
<h3 id=3D"orgc9ab668">Calascibetta Romain announced</h3>
<div class=3D"outline-text-3" id=3D"text-orgc9ab668">
<p>
<b>Conduit 3.0.0</b>
</p>

<p>
Hello everyone,
</p>

<p>
We're glad to announce the new release of <a href=3D"https://github.com/mir=
age/ocaml-conduit"><code>conduit</code></a>, a framework  that allows to <s=
pan class=3D"underline">abstract</span>
over transfer protocols. One of its main advantages  is allowing the implem=
ententation of
<span class=3D"underline">free-dependencies</span> protocols.
</p>
</div>

<div id=3D"outline-container-orgb0535fb" class=3D"outline-4">
<h4 id=3D"orgb0535fb">Introduction</h4>
<div class=3D"outline-text-4" id=3D"text-orgb0535fb">
<p>
There are several ways to abstract over an implementation in OCaml. However=
, those solutions are often
lost deep in the stack of protocols and allowing the user to choose the imp=
lementations of the
sub-procotols implies growing complexity as we move up through the stack. (=
For example, allowing to
abstract over the implementation of the TLS protocol from the implementatio=
n of the HTTP protocol)
</p>

<p>
One of those solutions, the <span class=3D"underline">functors</span>, can =
rapidly become a hellish nightmare for the end-user. This
is especially true in the case of MirageOS, which literally wants to abstra=
ct over everything!
</p>

<p>
This is why Conduit was implemented: it aims to provide to the user a clean=
er abstraction mechanism
which would allow the protocol developers to get rid of most of the respons=
ibilities concerning the
choice of sub-protocols (Like which TLS implementation use between OpenSSL =
or our great
<a href=3D"https://github.com/mirleft/ocaml-tls">ocaml-tls</a> library), wh=
ile giving the end-users an easy way to compose the protocols of
their choice and inject them in the stack via conduit.
</p>
</div>
</div>

<div id=3D"outline-container-org7f738cb" class=3D"outline-4">
<h4 id=3D"org7f738cb">Usage of Conduit</h4>
<div class=3D"outline-text-4" id=3D"text-org7f738cb">
<p>
Such a framework allows us to separate the logic of a protocol from underly=
ing implementation needed to
communicate with a peer. The distribution of Conduit comes with <a href=3D"=
https://mirage.github.io/ocaml-conduit/conduit/howto.html">a simple tutoria=
l</a> which
explains step by step how to implement a <span class=3D"underline">ping-pon=
g</span> client &amp; server and, most importantly, how to
upgrade them with TLS.
</p>

<p>
With Conduit, we ensure the compatibility with MirageOS (and specially <a h=
ref=3D"https://github.com/mirage/mirage-tcpip">mirage-tcpip</a>)
while being useful for others. Of course, Conduit is not mandatory to ensur=
e this compatibility, but it
helps us for <span class=3D"underline">higher</span> libraries such as <a h=
ref=3D"https://github.com/mirage/ocaml-git">ocaml-git</a>/<a href=3D"https:=
//github.com/mirage/irmin">Irmin</a> or <a href=3D"https://github.com/mirag=
e/ocaml-cohttp">Cohttp</a>.
</p>
</div>
</div>

<div id=3D"outline-container-orgb059e21" class=3D"outline-4">
<h4 id=3D"orgb059e21">Specific improvements</h4>
<div class=3D"outline-text-4" id=3D"text-orgb059e21">
</div>
<ul class=3D"org-ul">
<li><a id=3D"org6bc4ef6"></a>Abstract and destruct it!<br />
<div class=3D"outline-text-5" id=3D"text-org6bc4ef6">
<p>
The most requested feature on the new version of Conduit is the ability to =
<span class=3D"underline">destruct</span> the
[Conduit.flow][conduit-flow]. The ability to abstract the protocol comes wi=
th the <span class=3D"underline">abstract</span> type
<code>Conduit.flow</code>. The new version permits to <span class=3D"underl=
ine">destruct</span> it to a well-known value (such as an UNIX
socket):
</p>

<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">let</span> <span style=3D"color: #0000ff;">handler</span> <span style=
=3D"color: #a0522d;">flow</span> =3D <span style=3D"color: #a020f0;">match<=
/span> flow <span style=3D"color: #a020f0;">with</span>
  | <span style=3D"color: #228b22;">Conduit_lwt.TCP.</span><span style=3D"c=
olor: #000000; background-color: #ffffff;">T</span> (<span style=3D"color: =
#000000; background-color: #ffffff;">Value</span> file_descr) -&gt;
    <span style=3D"color: #000000; font-weight: bold;">let</span> <span sty=
le=3D"color: #a0522d;">peer</span> =3D <span style=3D"color: #228b22;">Lwt_=
unix.</span>getpeername file_descr <span style=3D"color: #000000; font-weig=
ht: bold;">in</span>
    ...
  | flow -&gt; ... <span style=3D"color: #b22222;">(* </span><span style=3D=
"color: #b22222;">other kind of protocol </span><span style=3D"color: #b222=
22;">*)</span>

<span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #a0522d;">run</span> =3D
  <span style=3D"color: #228b22;">Cohttp_lwt_unix.</span>serve ~handler
    { sockaddr=3D <span style=3D"color: #228b22;">Unix.</span>inet_addr_loo=
pback }
</pre>
</div>
</div>
</li>

<li><a id=3D"orgf4765f5"></a>The dispatch of the protocol<br />
<div class=3D"outline-text-5" id=3D"text-orgf4765f5">
<p>
The second most interesting feature of Conduit is the full control over the=
 dispatch between protocols
by the end-user. From a concrete information such as an <code>Uri.t</code>,=
 the end-user is able to describe how
Conduit should choose the protocol (and with which value it should try to i=
nitiate the connection):
</p>

<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">let</span> <span style=3D"color: #a0522d;">my_tls_config</span> =3D <s=
pan style=3D"color: #228b22;">Tls.Config.</span>client ...

<span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #0000ff;">connect</span> <span style=3D"color: #a0522d;">uri</sp=
an> =3D
  <span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #a0522d;">edn</span> =3D <span style=3D"color: #228b22;">Conduit=
.Endpoint.</span>of_string
    (<span style=3D"color: #228b22;">Uri.</span>host_with_default <span sty=
le=3D"color: #008b8b;">~default</span>:<span style=3D"color: #8b2252;">"loc=
alhost"</span> uri) <span style=3D"color: #000000; font-weight: bold;">in</=
span>
  <span style=3D"color: #000000; font-weight: bold;">let</span> <span style=
=3D"color: #a0522d;">resolvers</span> =3D <span style=3D"color: #a020f0;">m=
atch</span> <span style=3D"color: #228b22;">Uri.</span>scheme uri <span sty=
le=3D"color: #a020f0;">with</span>
    | <span style=3D"color: #000000; background-color: #ffffff;">Some</span=
> <span style=3D"color: #8b2252;">"https"</span> -&gt;
      <span style=3D"color: #000000; font-weight: bold;">let</span> <span s=
tyle=3D"color: #a0522d;">port</span> =3D <span style=3D"color: #228b22;">Op=
tion.</span>value <span style=3D"color: #008b8b;">~default</span>:443 (<spa=
n style=3D"color: #228b22;">Uri.</span>port uri) <span style=3D"color: #000=
000; font-weight: bold;">in</span>
      <span style=3D"color: #228b22;">Conduit_lwt.</span>add
        <span style=3D"color: #228b22;">Conduit_lwt_tls.TCP.</span>protocol
        (<span style=3D"color: #228b22;">Conduit_lwt_tls.TCP.</span>resolve=
 ~port <span style=3D"color: #008b8b;">~config</span>:my_tls_config)
        <span style=3D"color: #228b22;">Conduit.</span>empty
    | <span style=3D"color: #000000; background-color: #ffffff;">Some</span=
> <span style=3D"color: #8b2252;">"http"</span> | <span style=3D"color: #00=
0000; background-color: #ffffff;">None</span> -&gt;
      <span style=3D"color: #000000; font-weight: bold;">let</span> <span s=
tyle=3D"color: #a0522d;">port</span> =3D <span style=3D"color: #228b22;">Op=
tion.</span>value <span style=3D"color: #008b8b;">~default</span>:80 (<span=
 style=3D"color: #228b22;">Uri.</span>port uri) <span style=3D"color: #0000=
00; font-weight: bold;">in</span>
      <span style=3D"color: #228b22;">Conduit_lwt.</span>add
        <span style=3D"color: #228b22;">Conduit_lwt.TCP.</span>protocol
        (<span style=3D"color: #228b22;">Conduit_lwt.TCP.</span>resolve ~po=
rt)
        <span style=3D"color: #228b22;">Conduit.</span>empty <span style=3D=
"color: #000000; font-weight: bold;">in</span>
  <span style=3D"color: #228b22;">Conduit_lwt.</span>resolve ~resolvers edn=
 &gt;&gt;=3D <span style=3D"color: #a020f0;">fun</span> <span style=3D"colo=
r: #a0522d;">flow</span> -&gt;
  ...
</pre>
</div>
</div>
</li>

<li><a id=3D"orgfa79af7"></a>An explicit way to launch a server<br />
<div class=3D"outline-text-5" id=3D"text-orgfa79af7">
<p>
Conduit comes with a new API for the server-side, where everything becomes =
explicit: no dispatch, no
hidden choice. It proposes now a simple function to start the usual server =
loop:
</p>

<div class=3D"org-src-container">
<pre class=3D"src src-ocaml"><span style=3D"color: #000000; font-weight: bo=
ld;">let</span> <span style=3D"color: #0000ff;">run</span> <span style=3D"c=
olor: #a0522d;">handler</span> =3D
  <span style=3D"color: #228b22;">Conduit_lwt.</span>serve ~handler
    <span style=3D"color: #228b22;">Conduit_lwt.TCP.</span>service
    { <span style=3D"color: #228b22;">Conduit_lwt.TCP.</span>sockaddr=3D <s=
pan style=3D"color: #228b22;">Unix.</span>(<span style=3D"color: #000000; b=
ackground-color: #ffffff;">ADDR_INET</span> (inet_addr_loopback, 8080)
    ; capacity=3D 40 }
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id=3D"outline-container-org1926429" class=3D"outline-4">
<h4 id=3D"org1926429">Reverse-dependencies</h4>
<div class=3D"outline-text-4" id=3D"text-org1926429">
<p>
Conduit is used by many libraries (~150 packages) and we spend 2 months to =
track this breaking-change.
Currently, it's mostly about <a href=3D"https://github.com/mirage/ocaml-coh=
ttp">Cohttp</a> and <a href=3D"https://github.com/mirage/irmin">Irmin</a> a=
nd both have a PR according the new
version of Conduit. These packages will be released as soon as we can with =
the new version of Conduit.
</p>
</div>
</div>

<div id=3D"outline-container-orgb59f4b1" class=3D"outline-4">
<h4 id=3D"orgb59f4b1">Conclusion</h4>
<div class=3D"outline-text-4" id=3D"text-orgb59f4b1">
<p>
Conduit is a piece required by many libraries but nobody really uses it. Th=
is new version wants to
replace and redefine more concretely what Conduit is. The update is <a href=
=3D"https://github.com/mirage/ocaml-conduit/pull/311">huge</a> for us but s=
mall
for people where we tried to keep the same global idea of the abstraction.
</p>

<p>
I would like to thank many people (MirageOS core team, Cohttp peoples, some=
 not so famous guys of the
Reason/OCaml eco-system) who followed us on this deep development (and trie=
d and iterated on our
version). It does not change too much our world, but it paves the way for a=
 better MirageOS/OCaml
eco-system.
</p>

<p>
As a french guy, I just would like to say: Conduit est mort, Vive Conduit!
</p>
</div>
</div>
</div>
</div>




<div id=3D"outline-container-org16b8edd" class=3D"outline-2">
<h2 id=3D"5">Easy cross compilation using esy</h2>
<div class=3D"outline-text-2" id=3D"text-5">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-easy-cross-compilation-=
using-esy/6612/1">https://discuss.ocaml.org/t/ann-easy-cross-compilation-us=
ing-esy/6612/1</a>
</p>
</div>

<div id=3D"outline-container-org90125cf" class=3D"outline-3">
<h3 id=3D"org90125cf">EduardoRFS announced</h3>
<div class=3D"outline-text-3" id=3D"text-org90125cf">
<p>
I've been working on this for a couple of months now, and now it is ready f=
or an initial announcement
of my tools to cross compiling OCaml and ReasonML Native.
</p>

<p>
<a href=3D"https://github.com/EduardoRFS/reason-mobile">https://github.com/=
EduardoRFS/reason-mobile</a>
</p>
</div>

<div id=3D"outline-container-orgc867de2" class=3D"outline-4">
<h4 id=3D"orgc867de2">What it can do</h4>
<div class=3D"outline-text-4" id=3D"text-orgc867de2">
<p>
Out of box it can cross compile most dune and topkg, packages available on =
opam for a couple of
platforms, there is also patches for popular packages.
</p>

<p>
You can also compile opam packages by making an wrapper, like
</p>

<p>
<a href=3D"https://github.com/mirage/mirage-crypto/pull/84/files">https://g=
ithub.com/mirage/mirage-crypto/pull/84/files</a>
</p>
</div>
</div>

<div id=3D"outline-container-orgae87b9c" class=3D"outline-4">
<h4 id=3D"orgae87b9c">Limitations</h4>
<div class=3D"outline-text-4" id=3D"text-orgae87b9c">
<p>
Your package should build with OCaml 4.10, and all the packages that are bu=
ilt for the <code>host</code> will also
be build for the <code>target</code>, so sometimes you need to fix a packag=
e that you will not use directly.
</p>

<p>
Some packages you will need to pin to a <code>dune-universe</code> fork ver=
sion
</p>
</div>
</div>

<div id=3D"outline-container-org88d3eae" class=3D"outline-4">
<h4 id=3D"org88d3eae">How to use it</h4>
<div class=3D"outline-text-4" id=3D"text-org88d3eae">
<div class=3D"org-src-container">
<pre class=3D"src src-shell"><span style=3D"color: #b22222;">## </span><spa=
n style=3D"color: #b22222;">compile your project</span>
esy

<span style=3D"color: #b22222;">## </span><span style=3D"color: #b22222;">g=
enerate the wrapper</span>
esy add -D generate@EduardoRFS/reason-mobile:generate.json
esy generate android.arm64

<span style=3D"color: #b22222;">## </span><span style=3D"color: #b22222;">b=
uild for android.arm64</span>
esy @android.arm64
</pre>
</div>
</div>
</div>

<div id=3D"outline-container-org6f846d5" class=3D"outline-4">
<h4 id=3D"org6f846d5">Platforms</h4>
<div class=3D"outline-text-4" id=3D"text-org6f846d5">
<p>
All of the following are tested from Linux and macOS, but I would suppose t=
hat FreeBSD should be also
working as a build system.
</p>

<table border=3D"2" cellspacing=3D"0" cellpadding=3D"6" rules=3D"groups" fr=
ame=3D"hsides">


<colgroup>
<col  class=3D"org-left" />
</colgroup>
<thead>
<tr>
<th scope=3D"col" class=3D"org-left">Targets</th>
</tr>
</thead>
<tbody>
<tr>
<td class=3D"org-left">android.arm64</td>
</tr>

<tr>
<td class=3D"org-left">android.x86_64</td>
</tr>

<tr>
<td class=3D"org-left">ios.arm64</td>
</tr>

<tr>
<td class=3D"org-left">ios.simulator.x86_64</td>
</tr>

<tr>
<td class=3D"org-left">linux.musl.arm64</td>
</tr>

<tr>
<td class=3D"org-left">linux.musl.x86_64</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id=3D"outline-container-orgf117785" class=3D"outline-4">
<h4 id=3D"orgf117785">What I tested</h4>
<div class=3D"outline-text-4" id=3D"text-orgf117785">
<p>
In the past I was able to build <code>Revery</code> the UI framework for <c=
ode>Android</code> and <code>iOS</code>
</p>

<p>
But recently I did compile <code>esy</code> the package manager itself for =
all of the following platforms above
from an <code>Arch Linux x86_64</code> and <code>macOS Catalina x86_64</cod=
e>. Including <code>iOS</code>, with the right version of
OCaml it will run inside of the new <code>macOS ARM64</code> and inside of =
a jailbroken iPhone.
</p>
</div>
</div>
</div>
</div>




<div id=3D"outline-container-orgedae14d" class=3D"outline-2">
<h2 id=3D"6">OCaml User Survey 2020</h2>
<div class=3D"outline-text-2" id=3D"text-6">
<p>
Archive: <a href=3D"https://discuss.ocaml.org/t/ann-ocaml-user-survey-2020/=
6624/1">https://discuss.ocaml.org/t/ann-ocaml-user-survey-2020/6624/1</a>
</p>
</div>

<div id=3D"outline-container-org5f2a628" class=3D"outline-3">
<h3 id=3D"org5f2a628">gasche announced</h3>
<div class=3D"outline-text-3" id=3D"text-org5f2a628">
<p>
We are happy to announce the <a href=3D"https://forms.gle/MAT7ZE7RtxTWuNgK7=
">OCaml User Survey 2020</a>. We are trying to get a better picture of the
OCaml community and its needs. It would be very useful if you could fill th=
e survey (10-15 minutes),
and share it widely with other OCaml programmers!
</p>

<p>
The survey is run by the <a href=3D"https://ocaml-sf.org/">OCaml Software F=
oundation</a>. Thanks in particular to
our sponsors OCamlPro (@MuSSF) for preparing many of the questions, Jane St=
reet (@Yaron_Minsky) for
excellent feedback, and to Kim @K_N Nguy=E1=BB=85n for his technical help.
</p>

<p>
This is our first year running the survey, we hope to continue in following=
 years. There are many
things to improve; please feel free to give us feedback! (There is a feedba=
ck question at the end of
the survey, or you can post here, or send me a message/email.)
</p>

<p>
The survey was inspired by programming-language surveys ran by other commun=
ities. See for example past
survey results for <a href=3D"https://blog.golang.org/survey2019-results">G=
o</a>, <a href=3D"https://taylor.fausak.me/2019/11/16/haskell-survey-result=
s/">Haskell</a>, <a href=3D"https://blog.rust-lang.org/2020/04/17/Rust-surv=
ey-2019.html">Rust</a>, and <a href=3D"https://scalacenter.github.io/scala-=
developer-survey-2019/">Scala</a>.
</p>
</div>
</div>
</div>




<div id=3D"outline-container-org191adec" class=3D"outline-2">
<h2 id=3D"org191adec">Old CWN</h2>
<div class=3D"outline-text-2" id=3D"text-org191adec">
<p>
If you happen to miss a CWN, you can <a href=3D"mailto:alan.schmitt@polytec=
hnique.org">send me a message</a> and I'll mail it to you, or go take a loo=
k at <a href=3D"http://alan.petitepomme.net/cwn/">the archive</a> or the <a=
 href=3D"http://alan.petitepomme.net/cwn/cwn.rss">RSS feed of the archives<=
/a>.
</p>

<p>
If you also wish to receive it every week by mail, you may subscribe <a hre=
f=3D"http://lists.idyll.org/listinfo/caml-news-weekly/">online</a>.
</p>

<div class=3D"authorname">
<p>
<a href=3D"http://alan.petitepomme.net/">Alan Schmitt</a>
</p>

</div>
</div>
</div>
</div>
</body>
</html>


--=-=-=--

