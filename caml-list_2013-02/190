Return-Path: <gabriel.scherer@gmail.com>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail3-relais-sop.national.inria.fr (mail3-relais-sop.national.inria.fr [192.134.164.104])
	by sympa.inria.fr (Postfix) with ESMTPS id 57B267F30A
	for <caml-list@sympa.inria.fr>; Mon, 25 Feb 2013 10:03:44 +0100 (CET)
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  gabriel.scherer@gmail.com) identity=pra;
  client-ip=209.85.214.48;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="gabriel.scherer@gmail.com";
  x-conformance=sidf_compatible
Received-SPF: Pass (mail3-smtp-sop.national.inria.fr: domain of
  gabriel.scherer@gmail.com designates 209.85.214.48 as
  permitted sender) identity=mailfrom; client-ip=209.85.214.48;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="gabriel.scherer@gmail.com";
  x-conformance=sidf_compatible; x-record-type="v=spf1"
Received-SPF: None (mail3-smtp-sop.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@mail-bk0-f48.google.com) identity=helo;
  client-ip=209.85.214.48;
  receiver=mail3-smtp-sop.national.inria.fr;
  envelope-from="gabriel.scherer@gmail.com";
  x-sender="postmaster@mail-bk0-f48.google.com";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AnMEAH4nK1HRVdYwbWdsb2JhbABFr1iJVwGII3wIFg4WCwgBEgYjgh8BAQQBQAEbEgsBAwELBgUEBw0NISIBEQEFAQoSBhMICoduAQMJBgygKIwygnuEAgoZJwMKWYhGAQUMjn4EB4NAA5Y9gR2NZhYphCs
X-IPAS-Result: AnMEAH4nK1HRVdYwbWdsb2JhbABFr1iJVwGII3wIFg4WCwgBEgYjgh8BAQQBQAEbEgsBAwELBgUEBw0NISIBEQEFAQoSBhMICoduAQMJBgygKIwygnuEAgoZJwMKWYhGAQUMjn4EB4NAA5Y9gR2NZhYphCs
X-IronPort-AV: E=Sophos;i="4.84,733,1355094000"; 
   d="scan'208";a="3339016"
Received: from mail-bk0-f48.google.com ([209.85.214.48])
  by mail3-smtp-sop.national.inria.fr with ESMTP/TLS/RC4-SHA; 25 Feb 2013 10:03:43 +0100
Received: by mail-bk0-f48.google.com with SMTP id jf20so1167132bkc.35
        for <caml-list@inria.fr>; Mon, 25 Feb 2013 01:03:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-received:mime-version:in-reply-to:references:from:date:message-id
         :subject:to:cc:content-type;
        bh=zXyunCLSxVidRSMPfG2rUe4IIrgvcaGMaULsemaieGs=;
        b=BfjRM3xvoyJPhdP4Q42vPnLgTaLL07GYGagWgHg719JB06n5dT6vTjOvCk0XSioUAK
         8AQVHuPp6xIwGZqraJlpkn/YURVQYtKBSAugufFEpz7mhTead/umd74xeilMogJe443e
         wg9Ax1xkk9hNtqlswPtVH5nosEdXJWMVMFVnEzI2A+0XEb6CIwA18GdeD6A+uY45pHTC
         iyw+4CbRy37FPThNWEH7/Q4V1nlagLGI1E4PJdnNG1CCep2U4pRK1J6iLaYgbw1jx7rq
         qkhHc1kVr+OTk2MfecuKkrJWZNJUoWiw33d1rmk2BclWV2AdZ5vcxbph0lJTk2L4ouR+
         Ugwg==
X-Received: by 10.204.9.16 with SMTP id j16mr4529857bkj.53.1361783022949; Mon,
 25 Feb 2013 01:03:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.205.83.144 with HTTP; Mon, 25 Feb 2013 01:03:02 -0800 (PST)
In-Reply-To: <20130225080725.GB4196@kerneis.info>
References: <20130218072233.GA15780@siouxsie> <CAJBwKuUzOa+SwJ=EKw_+X5zRhe6zzt_krzmGcpqjmohtZHXihg@mail.gmail.com>
 <20130225005039.GA8816@siouxsie> <512ABDCA.1020200@riken.jp>
 <20130225020909.GA12988@siouxsie> <20130225080725.GB4196@kerneis.info>
From: Gabriel Scherer <gabriel.scherer@gmail.com>
Date: Mon, 25 Feb 2013 10:03:02 +0100
Message-ID: <CAPFanBGmU8KBBYz++ttpJTXeHOMsJog8EPkBd8tC5egxsT6AHg@mail.gmail.com>
To: Gabriel Kerneis <kerneis@pps.jussieu.fr>
Cc: oliver <oliver@first.in-berlin.de>, Francois Berenger <berenger@riken.jp>, caml-list@inria.fr
Content-Type: multipart/alternative; boundary=00151758ae9658182304d688d168
Subject: Re: [Caml-list] Old and new OCaml installed on same machine?


--00151758ae9658182304d688d168
Content-Type: text/plain; charset=ISO-8859-1

While I don't like the form in which oliver's remark is expressed, I do
agree that the interface with non-OCaml libraries could be improved. First,
it is strange that not having a C library would fail during the compilation
step (with a non-obvious error message hidden in a sea of text) rather than
the configure step, which is precisely meant to detect this kind of missing
requirements. Second, GODI has a rather nice way to handle external
libraries (they are represented as specific virtualish packages that are
explicitly marked as represented an external dependency, and make it clear
what should be installed for a specific package) and handles configuration
nicely. I would expect the same of OPAM.

On Mon, Feb 25, 2013 at 9:07 AM, Gabriel Kerneis <kerneis@pps.jussieu.fr>wrote:

> Oliver,
>
> On Mon, Feb 25, 2013 at 03:09:09AM +0100, oliver wrote:
> > I have
> >   libcurl-ocaml
> > and
> >   libcurl-ocaml-dev
> > installed.
>
> I guess you need to install libcurl-dev as well.
>
> > But even if not, OPAM should install the needed stuff.
> > Thats what the command "opam install ocurl" has to do.
>
> I disagree: opam should not install package outside of its scope (i.e.
> OCaml
> packages).  You are trying to install an OCaml binding to the libcurl C
> library,
> it seems fair to expect that you have the latter installed already.
>
> > If it fails, the infrastructure is not working
> > properly.
>
> On the other hand, a more friendly error-message would be welcome (but
> this is a
> libcurl issue, not an opam one).
>
> Best,
> --
> Gabriel
>
> --
> Caml-list mailing list.  Subscription management and archives:
> https://sympa.inria.fr/sympa/arc/caml-list
> Beginner's list: http://groups.yahoo.com/group/ocaml_beginners
> Bug reports: http://caml.inria.fr/bin/caml-bugs
>

--00151758ae9658182304d688d168
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

While I don&#39;t like the form in which oliver&#39;s remark is expressed, =
I do agree that the interface with non-OCaml libraries could be improved. F=
irst, it is strange that not having a C library would fail during the compi=
lation step (with a non-obvious error message hidden in a sea of text) rath=
er than the configure step, which is precisely meant to detect this kind of=
 missing requirements. Second, GODI has a rather nice way to handle externa=
l libraries (they are represented as specific virtualish packages that are =
explicitly marked as represented an external dependency, and make it clear =
what should be installed for a specific package) and handles configuration =
nicely. I would expect the same of OPAM.<br>

<br><div class=3D"gmail_quote">On Mon, Feb 25, 2013 at 9:07 AM, Gabriel Ker=
neis <span dir=3D"ltr">&lt;<a href=3D"mailto:kerneis@pps.jussieu.fr" target=
=3D"_blank">kerneis@pps.jussieu.fr</a>&gt;</span> wrote:<br><blockquote cla=
ss=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;pa=
dding-left:1ex">

Oliver,<br>
<div class=3D"im"><br>
On Mon, Feb 25, 2013 at 03:09:09AM +0100, oliver wrote:<br>
&gt; I have<br>
&gt; =A0 libcurl-ocaml<br>
&gt; and<br>
&gt; =A0 libcurl-ocaml-dev<br>
&gt; installed.<br>
<br>
</div>I guess you need to install libcurl-dev as well.<br>
<div class=3D"im"><br>
&gt; But even if not, OPAM should install the needed stuff.<br>
&gt; Thats what the command &quot;opam install ocurl&quot; has to do.<br>
<br>
</div>I disagree: opam should not install package outside of its scope (i.e=
. OCaml<br>
packages). =A0You are trying to install an OCaml binding to the libcurl C l=
ibrary,<br>
it seems fair to expect that you have the latter installed already.<br>
<div class=3D"im"><br>
&gt; If it fails, the infrastructure is not working<br>
&gt; properly.<br>
<br>
</div>On the other hand, a more friendly error-message would be welcome (bu=
t this is a<br>
libcurl issue, not an opam one).<br>
<br>
Best,<br>
<span class=3D"HOEnZb"><font color=3D"#888888">--<br>
Gabriel<br>
</font></span><div class=3D"HOEnZb"><div class=3D"h5"><br>
--<br>
Caml-list mailing list. =A0Subscription management and archives:<br>
<a href=3D"https://sympa.inria.fr/sympa/arc/caml-list" target=3D"_blank">ht=
tps://sympa.inria.fr/sympa/arc/caml-list</a><br>
Beginner&#39;s list: <a href=3D"http://groups.yahoo.com/group/ocaml_beginne=
rs" target=3D"_blank">http://groups.yahoo.com/group/ocaml_beginners</a><br>
Bug reports: <a href=3D"http://caml.inria.fr/bin/caml-bugs" target=3D"_blan=
k">http://caml.inria.fr/bin/caml-bugs</a><br>
</div></div></blockquote></div><br>

--00151758ae9658182304d688d168--
