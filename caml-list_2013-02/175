Return-Path: <anil@recoil.org>
X-Original-To: caml-list@sympa.inria.fr
Delivered-To: caml-list@sympa.inria.fr
Received: from mail2-relais-roc.national.inria.fr (mail2-relais-roc.national.inria.fr [192.134.164.83])
	by sympa.inria.fr (Postfix) with ESMTPS id D8EB67EE49
	for <caml-list@sympa.inria.fr>; Fri, 22 Feb 2013 14:17:53 +0100 (CET)
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  anil@recoil.org) identity=pra; client-ip=89.16.177.154;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="anil@recoil.org"; x-sender="anil@recoil.org";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  anil@recoil.org) identity=mailfrom; client-ip=89.16.177.154;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="anil@recoil.org"; x-sender="anil@recoil.org";
  x-conformance=sidf_compatible
Received-SPF: None (mail2-smtp-roc.national.inria.fr: no sender
  authenticity information available from domain of
  postmaster@dark.recoil.org) identity=helo;
  client-ip=89.16.177.154;
  receiver=mail2-smtp-roc.national.inria.fr;
  envelope-from="anil@recoil.org";
  x-sender="postmaster@dark.recoil.org";
  x-conformance=sidf_compatible
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AkICAIdvJ1FZELGagWdsb2JhbABEhk66VYEdDgEBFiYngh8BAQQBI1YFCwsYAgImAgIhNgYTiAADCQqtDIhhDYlOgSOLFIEjgQEzB4ItMmEDknoDgWCBXYtMiB6Baw
X-IPAS-Result: AkICAIdvJ1FZELGagWdsb2JhbABEhk66VYEdDgEBFiYngh8BAQQBI1YFCwsYAgImAgIhNgYTiAADCQqtDIhhDYlOgSOLFIEjgQEzB4ItMmEDknoDgWCBXYtMiB6Baw
X-IronPort-AV: E=Sophos;i="4.84,715,1355094000"; 
   d="scan'208";a="4074372"
Received: from recoil.dh.bytemark.co.uk (HELO dark.recoil.org) ([89.16.177.154])
  by mail2-smtp-roc.national.inria.fr with SMTP; 22 Feb 2013 14:17:53 +0100
Received: (qmail 20982 invoked by uid 634); 22 Feb 2013 13:17:53 -0000
X-Spam-Level: *
X-Spam-Check-By: dark.recoil.org
Received: from volstagg-0.srg.cl.cam.ac.uk (HELO [10.0.1.83]) (128.232.32.232)
  (smtp-auth username remote@recoil.org, mechanism cram-md5)
  by dark.recoil.org (qpsmtpd/0.84) with ESMTPA; Fri, 22 Feb 2013 13:17:52 +0000
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Mac OS X Mail 6.2 \(1499\))
From: Anil Madhavapeddy <anil@recoil.org>
In-Reply-To: <CAMfPyLCoc_vyF=aiNW0UKRaKmUVS2kbwmJJbtqiUe3v40yUR7w@mail.gmail.com>
Date: Fri, 22 Feb 2013 13:17:49 +0000
Cc: =?utf-8?Q?=C3=96mer_Sinan_A=C4=9Facan?= <omeragacan@gmail.com>,
 OCaml <caml-list@inria.fr>
Content-Transfer-Encoding: quoted-printable
Message-Id: <39EAE3CD-079C-4546-AA7E-4124E794288B@recoil.org>
References: <CAMQQO3kUzEC1z8_H_Wvnmip-ybsUXAwy3-vHfBdXXR5a1WC2OA@mail.gmail.com> <D6B8B2ED-4CDF-4859-BFB9-DCEE4F58F059@recoil.org> <CAMQQO3nwVMSh5+KEXgWYTF_ejDtykgbJjWVUpbr3AseK+ca6wg@mail.gmail.com> <9887FE99-F0FA-4F3A-B415-D54A610E93B7@recoil.org> <CAMfPyLCoc_vyF=aiNW0UKRaKmUVS2kbwmJJbtqiUe3v40yUR7w@mail.gmail.com>
To: "Hezekiah M. Carty" <hez@0ok.org>
X-Mailer: Apple Mail (2.1499)
X-Virus-Checked: Checked by ClamAV on dark.recoil.org
Subject: Re: [Caml-list] opam package problem - can't install easy-format

On 22 Feb 2013, at 12:25, "Hezekiah M. Carty" <hez@0ok.org> wrote:

> On Fri, Feb 22, 2013 at 7:12 AM, Anil Madhavapeddy <anil@recoil.org> wrot=
e:
>> On 22 Feb 2013, at 12:08, =C3=96mer Sinan A=C4=9Facan <omeragacan@gmail.=
com> wrote:
>>>=20
>>>> It's likely that you don't have the latest version of OPAM (0.9.3), si=
nce
>>>> patch handling was changed to make it more robust.  Do also let us know
>>>> the compiler version you are running with in the bug report.
>>>=20
>>> You're right. I was still using a beta version of it even though I run
>>> `opam upgrade`. Now I installed 0.9.3 and installation worked fine.
>>=20
>> OPAM doesn't upgrade itself, although we did flirt with the idea in the
>> early versions.  This will all cease to be a problem when the binary
>> packages start flowing (already the case in Arch Linux, and soon a PPA
>> on Ubuntu).
>>=20
>=20
> Given this lack of support - what is the proper way to upgrade opam?
> Does it require using a different opam root?  Is there an easy way to
> dump the currently installed compilers + packages and easily ingest
> this list into an upgraded opam?

Just reinstall OPAM the same you installed it, and then 'opam update'
to get the latest packages, and 'opam upgrade' to perform the actual
update.

-anil

